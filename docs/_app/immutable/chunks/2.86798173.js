import{s as ae,f as M,e as X,B as Ac,g as C,d as y,j as p,u as k,v as re,C as me,i as N,h as E,A as q,l as Y,a as L,m as Q,c as j,D as ue,E as de,n as ce,F as bi,G as ai,I as Re,J as we,o as it,q as ki,k as $,K as Ti,L as Ie,M as Mi,N as Fc,O as Me,P as Xe,H as Gn,r as Kn,Q as pe,R as Zr,w as qe,S as oa,x as Ge,y as Ke,z as xe,p as ht,T as st,U as ke,V as Te,W as Ze,X as Dc,Y as ii,Z as Nl,_ as Xr,$ as Ci,a0 as pn,a1 as si}from"./scheduler.761e945d.js";import{S as ie,i as se,f as Ce,a as S,g as te,t as D,c as ne,b as K,d as J,m as x,e as U,h as la,n as Nc,l as Rc,j as Rl,k as oi}from"./index.ac16b8ad.js";import{e as Z,d as Ic,S as $r,r as Il,c as zc,a as Bc,b as Vc,i as Ka,f as Si,g as xa,h as Wc,t as Lc,j as jc,I as Pi,k as Oc,l as Hc,m as zl,u as qc,n as Gc}from"./transform.581597b4.js";import{w as oe,d as ve}from"./index.069f8bdc.js";import{_ as Kc}from"./preload-helper.a4192956.js";function ca(t,e){const r={},n={},a={$$scope:1};let i=t.length;for(;i--;){const s=t[i],o=e[i];if(o){for(const l in s)l in o||(n[l]=1);for(const l in o)a[l]||(r[l]=o[l],a[l]=1);t[i]=o}else for(const l in s)a[l]=1}for(const s in n)s in r||(r[s]=void 0);return r}function Bl(t){return typeof t=="object"&&t!==null?t:{}}function Ei(t,e,r){const n=t.slice();return n[5]=e[r],n}function Ai(t){let e,r;return{c(){e=M("link"),this.h()},l(n){e=C(n,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){p(e,"rel","preload"),p(e,"href",r=t[5]),p(e,"as","font"),p(e,"type","font/woff2"),p(e,"crossorigin","")},m(n,a){N(n,e,a)},p(n,a){a&16&&r!==(r=n[5])&&p(e,"href",r)},d(n){n&&y(e)}}}function xc(t){let e,r,n,a,i,s,o,l,c,f,h,u,d,m,g,_,v,w,b,T,P,F,W,R,B,z;document.title=e=t[0];let I=Z(t[4]),H=[];for(let O=0;O<I.length;O+=1)H[O]=Ai(Ei(t,I,O));return{c(){r=M("meta"),n=M("meta"),a=M("meta"),i=M("meta"),s=M("meta"),o=M("meta"),l=M("meta"),c=M("meta"),f=M("meta"),h=M("meta"),d=M("meta"),m=M("meta"),g=M("meta"),_=M("meta"),v=M("meta"),w=M("meta"),b=M("meta"),T=M("meta"),P=M("meta"),W=M("meta"),R=M("link");for(let O=0;O<H.length;O+=1)H[O].c();z=X(),this.h()},l(O){const V=Ac("svelte-1htu80s",document.head);r=C(V,"META",{name:!0,content:!0}),n=C(V,"META",{name:!0,content:!0}),a=C(V,"META",{name:!0,content:!0}),i=C(V,"META",{property:!0,content:!0}),s=C(V,"META",{property:!0,content:!0}),o=C(V,"META",{property:!0,content:!0}),l=C(V,"META",{property:!0,content:!0}),c=C(V,"META",{property:!0,content:!0}),f=C(V,"META",{property:!0,content:!0}),h=C(V,"META",{property:!0,content:!0}),d=C(V,"META",{property:!0,content:!0}),m=C(V,"META",{property:!0,content:!0}),g=C(V,"META",{property:!0,content:!0}),_=C(V,"META",{name:!0,content:!0}),v=C(V,"META",{name:!0,content:!0}),w=C(V,"META",{name:!0,content:!0}),b=C(V,"META",{name:!0,content:!0}),T=C(V,"META",{name:!0,content:!0}),P=C(V,"META",{name:!0,content:!0}),W=C(V,"META",{name:!0,content:!0}),R=C(V,"LINK",{rel:!0,href:!0});for(let G=0;G<H.length;G+=1)H[G].l(V);z=X(),V.forEach(y),this.h()},h(){p(r,"name","description"),p(r,"content",t[1]),p(n,"name","author"),p(n,"content","The Pudding"),p(a,"name","news_keywords"),p(a,"content",t[3]),p(i,"property","og:title"),p(i,"content",t[0]),p(s,"property","og:site_name"),p(s,"content","The Pudding"),p(o,"property","og:url"),p(o,"content",t[2]),p(l,"property","og:description"),p(l,"content",t[1]),p(c,"property","og:type"),p(c,"content","article"),p(f,"property","og:locale"),p(f,"content","en_US"),p(h,"property","og:image"),p(h,"content",u=t[2]+"/assets/social-facebook.jpg"),p(d,"property","og:image:type"),p(d,"content","image/jpeg"),p(m,"property","og:image:width"),p(m,"content","1200"),p(g,"property","og:image:height"),p(g,"content","600"),p(_,"name","twitter:card"),p(_,"content","summary_large_image"),p(v,"name","twitter:site"),p(v,"content","https://pudding.cool"),p(w,"name","twitter:creator"),p(w,"content","@puddingviz"),p(b,"name","twitter:title"),p(b,"content",t[0]),p(T,"name","twitter:description"),p(T,"content",t[1]),p(P,"name","twitter:image:src"),p(P,"content",F=t[2]+"/assets/social-twitter.jpg"),p(W,"name","robots"),p(W,"content","max-image-preview:large"),p(R,"rel","canonical"),p(R,"href",B=t[2]+"/")},m(O,V){k(document.head,r),k(document.head,n),k(document.head,a),k(document.head,i),k(document.head,s),k(document.head,o),k(document.head,l),k(document.head,c),k(document.head,f),k(document.head,h),k(document.head,d),k(document.head,m),k(document.head,g),k(document.head,_),k(document.head,v),k(document.head,w),k(document.head,b),k(document.head,T),k(document.head,P),k(document.head,W),k(document.head,R);for(let G=0;G<H.length;G+=1)H[G]&&H[G].m(document.head,null);k(document.head,z)},p(O,[V]){if(V&1&&e!==(e=O[0])&&(document.title=e),V&2&&p(r,"content",O[1]),V&8&&p(a,"content",O[3]),V&1&&p(i,"content",O[0]),V&4&&p(o,"content",O[2]),V&2&&p(l,"content",O[1]),V&4&&u!==(u=O[2]+"/assets/social-facebook.jpg")&&p(h,"content",u),V&1&&p(b,"content",O[0]),V&2&&p(T,"content",O[1]),V&4&&F!==(F=O[2]+"/assets/social-twitter.jpg")&&p(P,"content",F),V&4&&B!==(B=O[2]+"/")&&p(R,"href",B),V&16){I=Z(O[4]);let G;for(G=0;G<I.length;G+=1){const le=Ei(O,I,G);H[G]?H[G].p(le,V):(H[G]=Ai(le),H[G].c(),H[G].m(z.parentNode,z))}for(;G<H.length;G+=1)H[G].d(1);H.length=I.length}},i:re,o:re,d(O){y(r),y(n),y(a),y(i),y(s),y(o),y(l),y(c),y(f),y(h),y(d),y(m),y(g),y(_),y(v),y(w),y(b),y(T),y(P),y(W),y(R),me(H,O),y(z)}}}function Uc(t,e,r){let{title:n="Title TK"}=e,{description:a="Description TK"}=e,{url:i="https://pudding.cool"}=e,{keywords:s=""}=e,{preloadFont:o=[]}=e;return t.$$set=l=>{"title"in l&&r(0,n=l.title),"description"in l&&r(1,a=l.description),"url"in l&&r(2,i=l.url),"keywords"in l&&r(3,s=l.keywords),"preloadFont"in l&&r(4,o=l.preloadFont)},[n,a,i,s,o]}class Jc extends ie{constructor(e){super(),se(this,e,Uc,xc,ae,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}const dn=oe(!0),kt=oe("slash");function Fi(t,e,r){const n=t.slice();n[4]=e[r];const a=Ua(n[1])==n[4];return n[3]=a,n}function Di(t){let e,r=Ni(t[4])+"",n,a,i,s,o;return{c(){e=M("button"),n=Y(r),a=L(),this.h()},l(l){e=C(l,"BUTTON",{id:!0,class:!0});var c=E(e);n=Q(c,r),a=j(c),c.forEach(y),this.h()},h(){p(e,"id",i="tab-"+Ua(t[4])),p(e,"class","svelte-k12tjb"),ue(e,"isActive",t[3])},m(l,c){N(l,e,c),k(e,n),k(e,a),s||(o=de(e,"click",t[2]),s=!0)},p(l,c){c&1&&r!==(r=Ni(l[4])+"")&&ce(n,r),c&1&&i!==(i="tab-"+Ua(l[4]))&&p(e,"id",i),c&3&&ue(e,"isActive",l[3])},d(l){l&&y(e),s=!1,o()}}}function Yc(t){let e,r=Z(t[0]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Di(Fi(t,r,a));return{c(){e=M("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var i=E(e);for(let s=0;s<n.length;s+=1)n[s].l(i);i.forEach(y),this.h()},h(){p(e,"class","tabs svelte-k12tjb")},m(a,i){N(a,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(a,[i]){if(i&7){r=Z(a[0]);let s;for(s=0;s<r.length;s+=1){const o=Fi(a,r,s);n[s]?n[s].p(o,i):(n[s]=Di(o),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},i:re,o:re,d(a){a&&y(e),me(n,a)}}}function Ua(t){return t.replace(/[^A-Z0-9]/ig,"").toLowerCase()}function Ni(t){return t=="slash"?"CH1: Slash":t=="noncanon"?"CH2: Canon":"CH3: RPF"}function Qc(t,e,r){let n;q(t,kt,o=>r(1,n=o));let{options:a}=e,i;function s(){let o=this.id.split("-")[1];kt.set(o)}return t.$$set=o=>{"options"in o&&r(0,a=o.options)},[a,n,s,i]}class Zc extends ie{constructor(e){super(),se(this,e,Qc,Yc,ae,{options:0})}}function Xc(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Vl(t){const e=t-1;return e*e*e+1}function He(t){return-.5*(Math.cos(Math.PI*t)-1)}function Nt(t,{delay:e=0,duration:r=400,easing:n=ai}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:i=>`opacity: ${i*a}`}}function Fe(t,{delay:e=0,duration:r=400,easing:n=Vl,x:a=0,y:i=0,opacity:s=0}={}){const o=getComputedStyle(t),l=+o.opacity,c=o.transform==="none"?"":o.transform,f=l*(1-s),[h,u]=bi(a),[d,m]=bi(i);return{delay:e,duration:r,easing:n,css:(g,_)=>`
			transform: ${c} translate(${(1-g)*h}${u}, ${(1-g)*d}${m});
			opacity: ${l-f*_}`}}function Wl(t,{delay:e=0,speed:r,duration:n,easing:a=Xc}={}){let i=t.getTotalLength();const s=getComputedStyle(t);return s.strokeLinecap!=="butt"&&(i+=parseInt(s.strokeWidth)),n===void 0?r===void 0?n=800:n=i/r:typeof n=="function"&&(n=n(i)),{delay:e,duration:n,easing:a,css:(o,l)=>`
			stroke-dasharray: ${i};
			stroke-dashoffset: ${l*i};
		`}}function $c(t){let e,r,n,a,i,s,o,l;return{c(){e=M("div"),r=M("div"),n=M("img"),this.h()},l(c){e=C(c,"DIV",{class:!0});var f=E(e);r=C(f,"DIV",{class:!0});var h=E(r);n=C(h,"IMG",{src:!0,alt:!0}),h.forEach(y),f.forEach(y),this.h()},h(){Re(n.src,a="./assets/images/characters/character"+t[0]+"_"+t[1]+".png")||p(n,"src",a),p(n,"alt","character"),p(r,"class",s="fly-container fly-container_"+t[1]+" svelte-1b5df1b"),ue(r,"forceFlyLeft",t[2]),ue(r,"forceFlyRight",t[3]),p(e,"class",o="character character_"+t[1]+" svelte-1b5df1b")},m(c,f){N(c,e,f),k(e,r),k(r,n),l=!0},p(c,[f]){t=c,(!l||f&3&&!Re(n.src,a="./assets/images/characters/character"+t[0]+"_"+t[1]+".png"))&&p(n,"src",a),(!l||f&2&&s!==(s="fly-container fly-container_"+t[1]+" svelte-1b5df1b"))&&p(r,"class",s),(!l||f&6)&&ue(r,"forceFlyLeft",t[2]),(!l||f&10)&&ue(r,"forceFlyRight",t[3]),(!l||f&2&&o!==(o="character character_"+t[1]+" svelte-1b5df1b"))&&p(e,"class",o)},i(c){l||(c&&we(()=>{l&&(i||(i=Ce(n,Fe,{delay:250,duration:300,x:t[4]},!0)),i.run(1))}),l=!0)},o(c){c&&(i||(i=Ce(n,Fe,{delay:250,duration:300,x:t[4]},!1)),i.run(0)),l=!1},d(c){c&&y(e),c&&i&&i.end()}}}function ef(t,e,r){let n,a,i;q(t,dn,d=>r(7,i=d));let{characterID:s}=e,{position:o}=e,l=!1,c=!1;const f=o=="left"?-200:200;function h(){r(2,l=!1),setTimeout(()=>{r(2,l=!0)},500)}function u(){r(3,c=!1),setTimeout(()=>{r(3,c=!0)},500)}return t.$$set=d=>{"characterID"in d&&r(0,s=d.characterID),"position"in d&&r(1,o=d.position)},t.$$.update=()=>{t.$$.dirty&128&&r(6,n=i[0]),t.$$.dirty&128&&r(5,a=i[1]),t.$$.dirty&64&&h(),t.$$.dirty&32&&u()},[s,o,l,c,f,a,n,i]}class Ri extends ie{constructor(e){super(),se(this,e,ef,$c,ae,{characterID:0,position:1})}}const ea=[{character:"Dean Winchester",fandom:"Supernatural",position:"left"},{character:"John Watson",fandom:"Sherlock Holmes",position:"left"},{character:"Harry Potter",fandom:"Harry Potter",position:"left"},{character:"James “Bucky” Barnes",fandom:"Marvel Cinematic Universe",position:"left"},{character:"Midoriya Izuku",fandom:"My Hero Academia",position:"left"},{character:"Marinette Dupain-Cheng | Ladybug",fandom:"Miraculous Ladybug",position:"left"},{character:"Rey",fandom:"Star Wars",position:"left"},{character:"Kara Danvers",fandom:"Supergirl",position:"left"},{character:"Spock",fandom:"Star Trek",position:"left"},{character:"Castiel",fandom:"Supernatural",position:"right"},{character:"Sherlock Holmes",fandom:"Sherlock Holmes",position:"right"},{character:"Draco Malfoy",fandom:"Harry Potter",position:"right"},{character:"Steve Rogers",fandom:"Marvel Cinematic Universe",position:"right"},{character:"Bakugou Katsuki",fandom:"My Hero Academia",position:"right"},{character:"Adrien Agreste | Chat Noir",fandom:"Miraculous Ladybug",position:"right"},{character:"Ben Solo | Kylo Ren",fandom:"Star Wars",position:"right"},{character:"Lena Luthor",fandom:"Supergirl",position:"right"},{character:"James T. Kirk",fandom:"Star Trek",position:"right"}];function Ii(t){let e,r,n;var a=t[4];function i(s,o){return{props:{size:s[0],color:s[1],strokeWidth:s[2]}}}return a&&(r=ki(a,i(t))),{c(){e=M("span"),r&&K(r.$$.fragment),this.h()},l(s){e=C(s,"SPAN",{class:!0,style:!0});var o=E(e);r&&J(r.$$.fragment,o),o.forEach(y),this.h()},h(){p(e,"class","icon svelte-1r7hpvv"),$(e,"transform","rotate("+t[3]+"deg)")},m(s,o){N(s,e,o),r&&x(r,e,null),n=!0},p(s,o){if(o&16&&a!==(a=s[4])){if(r){te();const l=r;D(l.$$.fragment,1,0,()=>{U(l,1)}),ne()}a?(r=ki(a,i(s)),K(r.$$.fragment),S(r.$$.fragment,1),x(r,e,null)):r=null}else if(a){const l={};o&1&&(l.size=s[0]),o&2&&(l.color=s[1]),o&4&&(l.strokeWidth=s[2]),r.$set(l)}(!n||o&8)&&$(e,"transform","rotate("+s[3]+"deg)")},i(s){n||(r&&S(r.$$.fragment,s),n=!0)},o(s){r&&D(r.$$.fragment,s),n=!1},d(s){s&&y(e),r&&U(r)}}}function tf(t){let e,r,n=t[4]&&Ii(t);return{c(){n&&n.c(),e=X()},l(a){n&&n.l(a),e=X()},m(a,i){n&&n.m(a,i),N(a,e,i),r=!0},p(a,[i]){a[4]?n?(n.p(a,i),i&16&&S(n,1)):(n=Ii(a),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(te(),D(n,1,1,()=>{n=null}),ne())},i(a){r||(S(n),r=!0)},o(a){D(n),r=!1},d(a){a&&y(e),n&&n.d(a)}}}function nf(t,e,r){const n=["n","ne","e","se","s","sw","w","nw"];let{name:a}=e,{size:i="1em"}=e,{color:s=void 0}=e,{strokeWidth:o=void 0}=e,{rotation:l}=e,c;const f=h=>{const u=h.replace(/[^a-zA-Z0-9]+(.)/g,(g,_)=>_.toUpperCase()),d=h.charAt(0).toUpperCase(),m=u.slice(1);return`${d}${m}`};return it(async()=>{const h=f(a);r(4,c=(await Kc(()=>import("./lucide-svelte.ddbdf2e8.js"),["./lucide-svelte.ddbdf2e8.js","./scheduler.761e945d.js","./index.ac16b8ad.js"],import.meta.url))[h])}),t.$$set=h=>{"name"in h&&r(6,a=h.name),"size"in h&&r(0,i=h.size),"color"in h&&r(1,s=h.color),"strokeWidth"in h&&r(2,o=h.strokeWidth),"rotation"in h&&r(3,l=h.rotation)},[i,s,o,l,c,n,a]}let Bt=class extends ie{constructor(e){super(),se(this,e,nf,tf,ae,{directions:5,name:6,size:0,color:1,strokeWidth:2,rotation:3})}get directions(){return this.$$.ctx[5]}};function qn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ll(t){let e,r,n;t.length!==2?(e=qn,r=(o,l)=>qn(t(o),l),n=(o,l)=>t(o)-l):(e=t===qn||t===Ic?t:rf,r=t,n=t);function a(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;r(o[h],l)<0?c=h+1:f=h}while(c<f)}return c}function i(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;r(o[h],l)<=0?c=h+1:f=h}while(c<f)}return c}function s(o,l,c=0,f=o.length){const h=a(o,l,c,f-1);return h>c&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:a,center:s,right:i}}function rf(){return 0}function af(t){return t===null?NaN:+t}const sf=Ll(qn),of=sf.right;Ll(af).center;const lf=of,cf=Math.sqrt(50),ff=Math.sqrt(10),uf=Math.sqrt(2);function ta(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=cf?10:i>=ff?5:i>=uf?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?ta(t,e,r*2):[o,l,c]}function hf(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?ta(e,t,r):ta(t,e,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Ja(t,e,r){return e=+e,t=+t,r=+r,ta(t,e,r)[2]}function df(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Ja(e,t,r):Ja(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function mf(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of t)(a=e(a,++n,t))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function pf(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function ft(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(r,n)=>e(r,n,t))}function gn(t){return typeof t=="string"?new $r([[document.querySelector(t)]],[document.documentElement]):new $r([[t]],Il)}function gf(t){return gn(zc(t).call(document.documentElement))}function Se(t){return typeof t=="string"?new $r([document.querySelectorAll(t)],[document.documentElement]):new $r([Bc(t)],Il)}function _f(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function yf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vf(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=xn(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function wf(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function bf(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=xn(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}function xn(t,e){var r=typeof e,n;return e==null||r==="boolean"?Vc(e):(r==="number"?Ka:r==="string"?(n=Si(e))?(e=n,xa):Wc:e instanceof Si?xa:e instanceof Date?wf:yf(e)?_f:Array.isArray(e)?vf:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bf:Ka)(t,e)}function jl(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function kf(t,e){e===void 0&&(e=t,t=xn);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}const Ya=Math.PI,Qa=2*Ya,zt=1e-6,Tf=Qa-zt;function Ol(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Mf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ol;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Cf{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ol:Mf(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-e,c=a-r,f=s-e,h=o-r,u=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(u>zt)if(!(Math.abs(h*l-c*f)>zt)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let d=n-s,m=a-o,g=l*l+c*c,_=d*d+m*m,v=Math.sqrt(g),w=Math.sqrt(u),b=i*Math.tan((Ya-Math.acos((g+u-_)/(2*v*w)))/2),T=b/w,P=b/v;Math.abs(T-1)>zt&&this._append`L${e+T*f},${r+T*h}`,this._append`A${i},${i},0,0,${+(h*d>f*m)},${this._x1=e+P*l},${this._y1=r+P*c}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=e+o,f=r+l,h=1^s,u=s?a-i:i-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>zt||Math.abs(this._y1-f)>zt)&&this._append`L${c},${f}`,n&&(u<0&&(u=u%Qa+Qa),u>Tf?this._append`A${n},${n},0,1,${h},${e-o},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=f}`:u>zt&&this._append`A${n},${n},0,${+(u>=Ya)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}var zi={},Ba={},Va=34,Vn=10,Wa=13;function Hl(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function Sf(t,e){var r=Hl(t);return function(n,a){return e(r(n),a,t)}}function Bi(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var a in n)a in e||r.push(e[a]=a)}),r}function Oe(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function Pf(t){return t<0?"-"+Oe(-t,6):t>9999?"+"+Oe(t,6):Oe(t,4)}function Ef(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Pf(t.getUTCFullYear())+"-"+Oe(t.getUTCMonth()+1,2)+"-"+Oe(t.getUTCDate(),2)+(a?"T"+Oe(e,2)+":"+Oe(r,2)+":"+Oe(n,2)+"."+Oe(a,3)+"Z":n?"T"+Oe(e,2)+":"+Oe(r,2)+":"+Oe(n,2)+"Z":r||e?"T"+Oe(e,2)+":"+Oe(r,2)+"Z":"")}function Af(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(h,u){var d,m,g=a(h,function(_,v){if(d)return d(_,v-1);m=_,d=u?Sf(_,u):Hl(_)});return g.columns=m||[],g}function a(h,u){var d=[],m=h.length,g=0,_=0,v,w=m<=0,b=!1;h.charCodeAt(m-1)===Vn&&--m,h.charCodeAt(m-1)===Wa&&--m;function T(){if(w)return Ba;if(b)return b=!1,zi;var F,W=g,R;if(h.charCodeAt(W)===Va){for(;g++<m&&h.charCodeAt(g)!==Va||h.charCodeAt(++g)===Va;);return(F=g)>=m?w=!0:(R=h.charCodeAt(g++))===Vn?b=!0:R===Wa&&(b=!0,h.charCodeAt(g)===Vn&&++g),h.slice(W+1,F-1).replace(/""/g,'"')}for(;g<m;){if((R=h.charCodeAt(F=g++))===Vn)b=!0;else if(R===Wa)b=!0,h.charCodeAt(g)===Vn&&++g;else if(R!==r)continue;return h.slice(W,F)}return w=!0,h.slice(W,m)}for(;(v=T())!==Ba;){for(var P=[];v!==zi&&v!==Ba;)P.push(v),v=T();u&&(P=u(P,_++))==null||d.push(P)}return d}function i(h,u){return h.map(function(d){return u.map(function(m){return f(d[m])}).join(t)})}function s(h,u){return u==null&&(u=Bi(h)),[u.map(f).join(t)].concat(i(h,u)).join(`
`)}function o(h,u){return u==null&&(u=Bi(h)),i(h,u).join(`
`)}function l(h){return h.map(c).join(`
`)}function c(h){return h.map(f).join(t)}function f(h){return h==null?"":h instanceof Date?Ef(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:n,parseRows:a,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:f}}var Ff=Af(","),Df=Ff.parse;function Nf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Rf(t,e){return fetch(t,e).then(Nf)}function If(t){return function(e,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Rf(e,r).then(function(a){return t(a,n)})}}var Un=If(Df);function zf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Za(t,e){return fetch(t,e).then(zf)}function Bf(t,e){var r,n=1;t==null&&(t=0),e==null&&(e=0);function a(){var i,s=r.length,o,l=0,c=0;for(i=0;i<s;++i)o=r[i],l+=o.x,c+=o.y;for(l=(l/s-t)*n,c=(c/s-e)*n,i=0;i<s;++i)o=r[i],o.x-=l,o.y-=c}return a.initialize=function(i){r=i},a.x=function(i){return arguments.length?(t=+i,a):t},a.y=function(i){return arguments.length?(e=+i,a):e},a.strength=function(i){return arguments.length?(n=+i,a):n},a}function Vf(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return ql(this.cover(e,r),e,r,t)}function ql(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var a,i=t._root,s={data:n},o=t._x0,l=t._y0,c=t._x1,f=t._y1,h,u,d,m,g,_,v,w;if(!i)return t._root=s,t;for(;i.length;)if((g=e>=(h=(o+c)/2))?o=h:c=h,(_=r>=(u=(l+f)/2))?l=u:f=u,a=i,!(i=i[v=_<<1|g]))return a[v]=s,t;if(d=+t._x.call(null,i.data),m=+t._y.call(null,i.data),e===d&&r===m)return s.next=i,a?a[v]=s:t._root=s,t;do a=a?a[v]=new Array(4):t._root=new Array(4),(g=e>=(h=(o+c)/2))?o=h:c=h,(_=r>=(u=(l+f)/2))?l=u:f=u;while((v=_<<1|g)===(w=(m>=u)<<1|d>=h));return a[w]=i,a[v]=s,t}function Wf(t){var e,r,n=t.length,a,i,s=new Array(n),o=new Array(n),l=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<n;++r)isNaN(a=+this._x.call(null,e=t[r]))||isNaN(i=+this._y.call(null,e))||(s[r]=a,o[r]=i,a<l&&(l=a),a>f&&(f=a),i<c&&(c=i),i>h&&(h=i));if(l>f||c>h)return this;for(this.cover(l,c).cover(f,h),r=0;r<n;++r)ql(this,s[r],o[r],t[r]);return this}function Lf(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,a=this._x1,i=this._y1;if(isNaN(r))a=(r=Math.floor(t))+1,i=(n=Math.floor(e))+1;else{for(var s=a-r||1,o=this._root,l,c;r>t||t>=a||n>e||e>=i;)switch(c=(e<n)<<1|t<r,l=new Array(4),l[c]=o,o=l,s*=2,c){case 0:a=r+s,i=n+s;break;case 1:r=a-s,i=n+s;break;case 2:a=r+s,n=i-s;break;case 3:r=a-s,n=i-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._y0=n,this._x1=a,this._y1=i,this}function jf(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Of(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function We(t,e,r,n,a){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=a}function Hf(t,e,r){var n,a=this._x0,i=this._y0,s,o,l,c,f=this._x1,h=this._y1,u=[],d=this._root,m,g;for(d&&u.push(new We(d,a,i,f,h)),r==null?r=1/0:(a=t-r,i=e-r,f=t+r,h=e+r,r*=r);m=u.pop();)if(!(!(d=m.node)||(s=m.x0)>f||(o=m.y0)>h||(l=m.x1)<a||(c=m.y1)<i))if(d.length){var _=(s+l)/2,v=(o+c)/2;u.push(new We(d[3],_,v,l,c),new We(d[2],s,v,_,c),new We(d[1],_,o,l,v),new We(d[0],s,o,_,v)),(g=(e>=v)<<1|t>=_)&&(m=u[u.length-1],u[u.length-1]=u[u.length-1-g],u[u.length-1-g]=m)}else{var w=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),T=w*w+b*b;if(T<r){var P=Math.sqrt(r=T);a=t-P,i=e-P,f=t+P,h=e+P,n=d.data}}return n}function qf(t){if(isNaN(f=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,r=this._root,n,a,i,s=this._x0,o=this._y0,l=this._x1,c=this._y1,f,h,u,d,m,g,_,v;if(!r)return this;if(r.length)for(;;){if((m=f>=(u=(s+l)/2))?s=u:l=u,(g=h>=(d=(o+c)/2))?o=d:c=d,e=r,!(r=r[_=g<<1|m]))return this;if(!r.length)break;(e[_+1&3]||e[_+2&3]||e[_+3&3])&&(n=e,v=_)}for(;r.data!==t;)if(a=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,a?(i?a.next=i:delete a.next,this):e?(i?e[_]=i:delete e[_],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(n?n[v]=r:this._root=r),this):(this._root=i,this)}function Gf(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function Kf(){return this._root}function xf(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Uf(t){var e=[],r,n=this._root,a,i,s,o,l;for(n&&e.push(new We(n,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(n=r.node,i=r.x0,s=r.y0,o=r.x1,l=r.y1)&&n.length){var c=(i+o)/2,f=(s+l)/2;(a=n[3])&&e.push(new We(a,c,f,o,l)),(a=n[2])&&e.push(new We(a,i,f,c,l)),(a=n[1])&&e.push(new We(a,c,s,o,f)),(a=n[0])&&e.push(new We(a,i,s,c,f))}return this}function Jf(t){var e=[],r=[],n;for(this._root&&e.push(new We(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var a=n.node;if(a.length){var i,s=n.x0,o=n.y0,l=n.x1,c=n.y1,f=(s+l)/2,h=(o+c)/2;(i=a[0])&&e.push(new We(i,s,o,f,h)),(i=a[1])&&e.push(new We(i,f,o,l,h)),(i=a[2])&&e.push(new We(i,s,h,f,c)),(i=a[3])&&e.push(new We(i,f,h,l,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Yf(t){return t[0]}function Qf(t){return arguments.length?(this._x=t,this):this._x}function Zf(t){return t[1]}function Xf(t){return arguments.length?(this._y=t,this):this._y}function Gl(t,e,r){var n=new li(e??Yf,r??Zf,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function li(t,e,r,n,a,i){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=a,this._y1=i,this._root=void 0}function Vi(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var Le=Gl.prototype=li.prototype;Le.copy=function(){var t=new li(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,n;if(!e)return t;if(!e.length)return t._root=Vi(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var a=0;a<4;++a)(n=e.source[a])&&(n.length?r.push({source:n,target:e.target[a]=new Array(4)}):e.target[a]=Vi(n));return t};Le.add=Vf;Le.addAll=Wf;Le.cover=Lf;Le.data=jf;Le.extent=Of;Le.find=Hf;Le.remove=qf;Le.removeAll=Gf;Le.root=Kf;Le.size=xf;Le.visit=Uf;Le.visitAfter=Jf;Le.x=Qf;Le.y=Xf;function Tt(t){return function(){return t}}function mn(t){return(t()-.5)*1e-6}function $f(t){return t.index}function Wi(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function eu(t){var e=$f,r=h,n,a=Tt(30),i,s,o,l,c,f=1;t==null&&(t=[]);function h(_){return 1/Math.min(o[_.source.index],o[_.target.index])}function u(_){for(var v=0,w=t.length;v<f;++v)for(var b=0,T,P,F,W,R,B,z;b<w;++b)T=t[b],P=T.source,F=T.target,W=F.x+F.vx-P.x-P.vx||mn(c),R=F.y+F.vy-P.y-P.vy||mn(c),B=Math.sqrt(W*W+R*R),B=(B-i[b])/B*_*n[b],W*=B,R*=B,F.vx-=W*(z=l[b]),F.vy-=R*z,P.vx+=W*(z=1-z),P.vy+=R*z}function d(){if(s){var _,v=s.length,w=t.length,b=new Map(s.map((P,F)=>[e(P,F,s),P])),T;for(_=0,o=new Array(v);_<w;++_)T=t[_],T.index=_,typeof T.source!="object"&&(T.source=Wi(b,T.source)),typeof T.target!="object"&&(T.target=Wi(b,T.target)),o[T.source.index]=(o[T.source.index]||0)+1,o[T.target.index]=(o[T.target.index]||0)+1;for(_=0,l=new Array(w);_<w;++_)T=t[_],l[_]=o[T.source.index]/(o[T.source.index]+o[T.target.index]);n=new Array(w),m(),i=new Array(w),g()}}function m(){if(s)for(var _=0,v=t.length;_<v;++_)n[_]=+r(t[_],_,t)}function g(){if(s)for(var _=0,v=t.length;_<v;++_)i[_]=+a(t[_],_,t)}return u.initialize=function(_,v){s=_,c=v,d()},u.links=function(_){return arguments.length?(t=_,d(),u):t},u.id=function(_){return arguments.length?(e=_,u):e},u.iterations=function(_){return arguments.length?(f=+_,u):f},u.strength=function(_){return arguments.length?(r=typeof _=="function"?_:Tt(+_),m(),u):r},u.distance=function(_){return arguments.length?(a=typeof _=="function"?_:Tt(+_),g(),u):a},u}const tu=1664525,nu=1013904223,Li=4294967296;function ru(){let t=1;return()=>(t=(tu*t+nu)%Li)/Li}function au(t){return t.x}function iu(t){return t.y}var su=10,ou=Math.PI*(3-Math.sqrt(5));function lu(t){var e,r=1,n=.001,a=1-Math.pow(n,1/300),i=0,s=.6,o=new Map,l=Lc(h),c=jc("tick","end"),f=ru();t==null&&(t=[]);function h(){u(),c.call("tick",e),r<n&&(l.stop(),c.call("end",e))}function u(g){var _,v=t.length,w;g===void 0&&(g=1);for(var b=0;b<g;++b)for(r+=(i-r)*a,o.forEach(function(T){T(r)}),_=0;_<v;++_)w=t[_],w.fx==null?w.x+=w.vx*=s:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=s:(w.y=w.fy,w.vy=0);return e}function d(){for(var g=0,_=t.length,v;g<_;++g){if(v=t[g],v.index=g,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var w=su*Math.sqrt(.5+g),b=g*ou;v.x=w*Math.cos(b),v.y=w*Math.sin(b)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function m(g){return g.initialize&&g.initialize(t,f),g}return d(),e={tick:u,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(g){return arguments.length?(t=g,d(),o.forEach(m),e):t},alpha:function(g){return arguments.length?(r=+g,e):r},alphaMin:function(g){return arguments.length?(n=+g,e):n},alphaDecay:function(g){return arguments.length?(a=+g,e):+a},alphaTarget:function(g){return arguments.length?(i=+g,e):i},velocityDecay:function(g){return arguments.length?(s=1-g,e):1-s},randomSource:function(g){return arguments.length?(f=g,o.forEach(m),e):f},force:function(g,_){return arguments.length>1?(_==null?o.delete(g):o.set(g,m(_)),e):o.get(g)},find:function(g,_,v){var w=0,b=t.length,T,P,F,W,R;for(v==null?v=1/0:v*=v,w=0;w<b;++w)W=t[w],T=g-W.x,P=_-W.y,F=T*T+P*P,F<v&&(R=W,v=F);return R},on:function(g,_){return arguments.length>1?(c.on(g,_),e):c.on(g)}}}function cu(){var t,e,r,n,a=Tt(-30),i,s=1,o=1/0,l=.81;function c(d){var m,g=t.length,_=Gl(t,au,iu).visitAfter(h);for(n=d,m=0;m<g;++m)e=t[m],_.visit(u)}function f(){if(t){var d,m=t.length,g;for(i=new Array(m),d=0;d<m;++d)g=t[d],i[g.index]=+a(g,d,t)}}function h(d){var m=0,g,_,v=0,w,b,T;if(d.length){for(w=b=T=0;T<4;++T)(g=d[T])&&(_=Math.abs(g.value))&&(m+=g.value,v+=_,w+=_*g.x,b+=_*g.y);d.x=w/v,d.y=b/v}else{g=d,g.x=g.data.x,g.y=g.data.y;do m+=i[g.data.index];while(g=g.next)}d.value=m}function u(d,m,g,_){if(!d.value)return!0;var v=d.x-e.x,w=d.y-e.y,b=_-m,T=v*v+w*w;if(b*b/l<T)return T<o&&(v===0&&(v=mn(r),T+=v*v),w===0&&(w=mn(r),T+=w*w),T<s&&(T=Math.sqrt(s*T)),e.vx+=v*d.value*n/T,e.vy+=w*d.value*n/T),!0;if(d.length||T>=o)return;(d.data!==e||d.next)&&(v===0&&(v=mn(r),T+=v*v),w===0&&(w=mn(r),T+=w*w),T<s&&(T=Math.sqrt(s*T)));do d.data!==e&&(b=i[d.data.index]*n/T,e.vx+=v*b,e.vy+=w*b);while(d=d.next)}return c.initialize=function(d,m){t=d,r=m,f()},c.strength=function(d){return arguments.length?(a=typeof d=="function"?d:Tt(+d),f(),c):a},c.distanceMin=function(d){return arguments.length?(s=d*d,c):Math.sqrt(s)},c.distanceMax=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.theta=function(d){return arguments.length?(l=d*d,c):Math.sqrt(l)},c}function fu(t,e,r){var n,a=Tt(.1),i,s;typeof t!="function"&&(t=Tt(+t)),e==null&&(e=0),r==null&&(r=0);function o(c){for(var f=0,h=n.length;f<h;++f){var u=n[f],d=u.x-e||1e-6,m=u.y-r||1e-6,g=Math.sqrt(d*d+m*m),_=(s[f]-g)*i[f]*c/g;u.vx+=d*_,u.vy+=m*_}}function l(){if(n){var c,f=n.length;for(i=new Array(f),s=new Array(f),c=0;c<f;++c)s[c]=+t(n[c],c,n),i[c]=isNaN(s[c])?0:+a(n[c],c,n)}}return o.initialize=function(c){n=c,l()},o.strength=function(c){return arguments.length?(a=typeof c=="function"?c:Tt(+c),l(),o):a},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Tt(+c),l(),o):t},o.x=function(c){return arguments.length?(e=+c,o):e},o.y=function(c){return arguments.length?(r=+c,o):r},o}function uu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function na(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _n(t){return t=na(Math.abs(t)),t?t[1]:NaN}function hu(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function du(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var mu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ra(t){if(!(e=mu.exec(t)))throw new Error("invalid format: "+t);var e;return new ci({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ra.prototype=ci.prototype;function ci(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ci.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pu(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Kl;function gu(t,e){var r=na(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(Kl=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+na(t,Math.max(0,e+i-1))[0]}function ji(t,e){var r=na(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Oi={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uu,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ji(t*100,e),r:ji,s:gu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hi(t){return t}var qi=Array.prototype.map,Gi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _u(t){var e=t.grouping===void 0||t.thousands===void 0?Hi:hu(qi.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Hi:du(qi.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=ra(h);var u=h.fill,d=h.align,m=h.sign,g=h.symbol,_=h.zero,v=h.width,w=h.comma,b=h.precision,T=h.trim,P=h.type;P==="n"?(w=!0,P="g"):Oi[P]||(b===void 0&&(b=12),T=!0,P="g"),(_||u==="0"&&d==="=")&&(_=!0,u="0",d="=");var F=g==="$"?r:g==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",W=g==="$"?n:/[%p]/.test(P)?s:"",R=Oi[P],B=/[defgprs%]/.test(P);b=b===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function z(I){var H=F,O=W,V,G,le;if(P==="c")O=R(I)+O,I="";else{I=+I;var ee=I<0||1/I<0;if(I=isNaN(I)?l:R(Math.abs(I),b),T&&(I=pu(I)),ee&&+I==0&&m!=="+"&&(ee=!1),H=(ee?m==="("?m:o:m==="-"||m==="("?"":m)+H,O=(P==="s"?Gi[8+Kl/3]:"")+O+(ee&&m==="("?")":""),B){for(V=-1,G=I.length;++V<G;)if(le=I.charCodeAt(V),48>le||le>57){O=(le===46?a+I.slice(V+1):I.slice(V))+O,I=I.slice(0,V);break}}}w&&!_&&(I=e(I,1/0));var he=H.length+I.length+O.length,ge=he<v?new Array(v-he+1).join(u):"";switch(w&&_&&(I=e(ge+I,ge.length?v-O.length:1/0),ge=""),d){case"<":I=H+I+O+ge;break;case"=":I=H+ge+I+O;break;case"^":I=ge.slice(0,he=ge.length>>1)+H+I+O+ge.slice(he);break;default:I=ge+H+I+O;break}return i(I)}return z.toString=function(){return h+""},z}function f(h,u){var d=c((h=ra(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(_n(u)/3)))*3,g=Math.pow(10,-m),_=Gi[8+m/3];return function(v){return d(g*v)+_}}return{format:c,formatPrefix:f}}var Vr,Vt,xl;yu({thousands:",",grouping:[3],currency:["$",""]});function yu(t){return Vr=_u(t),Vt=Vr.format,xl=Vr.formatPrefix,Vr}function vu(t){return Math.max(0,-_n(Math.abs(t)))}function wu(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_n(e)/3)))*3-_n(Math.abs(t)))}function bu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_n(e)-_n(t))+1}function ku(t){var e=0,r=t.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;t.value=e}function Tu(){return this.eachAfter(ku)}function Mu(t,e){let r=-1;for(const n of this)t.call(e,n,++r,this);return this}function Cu(t,e){for(var r=this,n=[r],a,i,s=-1;r=n.pop();)if(t.call(e,r,++s,this),a=r.children)for(i=a.length-1;i>=0;--i)n.push(a[i]);return this}function Su(t,e){for(var r=this,n=[r],a=[],i,s,o,l=-1;r=n.pop();)if(a.push(r),i=r.children)for(s=0,o=i.length;s<o;++s)n.push(i[s]);for(;r=a.pop();)t.call(e,r,++l,this);return this}function Pu(t,e){let r=-1;for(const n of this)if(t.call(e,n,++r,this))return n}function Eu(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,n=e.children,a=n&&n.length;--a>=0;)r+=n[a].value;e.value=r})}function Au(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Fu(t){for(var e=this,r=Du(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var a=n.length;t!==r;)n.splice(a,0,t),t=t.parent;return n}function Du(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),a=null;for(t=r.pop(),e=n.pop();t===e;)a=t,t=r.pop(),e=n.pop();return a}function Nu(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Ru(){return Array.from(this)}function Iu(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function zu(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function*Bu(){var t=this,e,r=[t],n,a,i;do for(e=r.reverse(),r=[];t=e.pop();)if(yield t,n=t.children)for(a=0,i=n.length;a<i;++a)r.push(n[a]);while(r.length)}function fi(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Lu)):e===void 0&&(e=Wu);for(var r=new aa(t),n,a=[r],i,s,o,l;n=a.pop();)if((s=e(n.data))&&(l=(s=Array.from(s)).length))for(n.children=s,o=l-1;o>=0;--o)a.push(i=s[o]=new aa(s[o])),i.parent=n,i.depth=n.depth+1;return r.eachBefore(Ou)}function Vu(){return fi(this).eachBefore(ju)}function Wu(t){return t.children}function Lu(t){return Array.isArray(t)?t[1]:null}function ju(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Ou(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function aa(t){this.data=t,this.depth=this.height=0,this.parent=null}aa.prototype=fi.prototype={constructor:aa,count:Tu,each:Mu,eachAfter:Su,eachBefore:Cu,find:Pu,sum:Eu,sort:Au,path:Fu,ancestors:Nu,descendants:Ru,leaves:Iu,links:zu,copy:Vu,[Symbol.iterator]:Bu};function Hu(t){if(typeof t!="function")throw new Error;return t}function Wn(){return 0}function Ln(t){return function(){return t}}function qu(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Gu(t,e,r,n,a){for(var i=t.children,s,o=-1,l=i.length,c=t.value&&(n-e)/t.value;++o<l;)s=i[o],s.y0=r,s.y1=a,s.x0=e,s.x1=e+=s.value*c}function Ku(t,e,r,n,a){for(var i=t.children,s,o=-1,l=i.length,c=t.value&&(a-r)/t.value;++o<l;)s=i[o],s.x0=e,s.x1=n,s.y0=r,s.y1=r+=s.value*c}var xu=(1+Math.sqrt(5))/2;function Uu(t,e,r,n,a,i){for(var s=[],o=e.children,l,c,f=0,h=0,u=o.length,d,m,g=e.value,_,v,w,b,T,P,F;f<u;){d=a-r,m=i-n;do _=o[h++].value;while(!_&&h<u);for(v=w=_,P=Math.max(m/d,d/m)/(g*t),F=_*_*P,T=Math.max(w/F,F/v);h<u;++h){if(_+=c=o[h].value,c<v&&(v=c),c>w&&(w=c),F=_*_*P,b=Math.max(w/F,F/v),b>T){_-=c;break}T=b}s.push(l={value:_,dice:d<m,children:o.slice(f,h)}),l.dice?Gu(l,r,n,a,g?n+=m*_/g:i):Ku(l,r,n,g?r+=d*_/g:a,i),g-=_,f=h}return s}const Ju=function t(e){function r(n,a,i,s,o){Uu(e,n,a,i,s,o)}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(xu);function Yu(){var t=Ju,e=!1,r=1,n=1,a=[0],i=Wn,s=Wn,o=Wn,l=Wn,c=Wn;function f(u){return u.x0=u.y0=0,u.x1=r,u.y1=n,u.eachBefore(h),a=[0],e&&u.eachBefore(qu),u}function h(u){var d=a[u.depth],m=u.x0+d,g=u.y0+d,_=u.x1-d,v=u.y1-d;_<m&&(m=_=(m+_)/2),v<g&&(g=v=(g+v)/2),u.x0=m,u.y0=g,u.x1=_,u.y1=v,u.children&&(d=a[u.depth+1]=i(u)/2,m+=c(u)-d,g+=s(u)-d,_-=o(u)-d,v-=l(u)-d,_<m&&(m=_=(m+_)/2),v<g&&(g=v=(g+v)/2),t(u,m,g,_,v))}return f.round=function(u){return arguments.length?(e=!!u,f):e},f.size=function(u){return arguments.length?(r=+u[0],n=+u[1],f):[r,n]},f.tile=function(u){return arguments.length?(t=Hu(u),f):t},f.padding=function(u){return arguments.length?f.paddingInner(u).paddingOuter(u):f.paddingInner()},f.paddingInner=function(u){return arguments.length?(i=typeof u=="function"?u:Ln(+u),f):i},f.paddingOuter=function(u){return arguments.length?f.paddingTop(u).paddingRight(u).paddingBottom(u).paddingLeft(u):f.paddingTop()},f.paddingTop=function(u){return arguments.length?(s=typeof u=="function"?u:Ln(+u),f):s},f.paddingRight=function(u){return arguments.length?(o=typeof u=="function"?u:Ln(+u),f):o},f.paddingBottom=function(u){return arguments.length?(l=typeof u=="function"?u:Ln(+u),f):l},f.paddingLeft=function(u){return arguments.length?(c=typeof u=="function"?u:Ln(+u),f):c},f}function fa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ki=Symbol("implicit");function Jn(){var t=new Pi,e=[],r=[],n=Ki;function a(i){let s=t.get(i);if(s===void 0){if(n!==Ki)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Pi;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Jn(e,r).unknown(n)},fa.apply(a,arguments),a}function Ul(){var t=Jn().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,l=0,c=0,f=.5;delete t.unknown;function h(){var u=e().length,d=a<n,m=d?a:n,g=d?n:a;i=(g-m)/Math.max(1,u-l+c*2),o&&(i=Math.floor(i)),m+=(g-m-i*(u-l))*f,s=i*(1-l),o&&(m=Math.round(m),s=Math.round(s));var _=pf(u).map(function(v){return m+i*v});return r(d?_.reverse():_)}return t.domain=function(u){return arguments.length?(e(u),h()):e()},t.range=function(u){return arguments.length?([n,a]=u,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(u){return[n,a]=u,n=+n,a=+a,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(u){return arguments.length?(o=!!u,h()):o},t.padding=function(u){return arguments.length?(l=Math.min(1,c=+u),h()):l},t.paddingInner=function(u){return arguments.length?(l=Math.min(1,u),h()):l},t.paddingOuter=function(u){return arguments.length?(c=+u,h()):c},t.align=function(u){return arguments.length?(f=Math.max(0,Math.min(1,u)),h()):f},t.copy=function(){return Ul(e(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(f)},fa.apply(h(),arguments)}function Zu(t){return function(){return t}}function Xu(t){return+t}var xi=[0,1];function Qe(t){return t}function Xa(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Zu(isNaN(e)?NaN:.5)}function $u(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function eh(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=Xa(a,n),i=r(s,i)):(n=Xa(n,a),i=r(i,s)),function(o){return i(n(o))}}function th(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=Xa(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var l=lf(t,o,1,n)-1;return i[l](a[l](o))}}function Jl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yl(){var t=xi,e=xi,r=xn,n,a,i,s=Qe,o,l,c;function f(){var u=Math.min(t.length,e.length);return s!==Qe&&(s=$u(t[0],t[u-1])),o=u>2?th:eh,l=c=null,h}function h(u){return u==null||isNaN(u=+u)?i:(l||(l=o(t.map(n),e,r)))(n(s(u)))}return h.invert=function(u){return s(a((c||(c=o(e,t.map(n),Ka)))(u)))},h.domain=function(u){return arguments.length?(t=Array.from(u,Xu),f()):t.slice()},h.range=function(u){return arguments.length?(e=Array.from(u),f()):e.slice()},h.rangeRound=function(u){return e=Array.from(u),r=jl,f()},h.clamp=function(u){return arguments.length?(s=u?!0:Qe,f()):s!==Qe},h.interpolate=function(u){return arguments.length?(r=u,f()):r},h.unknown=function(u){return arguments.length?(i=u,h):i},function(u,d){return n=u,a=d,f()}}function nh(){return Yl()(Qe,Qe)}function rh(t,e,r,n){var a=df(t,e,r),i;switch(n=ra(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=wu(a,s))&&(n.precision=i),xl(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bu(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=vu(a))&&(n.precision=i-(n.type==="%")*2);break}}return Vt(n)}function ui(t){var e=t.domain;return t.ticks=function(r){var n=e();return hf(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return rh(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,f=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);f-- >0;){if(c=Ja(s,o,r),c===l)return n[a]=s,n[i]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Yr(){var t=nh();return t.copy=function(){return Jl(t,Yr())},fa.apply(t,arguments),ui(t)}function Ui(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ah(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ih(t){return t<0?-t*t:t*t}function sh(t){var e=t(Qe,Qe),r=1;function n(){return r===1?t(Qe,Qe):r===.5?t(ah,ih):t(Ui(r),Ui(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},ui(e)}function Ql(){var t=sh(Yl());return t.copy=function(){return Jl(t,Ql()).exponent(t.exponent())},fa.apply(t,arguments),t}function oh(){return Ql.apply(null,arguments).exponent(.5)}function lh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ch(){var t=0,e=.5,r=1,n=1,a,i,s,o,l,c=Qe,f,h=!1,u;function d(g){return isNaN(g=+g)?u:(g=.5+((g=+f(g))-i)*(n*g<n*i?o:l),c(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e,r]=g,a=f(t=+t),i=f(e=+e),s=f(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[t,e,r]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(c=g,d):c};function m(g){return function(_){var v,w,b;return arguments.length?([v,w,b]=_,c=kf(g,[v,w,b]),d):[c(0),c(.5),c(1)]}}return d.range=m(xn),d.rangeRound=m(jl),d.unknown=function(g){return arguments.length?(u=g,d):u},function(g){return f=g,a=g(t),i=g(e),s=g(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function Zl(){var t=ui(ch()(Qe));return t.copy=function(){return lh(t,Zl())},Qu.apply(t,arguments)}function fh(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}const uh=fh("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ut(t){return function(){return t}}function hh(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Cf(e)}function Xl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $l(t){this._context=t}$l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dh(t){return new $l(t)}function mh(t){return t[0]}function ph(t){return t[1]}function ec(t,e){var r=ut(!0),n=null,a=dh,i=null,s=hh(o);t=typeof t=="function"?t:t===void 0?mh:ut(t),e=typeof e=="function"?e:e===void 0?ph:ut(e);function o(l){var c,f=(l=Xl(l)).length,h,u=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=f;++c)!(c<f&&r(h=l[c],c,l))===u&&((u=!u)?i.lineStart():i.lineEnd()),u&&i.point(+t(h,c,l),+e(h,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ut(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ut(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ut(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function tc(t,e){this._context=t,this._t=e}tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function nc(t){return new tc(t,.5)}function Ji(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Yi(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function gh(t,e){return t[e]}function _h(t){const e=[];return e.key=t,e}function yh(){var t=ut([]),e=Yi,r=Ji,n=gh;function a(i){var s=Array.from(t.apply(this,arguments),_h),o,l=s.length,c=-1,f;for(const h of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(h,s[o].key,c,i)]).data=h;for(o=0,f=Xl(e(s));o<l;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ut(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ut(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?Yi:typeof i=="function"?i:ut(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Ji,a):r},a}function Qi(t,e,r){const n=t.slice();return n[11]=e[r],n}function Zi(t){let e,r;return{c(){e=M("label"),r=Y(t[2]),this.h()},l(n){e=C(n,"LABEL",{for:!0,class:!0});var a=E(e);r=Q(a,t[2]),a.forEach(y),this.h()},h(){p(e,"for",t[5]),p(e,"class","svelte-ywj2qo")},m(n,a){N(n,e,a),k(e,r)},p(n,a){a&4&&ce(r,n[2]),a&32&&p(e,"for",n[5])},d(n){n&&y(e)}}}function Xi(t){let e,r=t[11].character+"",n,a;return{c(){e=M("option"),n=Y(r),this.h()},l(i){e=C(i,"OPTION",{});var s=E(e);n=Q(s,r),s.forEach(y),this.h()},h(){e.__value=a=t[11].character,Mi(e,e.__value)},m(i,s){N(i,e,s),k(e,n)},p(i,s){s&2&&r!==(r=i[11].character+"")&&ce(n,r),s&2&&a!==(a=i[11].character)&&(e.__value=a,Mi(e,e.__value))},d(i){i&&y(e)}}}function vh(t){let e,r,n,a,i,s,o=t[2]&&Zi(t),l=Z(t[1]),c=[];for(let f=0;f<l.length;f+=1)c[f]=Xi(Qi(t,l,f));return{c(){e=M("div"),o&&o.c(),r=L(),n=M("select");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=C(f,"DIV",{class:!0});var h=E(e);o&&o.l(h),r=j(h),n=C(h,"SELECT",{class:!0,id:!0});var u=E(n);for(let d=0;d<c.length;d+=1)c[d].l(u);u.forEach(y),h.forEach(y),this.h()},h(){p(n,"class",a="select-"+t[4]+" svelte-ywj2qo"),p(n,"id",t[5]),n.disabled=t[3],t[0]===void 0&&we(()=>t[7].call(n)),p(e,"class","select svelte-ywj2qo")},m(f,h){N(f,e,h),o&&o.m(e,null),k(e,r),k(e,n);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(n,null);Ti(n,t[0],!0),i||(s=[de(n,"change",t[7]),de(n,"change",t[6])],i=!0)},p(f,[h]){if(f[2]?o?o.p(f,h):(o=Zi(f),o.c(),o.m(e,r)):o&&(o.d(1),o=null),h&2){l=Z(f[1]);let u;for(u=0;u<l.length;u+=1){const d=Qi(f,l,u);c[u]?c[u].p(d,h):(c[u]=Xi(d),c[u].c(),c[u].m(n,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=l.length}h&16&&a!==(a="select-"+f[4]+" svelte-ywj2qo")&&p(n,"class",a),h&32&&p(n,"id",f[5]),h&8&&(n.disabled=f[3]),h&3&&Ti(n,f[0])},i:re,o:re,d(f){f&&y(e),o&&o.d(),me(c,f),i=!1,Ie(s)}}}function wh(t,e,r){const n=ea.filter(m=>m.position=="left"),a=ea.filter(m=>m.position=="right");let{options:i=[]}=e,{label:s=""}=e,{disabled:o=!1}=e,{value:l=i.length?i[0].value:""}=e,{position:c}=e,{id:f}=e;function h(m,g){let _;return g=="left"?_=n.findIndex(v=>v.character==m):g=="right"&&(_=a.findIndex(v=>v.character==m)),_}function u(){const m=c=="left"?"rightSelect":"leftSelect",g=document.getElementById(m).value,_=c=="left"?l:g,v=c=="right"?l:g,w=[h(_,"left"),h(v,"right")];dn.set(w)}function d(){l=Fc(this),r(0,l),r(1,i)}return t.$$set=m=>{"options"in m&&r(1,i=m.options),"label"in m&&r(2,s=m.label),"disabled"in m&&r(3,o=m.disabled),"value"in m&&r(0,l=m.value),"position"in m&&r(4,c=m.position),"id"in m&&r(5,f=m.id)},[l,i,s,o,c,f,u,d]}class $i extends ie{constructor(e){super(),se(this,e,wh,vh,ae,{options:1,label:2,disabled:3,value:0,position:4,id:5})}}function bh(t){let e,r,n,a,i,s='<p class="svelte-aicsac">/</p>';return{c(){e=M("div"),r=M("h3"),n=Y(t[0]),a=L(),i=M("div"),i.innerHTML=s,this.h()},l(o){e=C(o,"DIV",{class:!0});var l=E(e);r=C(l,"H3",{class:!0});var c=E(r);n=Q(c,t[0]),c.forEach(y),a=j(l),i=C(l,"DIV",{class:!0,"data-svelte-h":!0}),Me(i)!=="svelte-s0ceoq"&&(i.innerHTML=s),l.forEach(y),this.h()},h(){p(r,"class","svelte-aicsac"),p(i,"class","slash-box svelte-aicsac"),p(e,"class","header-wrapper svelte-aicsac")},m(o,l){N(o,e,l),k(e,r),k(r,n),k(e,a),k(e,i)},p(o,[l]){l&1&&ce(n,o[0])},i:re,o:re,d(o){o&&y(e)}}}function kh(t,e,r){let{title:n}=e;return t.$$set=a=>{"title"in a&&r(0,n=a.title)},[n]}class $e extends ie{constructor(e){super(),se(this,e,kh,bh,ae,{title:0})}}const Th=(t,{min_size:e=10,max_size:r=100}={min_size:10,max_size:100})=>{const n=()=>{t.parentElement&&Ch(t,t.parentElement,e,r)},a=new ResizeObserver(n);return a.observe(t==null?void 0:t.parentElement),{destroy(){a.disconnect()}}};function Mh({clientWidth:t,clientHeight:e,scrollWidth:r,scrollHeight:n}){return r>t||n>e}function Ch(t,e,r,n){let a=r,i=!1,s=r;for(t.style.fontSize=`${s}px`;!i&&a<n;)i=Mh(e),i||(t.style.fontSize=`${a}px`,a++);s=a-2,t.style.fontSize=`${s}px`}const Sh="display: inline-block; width: 100%; height: 100%;";function Ph(t){let e,r,n,a,i="Press the buttons below to swap the characters",s,o,l,c,f="The Pudding",h,u,d,m,g,_,v,w,b,T,P="Random",F,W,R,B,z,I,H;return r=new $e({props:{title:"Build your own ship"}}),u=new Ri({props:{characterID:t[0][0],position:"left"}}),m=new Ri({props:{characterID:t[0][1],position:"right"}}),v=new $i({props:{id:"leftSelect",options:t[1],value:t[1][t[0][0]].character,position:"left"}}),W=new Bt({props:{name:"shuffle"}}),B=new $i({props:{id:"rightSelect",options:t[2],value:t[2][t[0][1]].character,position:"right"}}),{c(){e=M("section"),K(r.$$.fragment),n=L(),a=M("p"),a.textContent=i,s=L(),o=M("div"),l=M("div"),c=M("p"),c.textContent=f,h=L(),K(u.$$.fragment),d=L(),K(m.$$.fragment),g=L(),_=M("div"),K(v.$$.fragment),w=L(),b=M("button"),T=M("span"),T.textContent=P,F=L(),K(W.$$.fragment),R=L(),K(B.$$.fragment),this.h()},l(O){e=C(O,"SECTION",{id:!0,class:!0});var V=E(e);J(r.$$.fragment,V),n=j(V),a=C(V,"P",{class:!0,"data-svelte-h":!0}),Me(a)!=="svelte-lejwrp"&&(a.textContent=i),s=j(V),o=C(V,"DIV",{class:!0});var G=E(o);l=C(G,"DIV",{class:!0,style:!0});var le=E(l);c=C(le,"P",{class:!0,"data-svelte-h":!0}),Me(c)!=="svelte-1p8pc59"&&(c.textContent=f),le.forEach(y),h=j(G),J(u.$$.fragment,G),d=j(G),J(m.$$.fragment,G),G.forEach(y),g=j(V),_=C(V,"DIV",{class:!0});var ee=E(_);J(v.$$.fragment,ee),w=j(ee),b=C(ee,"BUTTON",{id:!0,class:!0});var he=E(b);T=C(he,"SPAN",{"data-svelte-h":!0}),Me(T)!=="svelte-1mbys3h"&&(T.textContent=P),F=j(he),J(W.$$.fragment,he),he.forEach(y),R=j(ee),J(B.$$.fragment,ee),ee.forEach(y),V.forEach(y),this.h()},h(){p(a,"class","instructions svelte-afei4o"),p(c,"class","stage-bg svelte-afei4o"),p(l,"class","text-fit-wrapper svelte-afei4o"),p(l,"style",Sh),p(o,"class","stage svelte-afei4o"),p(b,"id","random-characters"),p(b,"class","svelte-afei4o"),p(_,"class","controls svelte-afei4o"),p(e,"id","character-swap"),p(e,"class","svelte-afei4o")},m(O,V){N(O,e,V),x(r,e,null),k(e,n),k(e,a),k(e,s),k(e,o),k(o,l),k(l,c),k(o,h),x(u,o,null),k(o,d),x(m,o,null),k(e,g),k(e,_),x(v,_,null),k(_,w),k(_,b),k(b,T),k(b,F),x(W,b,null),k(_,R),x(B,_,null),z=!0,I||(H=[Xe(Th.call(null,c,{min_size:12,max_size:400})),de(b,"click",t[3])],I=!0)},p(O,[V]){const G={};V&1&&(G.characterID=O[0][0]),u.$set(G);const le={};V&1&&(le.characterID=O[0][1]),m.$set(le);const ee={};V&1&&(ee.value=O[1][O[0][0]].character),v.$set(ee);const he={};V&1&&(he.value=O[2][O[0][1]].character),B.$set(he)},i(O){z||(S(r.$$.fragment,O),S(u.$$.fragment,O),S(m.$$.fragment,O),S(v.$$.fragment,O),S(W.$$.fragment,O),S(B.$$.fragment,O),z=!0)},o(O){D(r.$$.fragment,O),D(u.$$.fragment,O),D(m.$$.fragment,O),D(v.$$.fragment,O),D(W.$$.fragment,O),D(B.$$.fragment,O),z=!1},d(O){O&&y(e),U(r),U(u),U(m),U(v),U(W),U(B),I=!1,Ie(H)}}}function Eh(t,e,r){let n;q(t,dn,l=>r(0,n=l));const a=ea.filter(l=>l.position=="left"),i=ea.filter(l=>l.position=="right");dn.set(s());function s(){const c=a.length-1,f=Math.floor(Math.random()*(c-1+1))+1,h=Math.floor(Math.random()*(c-1+1))+1;return[f,h]}function o(){dn.set(s())}return dn.set(s()),[n,a,i,o]}class Ah extends ie{constructor(e){super(),se(this,e,Eh,Ph,ae,{})}}function es(t,e,r){const n=t.slice();return n[1]=e[r],n[3]=r,n}function ts(t){let e,r,n=t[1].value+"";return{c(){e=M("p"),r=new Gn(!1),this.h()},l(a){e=C(a,"P",{class:!0});var i=E(e);r=Kn(i,!1),i.forEach(y),this.h()},h(){r.a=null,p(e,"class","svelte-1tse2iq")},m(a,i){N(a,e,i),r.m(n,e)},p(a,i){i&1&&n!==(n=a[1].value+"")&&r.p(n)},d(a){a&&y(e)}}}function Fh(t){let e,r=Z(t[0]),n=[];for(let a=0;a<r.length;a+=1)n[a]=ts(es(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p(a,[i]){if(i&1){r=Z(a[0]);let s;for(s=0;s<r.length;s+=1){const o=es(a,r,s);n[s]?n[s].p(o,i):(n[s]=ts(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},i:re,o:re,d(a){a&&y(e),me(n,a)}}}function Dh(t,e,r){let{copy:n}=e;return t.$$set=a=>{"copy"in a&&r(0,n=a.copy)},[n]}class rc extends ie{constructor(e){super(),se(this,e,Dh,Fh,ae,{copy:0})}}function Nh(t){return t===0?!0:t}function Dt(t){return Nh(t)?Array.isArray(t)?e=>t.map(r=>typeof r!="function"?e[r]:r(e)):typeof t!="function"?e=>e[t]:t:null}function La(t,e={}){return Object.fromEntries(Object.entries(t).filter(([r,n])=>n!==void 0&&e[r]===void 0))}function Rh(t,e=300){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{t.apply(this,n)},e)}}function Ih(t,e,r={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const n={},a=Object.keys(e),i=a.length;let s,o,l,c,f,h,u;const d=t.length;for(s=0;s<i;s+=1){for(u=new Oc,c=a[s],f=e[c],o=0;o<d;o+=1)if(h=f(t[o]),Array.isArray(h)){const g=h.length;for(l=0;l<g;l+=1)u.add(h[l])}else u.add(h);const m=Array.from(u);(r.sort===!0||r[c]===!0)&&m.sort(qn),n[c]=m}return n}function zh(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const r={},n=Object.keys(e),a=n.length;let i,s,o,l,c,f,h,u;const d=t.length;for(i=0;i<a;i+=1){for(l=n[i],h=e[l],c=null,f=null,s=0;s<d;s+=1)if(u=h(t[s],s),Array.isArray(u)){const m=u.length;for(o=0;o<m;o+=1)u[o]!==!1&&u[o]!==void 0&&u[o]!==null&&Number.isNaN(u[o])===!1&&((c===null||u[o]<c)&&(c=u[o]),(f===null||u[o]>f)&&(f=u[o]))}else u!==!1&&u!==void 0&&u!==null&&Number.isNaN(u)===!1&&((c===null||u<c)&&(c=u),(f===null||u>f)&&(f=u));r[l]=[c,f]}return r}function jn(t,e){return t.length!==e.length?!1:t.every(r=>e.includes(r))}function ac(t){return!!(typeof t.bandwidth=="function"||jn(Object.keys(t),["domain","range","unknown","copy"]))}function Bh(t,e,r){const n=Object.entries(r).reduce((i,[s,o])=>{const l=ac(o.scale)===!0?"ordinal":"other";return i[l]||(i[l]={}),i[l][s]=e[s],i},{ordinal:!1,other:!1});let a={};if(n.ordinal){const i=Object.fromEntries(Object.entries(r).map(([s,o])=>[s,o.sort]));a=Ih(t,n.ordinal,i)}return n.other&&(a={...a,...zh(t,n.other)}),a}function Vh(t=[],e){return Array.isArray(e)===!0?e.map((r,n)=>r===null?t[n]:r):t}function Wr(t){return function([r,n]){return typeof n=="function"&&(n=n(r[t])),r?Vh(r[t],n):n}}const On={x:Yr,y:Yr,z:Yr,r:oh};function Wh(t){return t.constant?"symlog":t.base?"log":t.exponent?t.exponent()===.5?"sqrt":"pow":"other"}function ns(t){return t}function Lh(t){return e=>Math.log(t*e)}function jh(t){return e=>t*Math.exp(e)}function Oh(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function Hh(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Lr(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function qh(t){const e=Wh(t);if(e==="log"){const r=Math.sign(t.domain()[0]);return{lift:Lh(r),ground:jh(r),scaleType:e}}return e==="pow"?{lift:Lr(1),ground:Lr(1/1),scaleType:e}:e==="sqrt"?{lift:Lr(.5),ground:Lr(1/.5),scaleType:e}:e==="symlog"?{lift:Oh(1),ground:Hh(1),scaleType:e}:{lift:ns,ground:ns,scaleType:e}}function ia(t){return t.replace(/^\w/,e=>e.toUpperCase())}function Ve(t,e=""){return`scale${ia(e)}${ia(t)}`}function ic(t){if(typeof t.bandwidth=="function")return typeof t.paddingInner=="function"?Ve("band"):Ve("point");if(jn(Object.keys(t),["domain","range","unknown","copy"]))return Ve("ordinal");let e="";if(t.interpolator&&(t.domain().length===3?e="diverging":e="sequential"),t.quantiles)return Ve("quantile",e);if(t.thresholds)return Ve("quantize",e);if(t.constant)return Ve("symlog",e);if(t.base)return Ve("log",e);if(t.exponent)return t.exponent()===.5?Ve("sqrt",e):Ve("pow",e);if(jn(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return Ve("threshold");if(jn(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Ve("identity");if(jn(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Ve("radial");if(e)return Ve(e);if(t.domain()[0]instanceof Date){const r=new Date;let n;return r.getDay=()=>n="time",r.getUTCDay=()=>n="utc",t.tickFormat(0,"%a")(r),Ve(n)}return Ve("linear")}const Gh=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Kh(t,e){if(typeof t.range!="function")throw new Error("Scale method `range` must be a function");if(typeof t.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||Gh.includes(ic(t))||ac(t)===!0)return t.domain();const{lift:r,ground:n}=qh(t),a=t.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[s,o]=t.domain().map(d=>r(i?d.getTime():d)),[l,c]=t.range(),f=e[0]||0,h=e[1]||0,u=(o-s)/(Math.abs(c-l)-f-h);return[s-f*u,h*u+o].map(d=>n(i?new Date(d):d))}function xh(t,e,r,n,a){let i,s;return a===!0?(i=0,s=100):(i=t==="r"?1:0,s=t==="y"?r:t==="r"?25:e),n===!0?[s,i]:[i,s]}function Uh(t,e,r,n,a,i){return a?typeof a=="function"?a({width:e,height:r}):a:xh(t,e,r,n,i)}function jr(t){return function([r,n,a,i,s,o,l,c,f,h]){if(n===null)return null;const u=Uh(t,l,c,o,f,h),d=r===On[t]?r():r.copy();return d.domain(a),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(u),i&&d.domain(Kh(d,i)),(s===!0||typeof s=="number")&&(typeof d.nice=="function"?d.nice(typeof s=="number"?s:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Or([t,e]){return(r,n)=>{const a=t(r,n);return Array.isArray(a)?a.map(i=>e(i)):e(a)}}function Hr([t]){if(typeof t=="function"){if(typeof t.range=="function")return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ye="    ";function Jh(t){const{r:e,g:r,b:n,opacity:a}=Hc(t);return[e,r,n].every(i=>i>=0&&i<=255)?{r:e,g:r,b:n,o:a}:!1}function Yh({r:t,g:e,b:r}){return(.2126*t+.7152*e+.0722*r)/255>.6?"black":"white"}function Qh(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Zh(t.boundingBox),console.log("Data:"),console.log(Ye,t.data),t.flatData&&(console.log("flatData:"),console.log(Ye,t.flatData)),console.log("Scales:"),Object.keys(t.activeGetters).forEach(e=>{Xh(e,t[`${e}Scale`],t[e])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Zh(t){Object.entries(t).forEach(([e,r])=>{console.log(`${Ye}${e}:`,r)})}function Xh(t,e,r){const n=ic(e);console.log(`${Ye}${t}:`),console.log(`${Ye}${Ye}Accessor: "${r.toString()}"`),console.log(`${Ye}${Ye}Type: ${n}`),rs(e,"domain"),rs(e,"range"," ")}function rs(t,e,r=""){const n=t[e](),a=ed(n);a?$h(a,e,n):console.log(`${Ye}${Ye}${ia(e)}:${r}`,n)}function $h(t,e,r){console.log(`${Ye}${Ye}${ia(e)}:    %cArray%c(${r.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}function ed(t){const e=[],r=t.map((n,a)=>{const i=Jh(n);if(i!==!1){e.push(i);const s=a===t.length-1?" ":"";return`%c ${n}${s}`}return n});return e.length?[`%c[ ${r.join(", ")}`,e.map(n=>`background-color: rgba(${n.r}, ${n.g}, ${n.b}, ${n.o}); color:${Yh(n)};`)]:null}const td=t=>({element:t[0]&4,width:t[1]&8,height:t[1]&16,aspectRatio:t[1]&32,containerWidth:t[1]&2,containerHeight:t[1]&1,activeGetters:t[0]&1024,percentRange:t[1]&4,x:t[0]&1073741824,y:t[0]&536870912,z:t[0]&268435456,r:t[0]&134217728,custom:t[0]&16384,data:t[0]&4096,xNice:t[0]&67108864,yNice:t[0]&33554432,zNice:t[0]&16777216,rNice:t[0]&8388608,xDomainSort:t[1]&64,yDomainSort:t[1]&128,zDomainSort:t[1]&256,rDomainSort:t[1]&512,xReverse:t[0]&4194304,yReverse:t[0]&2097152,zReverse:t[0]&1048576,rReverse:t[0]&524288,xPadding:t[0]&262144,yPadding:t[0]&131072,zPadding:t[0]&65536,rPadding:t[0]&32768,padding:t[1]&1024,flatData:t[0]&2048,extents:t[1]&2048,xDomain:t[1]&4096,yDomain:t[1]&8192,zDomain:t[1]&16384,rDomain:t[1]&32768,xRange:t[1]&65536,yRange:t[1]&131072,zRange:t[1]&262144,rRange:t[1]&524288,config:t[0]&8192,xScale:t[0]&512,xGet:t[1]&1048576,yScale:t[0]&256,yGet:t[1]&2097152,zScale:t[0]&128,zGet:t[1]&4194304,rScale:t[0]&64,rGet:t[1]&8388608}),as=t=>({element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[30],y:t[29],z:t[28],r:t[27],custom:t[14],data:t[12],xNice:t[26],yNice:t[25],zNice:t[24],rNice:t[23],xDomainSort:t[37],yDomainSort:t[38],zDomainSort:t[39],rDomainSort:t[40],xReverse:t[22],yReverse:t[21],zReverse:t[20],rReverse:t[19],xPadding:t[18],yPadding:t[17],zPadding:t[16],rPadding:t[15],padding:t[41],flatData:t[11],extents:t[42],xDomain:t[43],yDomain:t[44],zDomain:t[45],rDomain:t[46],xRange:t[47],yRange:t[48],zRange:t[49],rRange:t[50],config:t[13],xScale:t[9],xGet:t[51],yScale:t[8],yGet:t[52],zScale:t[7],zGet:t[53],rScale:t[6],rGet:t[54]});function is(t){let e,r,n;const a=t[166].default,i=qe(a,t,t[165],as);return{c(){e=M("div"),i&&i.c(),this.h()},l(s){e=C(s,"DIV",{class:!0});var o=E(e);i&&i.l(o),o.forEach(y),this.h()},h(){p(e,"class","layercake-container svelte-w5m4wa"),we(()=>t[168].call(e)),$(e,"position",t[5]),$(e,"top",t[5]==="absolute"?"0":null),$(e,"right",t[5]==="absolute"?"0":null),$(e,"bottom",t[5]==="absolute"?"0":null),$(e,"left",t[5]==="absolute"?"0":null),$(e,"pointer-events",t[4]===!1?"none":null)},m(s,o){N(s,e,o),i&&i.m(e,null),t[167](e),r=oa(e,t[168].bind(e)),n=!0},p(s,o){i&&i.p&&(!n||o[0]&2147483588|o[1]&16777215|o[5]&1024)&&Ge(i,a,s,s[165],n?xe(a,s[165],o,td):Ke(s[165]),as),o[0]&32&&$(e,"position",s[5]),o[0]&32&&$(e,"top",s[5]==="absolute"?"0":null),o[0]&32&&$(e,"right",s[5]==="absolute"?"0":null),o[0]&32&&$(e,"bottom",s[5]==="absolute"?"0":null),o[0]&32&&$(e,"left",s[5]==="absolute"?"0":null),o[0]&16&&$(e,"pointer-events",s[4]===!1?"none":null)},i(s){n||(S(i,s),n=!0)},o(s){D(i,s),n=!1},d(s){s&&y(e),i&&i.d(s),t[167](null),r()}}}function nd(t){let e,r,n=(t[3]===!0||typeof window<"u")&&is(t);return{c(){n&&n.c(),e=X()},l(a){n&&n.l(a),e=X()},m(a,i){n&&n.m(a,i),N(a,e,i),r=!0},p(a,i){a[3]===!0||typeof window<"u"?n?(n.p(a,i),i[0]&8&&S(n,1)):(n=is(a),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(te(),D(n,1,1,()=>{n=null}),ne())},i(a){r||(S(n),r=!0)},o(a){D(n),r=!1},d(a){a&&y(e),n&&n.d(a)}}}function rd(t,e,r){let n,a,i,s,o,l,c,f,h,u,d,m,g,_,v,w,b,T,P,F,W,R,B,z,I,H,O,V,G,le,ee,he,ge,_e,Pe,Ue,De,je,be,Ee,et,mt,tt,Je,ot,ze,pt,nt,gt,_t,Mt,rt,Ct,yt,Yn,Rt,vt,wt,Lt,St,Qn,fe,Be,lt,Pt,_i,{$$slots:dc={},$$scope:yi}=e;const mc=Rh(Qh,200);let{ssr:ua=!1}=e,{pointerEvents:vi=!0}=e,{position:wi="relative"}=e,{percentRange:Zn=!1}=e,{width:ha=void 0}=e,{height:da=void 0}=e,{containerWidth:jt=ha||100}=e,{containerHeight:Ot=da||100}=e,{element:Xn=void 0}=e,{x:Ht=void 0}=e,{y:qt=void 0}=e,{z:Gt=void 0}=e,{r:Kt=void 0}=e,{data:xt=[]}=e,{xDomain:Ut=void 0}=e,{yDomain:Jt=void 0}=e,{zDomain:Yt=void 0}=e,{rDomain:Qt=void 0}=e,{xNice:$n=!1}=e,{yNice:er=!1}=e,{zNice:tr=!1}=e,{rNice:nr=!1}=e,{xPadding:rr=void 0}=e,{yPadding:ar=void 0}=e,{zPadding:ir=void 0}=e,{rPadding:sr=void 0}=e,{xScale:or=On.x}=e,{yScale:yn=On.y}=e,{zScale:lr=On.z}=e,{rScale:cr=On.r}=e,{xRange:Zt=void 0}=e,{yRange:Xt=void 0}=e,{zRange:$t=void 0}=e,{rRange:en=void 0}=e,{xReverse:fr=!1}=e,{yReverse:ur=void 0}=e,{zReverse:hr=!1}=e,{rReverse:dr=!1}=e,{xDomainSort:ma=!0}=e,{yDomainSort:pa=!0}=e,{zDomainSort:ga=!0}=e,{rDomainSort:_a=!0}=e,{padding:mr={}}=e,{extents:pr={}}=e,{flatData:vn=void 0}=e,{custom:gr={}}=e,{debug:ya=!1}=e,{verbose:va=!0}=e,wa=!1;it(()=>{wa=!0});const ye={},Et=oe(Zn);q(t,Et,A=>r(33,ot=A));const tn=oe(jt);q(t,tn,A=>r(32,Je=A));const nn=oe(Ot);q(t,nn,A=>r(31,tt=A));const _r=oe(La(pr));q(t,_r,A=>r(183,mt=A));const yr=oe(xt);q(t,yr,A=>r(12,u=A));const wn=oe(vn||xt);q(t,wn,A=>r(11,h=A));const vr=oe(mr);q(t,vr,A=>r(182,et=A));const rn=oe(Dt(Ht));q(t,rn,A=>r(30,Ee=A));const an=oe(Dt(qt));q(t,an,A=>r(29,be=A));const sn=oe(Dt(Gt));q(t,sn,A=>r(28,je=A));const on=oe(Dt(Kt));q(t,on,A=>r(27,De=A));const wr=oe(Ut);q(t,wr,A=>r(181,Ue=A));const br=oe(Jt);q(t,br,A=>r(180,Pe=A));const kr=oe(Yt);q(t,kr,A=>r(179,_e=A));const Tr=oe(Qt);q(t,Tr,A=>r(178,ge=A));const bn=oe($n);q(t,bn,A=>r(26,he=A));const kn=oe(er);q(t,kn,A=>r(25,ee=A));const Tn=oe(tr);q(t,Tn,A=>r(24,le=A));const Mn=oe(nr);q(t,Mn,A=>r(23,G=A));const Cn=oe(fr);q(t,Cn,A=>r(22,V=A));const Sn=oe(n);q(t,Sn,A=>r(21,O=A));const Pn=oe(hr);q(t,Pn,A=>r(20,H=A));const En=oe(dr);q(t,En,A=>r(19,I=A));const An=oe(rr);q(t,An,A=>r(18,z=A));const Fn=oe(ar);q(t,Fn,A=>r(17,B=A));const Dn=oe(ir);q(t,Dn,A=>r(16,R=A));const Nn=oe(sr);q(t,Nn,A=>r(15,W=A));const Mr=oe(Zt);q(t,Mr,A=>r(177,F=A));const Cr=oe(Xt);q(t,Cr,A=>r(176,P=A));const Sr=oe($t);q(t,Sr,A=>r(175,T=A));const Pr=oe(en);q(t,Pr,A=>r(174,b=A));const Rn=oe(or);q(t,Rn,A=>r(173,w=A));const In=oe(yn);q(t,In,A=>r(172,v=A));const zn=oe(lr);q(t,zn,A=>r(171,_=A));const Bn=oe(cr);q(t,Bn,A=>r(170,g=A));const Er=oe(ma);q(t,Er,A=>r(37,gt=A));const Ar=oe(pa);q(t,Ar,A=>r(38,_t=A));const Fr=oe(ga);q(t,Fr,A=>r(39,Mt=A));const Dr=oe(_a);q(t,Dr,A=>r(40,rt=A));const Nr=oe(ye);q(t,Nr,A=>r(13,d=A));const Rr=oe(gr);q(t,Rr,A=>r(14,m=A));const Ir=ve([rn,an,sn,on],([A,bt,ct,Ne])=>{const It={};return A&&(It.x=A),bt&&(It.y=bt),ct&&(It.z=ct),Ne&&(It.r=Ne),It});q(t,Ir,A=>r(10,c=A));const zr=ve([vr,tn,nn],([A])=>Object.assign({top:0,right:0,bottom:0,left:0},A));q(t,zr,A=>r(41,Ct=A));const Br=ve([tn,nn,zr],([A,bt,ct])=>{const Ne={};return Ne.top=ct.top,Ne.right=A-ct.right,Ne.bottom=bt-ct.bottom,Ne.left=ct.left,Ne.width=Ne.right-Ne.left,Ne.height=Ne.bottom-Ne.top,va===!0&&(Ne.width<=0&&wa===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),Ne.height<=0&&wa===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),Ne});q(t,Br,A=>r(164,f=A));const At=ve([Br],([A])=>A.width);q(t,At,A=>r(34,ze=A));const Ft=ve([Br],([A])=>A.height);q(t,Ft,A=>r(35,pt=A));const at=ve([wn,Ir,_r,Rn,In,Bn,zn,Er,Ar,Fr,Dr],([A,bt,ct,Ne,It,bc,kc,Tc,Mc,Cc,Sc])=>{const Pc={x:{scale:Ne,sort:Tc},y:{scale:It,sort:Mc},r:{scale:bc,sort:Sc},z:{scale:kc,sort:Cc}},Ia=La(bt,ct),Ec=Object.fromEntries(Object.keys(Ia).map(za=>[za,Pc[za]]));return Object.keys(Ia).length>0?{...Bh(A,Ia,Ec),...ct}:{}});q(t,at,A=>r(42,yt=A));const ba=ve([at,wr],Wr("x"));q(t,ba,A=>r(43,Yn=A));const ka=ve([at,br],Wr("y"));q(t,ka,A=>r(44,Rt=A));const Ta=ve([at,kr],Wr("z"));q(t,Ta,A=>r(45,vt=A));const Ma=ve([at,Tr],Wr("r"));q(t,Ma,A=>r(46,wt=A));const ln=ve([Rn,at,ba,An,bn,Cn,At,Ft,Mr,Et],jr("x"));q(t,ln,A=>r(9,l=A));const Ca=ve([rn,ln],Or);q(t,Ca,A=>r(51,Be=A));const cn=ve([In,at,ka,Fn,kn,Sn,At,Ft,Cr,Et],jr("y"));q(t,cn,A=>r(8,o=A));const Sa=ve([an,cn],Or);q(t,Sa,A=>r(52,lt=A));const fn=ve([zn,at,Ta,Dn,Tn,Pn,At,Ft,Sr,Et],jr("z"));q(t,fn,A=>r(7,s=A));const Pa=ve([sn,fn],Or);q(t,Pa,A=>r(53,Pt=A));const un=ve([Bn,at,Ma,Nn,Mn,En,At,Ft,Pr,Et],jr("r"));q(t,un,A=>r(6,i=A));const Ea=ve([on,un],Or);q(t,Ea,A=>r(54,_i=A));const pc=ve(ln,A=>A.domain()),gc=ve(cn,A=>A.domain()),_c=ve(fn,A=>A.domain()),yc=ve(un,A=>A.domain()),Aa=ve([ln],Hr);q(t,Aa,A=>r(47,Lt=A));const Fa=ve([cn],Hr);q(t,Fa,A=>r(48,St=A));const Da=ve([fn],Hr);q(t,Da,A=>r(49,Qn=A));const Na=ve([un],Hr);q(t,Na,A=>r(50,fe=A));const Ra=ve([At,Ft],([A,bt])=>A/bt);q(t,Ra,A=>r(36,nt=A));function vc(A){ht[A?"unshift":"push"](()=>{Xn=A,r(2,Xn)})}function wc(){jt=this.clientWidth,Ot=this.clientHeight,r(0,jt),r(1,Ot)}return t.$$set=A=>{"ssr"in A&&r(3,ua=A.ssr),"pointerEvents"in A&&r(4,vi=A.pointerEvents),"position"in A&&r(5,wi=A.position),"percentRange"in A&&r(119,Zn=A.percentRange),"width"in A&&r(120,ha=A.width),"height"in A&&r(121,da=A.height),"containerWidth"in A&&r(0,jt=A.containerWidth),"containerHeight"in A&&r(1,Ot=A.containerHeight),"element"in A&&r(2,Xn=A.element),"x"in A&&r(122,Ht=A.x),"y"in A&&r(123,qt=A.y),"z"in A&&r(124,Gt=A.z),"r"in A&&r(125,Kt=A.r),"data"in A&&r(126,xt=A.data),"xDomain"in A&&r(127,Ut=A.xDomain),"yDomain"in A&&r(128,Jt=A.yDomain),"zDomain"in A&&r(129,Yt=A.zDomain),"rDomain"in A&&r(130,Qt=A.rDomain),"xNice"in A&&r(131,$n=A.xNice),"yNice"in A&&r(132,er=A.yNice),"zNice"in A&&r(133,tr=A.zNice),"rNice"in A&&r(134,nr=A.rNice),"xPadding"in A&&r(135,rr=A.xPadding),"yPadding"in A&&r(136,ar=A.yPadding),"zPadding"in A&&r(137,ir=A.zPadding),"rPadding"in A&&r(138,sr=A.rPadding),"xScale"in A&&r(139,or=A.xScale),"yScale"in A&&r(140,yn=A.yScale),"zScale"in A&&r(141,lr=A.zScale),"rScale"in A&&r(142,cr=A.rScale),"xRange"in A&&r(143,Zt=A.xRange),"yRange"in A&&r(144,Xt=A.yRange),"zRange"in A&&r(145,$t=A.zRange),"rRange"in A&&r(146,en=A.rRange),"xReverse"in A&&r(147,fr=A.xReverse),"yReverse"in A&&r(148,ur=A.yReverse),"zReverse"in A&&r(149,hr=A.zReverse),"rReverse"in A&&r(150,dr=A.rReverse),"xDomainSort"in A&&r(151,ma=A.xDomainSort),"yDomainSort"in A&&r(152,pa=A.yDomainSort),"zDomainSort"in A&&r(153,ga=A.zDomainSort),"rDomainSort"in A&&r(154,_a=A.rDomainSort),"padding"in A&&r(155,mr=A.padding),"extents"in A&&r(156,pr=A.extents),"flatData"in A&&r(157,vn=A.flatData),"custom"in A&&r(158,gr=A.custom),"debug"in A&&r(159,ya=A.debug),"verbose"in A&&r(160,va=A.verbose),"$$scope"in A&&r(165,yi=A.$$scope)},t.$$.update=()=>{t.$$.dirty[4]&16842752&&r(163,n=typeof ur>"u"?typeof yn.bandwidth!="function":ur),t.$$.dirty[3]&536870912&&Ht&&r(161,ye.x=Ht,ye),t.$$.dirty[3]&1073741824&&qt&&r(161,ye.y=qt,ye),t.$$.dirty[4]&1&&Gt&&r(161,ye.z=Gt,ye),t.$$.dirty[4]&2&&Kt&&r(161,ye.r=Kt,ye),t.$$.dirty[4]&8&&Ut&&r(161,ye.xDomain=Ut,ye),t.$$.dirty[4]&16&&Jt&&r(161,ye.yDomain=Jt,ye),t.$$.dirty[4]&32&&Yt&&r(161,ye.zDomain=Yt,ye),t.$$.dirty[4]&64&&Qt&&r(161,ye.rDomain=Qt,ye),t.$$.dirty[4]&524288&&Zt&&r(161,ye.xRange=Zt,ye),t.$$.dirty[4]&1048576&&Xt&&r(161,ye.yRange=Xt,ye),t.$$.dirty[4]&2097152&&$t&&r(161,ye.zRange=$t,ye),t.$$.dirty[4]&4194304&&en&&r(161,ye.rRange=en,ye),t.$$.dirty[3]&67108864&&pe(Et,ot=Zn,ot),t.$$.dirty[0]&1&&pe(tn,Je=jt,Je),t.$$.dirty[0]&2&&pe(nn,tt=Ot,tt),t.$$.dirty[5]&2&&pe(_r,mt=La(pr),mt),t.$$.dirty[4]&4&&pe(yr,u=xt,u),t.$$.dirty[4]&4|t.$$.dirty[5]&4&&pe(wn,h=vn||xt,h),t.$$.dirty[5]&1&&pe(vr,et=mr,et),t.$$.dirty[3]&536870912&&pe(rn,Ee=Dt(Ht),Ee),t.$$.dirty[3]&1073741824&&pe(an,be=Dt(qt),be),t.$$.dirty[4]&1&&pe(sn,je=Dt(Gt),je),t.$$.dirty[4]&2&&pe(on,De=Dt(Kt),De),t.$$.dirty[4]&8&&pe(wr,Ue=Ut,Ue),t.$$.dirty[4]&16&&pe(br,Pe=Jt,Pe),t.$$.dirty[4]&32&&pe(kr,_e=Yt,_e),t.$$.dirty[4]&64&&pe(Tr,ge=Qt,ge),t.$$.dirty[4]&128&&pe(bn,he=$n,he),t.$$.dirty[4]&256&&pe(kn,ee=er,ee),t.$$.dirty[4]&512&&pe(Tn,le=tr,le),t.$$.dirty[4]&1024&&pe(Mn,G=nr,G),t.$$.dirty[4]&8388608&&pe(Cn,V=fr,V),t.$$.dirty[5]&256&&pe(Sn,O=n,O),t.$$.dirty[4]&33554432&&pe(Pn,H=hr,H),t.$$.dirty[4]&67108864&&pe(En,I=dr,I),t.$$.dirty[4]&2048&&pe(An,z=rr,z),t.$$.dirty[4]&4096&&pe(Fn,B=ar,B),t.$$.dirty[4]&8192&&pe(Dn,R=ir,R),t.$$.dirty[4]&16384&&pe(Nn,W=sr,W),t.$$.dirty[4]&524288&&pe(Mr,F=Zt,F),t.$$.dirty[4]&1048576&&pe(Cr,P=Xt,P),t.$$.dirty[4]&2097152&&pe(Sr,T=$t,T),t.$$.dirty[4]&4194304&&pe(Pr,b=en,b),t.$$.dirty[4]&32768&&pe(Rn,w=or,w),t.$$.dirty[4]&65536&&pe(In,v=yn,v),t.$$.dirty[4]&131072&&pe(zn,_=lr,_),t.$$.dirty[4]&262144&&pe(Bn,g=cr,g),t.$$.dirty[5]&8&&pe(Rr,m=gr,m),t.$$.dirty[5]&64&&pe(Nr,d=ye,d),t.$$.dirty[5]&128&&Zr("LayerCake",a),t.$$.dirty[0]&8136|t.$$.dirty[5]&596&&f&&ya===!0&&(ua===!0||typeof window<"u")&&mc({data:u,flatData:typeof vn<"u"?h:null,boundingBox:f,activeGetters:c,x:ye.x,y:ye.y,z:ye.z,r:ye.r,xScale:l,yScale:o,zScale:s,rScale:i})},r(162,a={activeGetters:Ir,width:At,height:Ft,percentRange:Et,aspectRatio:Ra,containerWidth:tn,containerHeight:nn,x:rn,y:an,z:sn,r:on,custom:Rr,data:yr,xNice:bn,yNice:kn,zNice:Tn,rNice:Mn,xDomainSort:Er,yDomainSort:Ar,zDomainSort:Fr,rDomainSort:Dr,xReverse:Cn,yReverse:Sn,zReverse:Pn,rReverse:En,xPadding:An,yPadding:Fn,zPadding:Dn,rPadding:Nn,padding:zr,flatData:wn,extents:at,xDomain:pc,yDomain:gc,zDomain:_c,rDomain:yc,xRange:Aa,yRange:Fa,zRange:Da,rRange:Na,config:Nr,xScale:ln,xGet:Ca,yScale:cn,yGet:Sa,zScale:fn,zGet:Pa,rScale:un,rGet:Ea}),[jt,Ot,Xn,ua,vi,wi,i,s,o,l,c,h,u,d,m,W,R,B,z,I,H,O,V,G,le,ee,he,De,je,be,Ee,tt,Je,ot,ze,pt,nt,gt,_t,Mt,rt,Ct,yt,Yn,Rt,vt,wt,Lt,St,Qn,fe,Be,lt,Pt,_i,Et,tn,nn,_r,yr,wn,vr,rn,an,sn,on,wr,br,kr,Tr,bn,kn,Tn,Mn,Cn,Sn,Pn,En,An,Fn,Dn,Nn,Mr,Cr,Sr,Pr,Rn,In,zn,Bn,Er,Ar,Fr,Dr,Nr,Rr,Ir,zr,Br,At,Ft,at,ba,ka,Ta,Ma,ln,Ca,cn,Sa,fn,Pa,un,Ea,Aa,Fa,Da,Na,Ra,Zn,ha,da,Ht,qt,Gt,Kt,xt,Ut,Jt,Yt,Qt,$n,er,tr,nr,rr,ar,ir,sr,or,yn,lr,cr,Zt,Xt,$t,en,fr,ur,hr,dr,ma,pa,ga,_a,mr,pr,vn,gr,ya,va,ye,a,n,f,yi,dc,vc,wc]}class hi extends ie{constructor(e){super(),se(this,e,rd,nd,ae,{ssr:3,pointerEvents:4,position:5,percentRange:119,width:120,height:121,containerWidth:0,containerHeight:1,element:2,x:122,y:123,z:124,r:125,data:126,xDomain:127,yDomain:128,zDomain:129,rDomain:130,xNice:131,yNice:132,zNice:133,rNice:134,xPadding:135,yPadding:136,zPadding:137,rPadding:138,xScale:139,yScale:140,zScale:141,rScale:142,xRange:143,yRange:144,zRange:145,rRange:146,xReverse:147,yReverse:148,zReverse:149,rReverse:150,xDomainSort:151,yDomainSort:152,zDomainSort:153,rDomainSort:154,padding:155,extents:156,flatData:157,custom:158,debug:159,verbose:160},null,[-1,-1,-1,-1,-1,-1,-1])}}const ad=t=>({element:t&1}),ss=t=>({element:t[0]});function id(t){let e,r;const n=t[11].default,a=qe(n,t,t[10],ss);return{c(){e=M("div"),a&&a.c(),this.h()},l(i){e=C(i,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var s=E(e);a&&a.l(s),s.forEach(y),this.h()},h(){p(e,"class","layercake-layout-html svelte-13ksngx"),p(e,"role",t[6]),p(e,"aria-label",t[3]),p(e,"aria-labelledby",t[4]),p(e,"aria-describedby",t[5]),$(e,"z-index",t[1]),$(e,"pointer-events",t[2]===!1?"none":null),$(e,"top",t[7].top+"px"),$(e,"right",t[7].right+"px"),$(e,"bottom",t[7].bottom+"px"),$(e,"left",t[7].left+"px")},m(i,s){N(i,e,s),a&&a.m(e,null),t[12](e),r=!0},p(i,[s]){a&&a.p&&(!r||s&1025)&&Ge(a,n,i,i[10],r?xe(n,i[10],s,ad):Ke(i[10]),ss),(!r||s&64)&&p(e,"role",i[6]),(!r||s&8)&&p(e,"aria-label",i[3]),(!r||s&16)&&p(e,"aria-labelledby",i[4]),(!r||s&32)&&p(e,"aria-describedby",i[5]),s&2&&$(e,"z-index",i[1]),s&4&&$(e,"pointer-events",i[2]===!1?"none":null),s&128&&$(e,"top",i[7].top+"px"),s&128&&$(e,"right",i[7].right+"px"),s&128&&$(e,"bottom",i[7].bottom+"px"),s&128&&$(e,"left",i[7].left+"px")},i(i){r||(S(a,i),r=!0)},o(i){D(a,i),r=!1},d(i){i&&y(e),a&&a.d(i),t[12](null)}}}function sd(t,e,r){let n,a,{$$slots:i={},$$scope:s}=e;const{padding:o}=st("LayerCake");q(t,o,_=>r(7,a=_));let{element:l=void 0}=e,{zIndex:c=void 0}=e,{pointerEvents:f=void 0}=e,{role:h=void 0}=e,{label:u=void 0}=e,{labelledBy:d=void 0}=e,{describedBy:m=void 0}=e;function g(_){ht[_?"unshift":"push"](()=>{l=_,r(0,l)})}return t.$$set=_=>{"element"in _&&r(0,l=_.element),"zIndex"in _&&r(1,c=_.zIndex),"pointerEvents"in _&&r(2,f=_.pointerEvents),"role"in _&&r(9,h=_.role),"label"in _&&r(3,u=_.label),"labelledBy"in _&&r(4,d=_.labelledBy),"describedBy"in _&&r(5,m=_.describedBy),"$$scope"in _&&r(10,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&568&&r(6,n=h||(u||d||m?"figure":void 0))},[l,c,f,u,d,m,n,a,o,h,s,i,g]}class od extends ie{constructor(e){super(),se(this,e,sd,id,ae,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const ld=t=>({element:t&1}),os=t=>({element:t[0]}),cd=t=>({}),ls=t=>({}),fd=t=>({}),cs=t=>({});function fs(t){let e,r;return{c(){e=ke("title"),r=Y(t[8])},l(n){e=Te(n,"title",{});var a=E(e);r=Q(a,t[8]),a.forEach(y)},m(n,a){N(n,e,a),k(e,r)},p(n,a){a&256&&ce(r,n[8])},d(n){n&&y(e)}}}function ud(t){let e,r=t[8]&&fs(t);return{c(){r&&r.c(),e=X()},l(n){r&&r.l(n),e=X()},m(n,a){r&&r.m(n,a),N(n,e,a)},p(n,a){n[8]?r?r.p(n,a):(r=fs(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){n&&y(e),r&&r.d(n)}}}function hd(t){let e,r,n,a,i;const s=t[16].title,o=qe(s,t,t[15],cs),l=o||ud(t),c=t[16].defs,f=qe(c,t,t[15],ls),h=t[16].default,u=qe(h,t,t[15],os);return{c(){e=ke("svg"),l&&l.c(),r=ke("defs"),f&&f.c(),n=ke("g"),u&&u.c(),this.h()},l(d){e=Te(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var m=E(e);l&&l.l(m),r=Te(m,"defs",{});var g=E(r);f&&f.l(g),g.forEach(y),n=Te(m,"g",{class:!0,transform:!0});var _=E(n);u&&u.l(_),_.forEach(y),m.forEach(y),this.h()},h(){p(n,"class","layercake-layout-svg_g"),p(n,"transform",a="translate("+t[11].left+", "+t[11].top+")"),p(e,"class","layercake-layout-svg svelte-17l4rdd"),p(e,"viewBox",t[4]),p(e,"width",t[9]),p(e,"height",t[10]),p(e,"aria-label",t[5]),p(e,"aria-labelledby",t[6]),p(e,"aria-describedby",t[7]),$(e,"z-index",t[2]),$(e,"pointer-events",t[3]===!1?"none":null)},m(d,m){N(d,e,m),l&&l.m(e,null),k(e,r),f&&f.m(r,null),k(e,n),u&&u.m(n,null),t[17](n),t[18](e),i=!0},p(d,[m]){o?o.p&&(!i||m&32768)&&Ge(o,s,d,d[15],i?xe(s,d[15],m,fd):Ke(d[15]),cs):l&&l.p&&(!i||m&256)&&l.p(d,i?m:-1),f&&f.p&&(!i||m&32768)&&Ge(f,c,d,d[15],i?xe(c,d[15],m,cd):Ke(d[15]),ls),u&&u.p&&(!i||m&32769)&&Ge(u,h,d,d[15],i?xe(h,d[15],m,ld):Ke(d[15]),os),(!i||m&2048&&a!==(a="translate("+d[11].left+", "+d[11].top+")"))&&p(n,"transform",a),(!i||m&16)&&p(e,"viewBox",d[4]),(!i||m&512)&&p(e,"width",d[9]),(!i||m&1024)&&p(e,"height",d[10]),(!i||m&32)&&p(e,"aria-label",d[5]),(!i||m&64)&&p(e,"aria-labelledby",d[6]),(!i||m&128)&&p(e,"aria-describedby",d[7]),m&4&&$(e,"z-index",d[2]),m&8&&$(e,"pointer-events",d[3]===!1?"none":null)},i(d){i||(S(l,d),S(f,d),S(u,d),i=!0)},o(d){D(l,d),D(f,d),D(u,d),i=!1},d(d){d&&y(e),l&&l.d(d),f&&f.d(d),u&&u.d(d),t[17](null),t[18](null)}}}function dd(t,e,r){let n,a,i,{$$slots:s={},$$scope:o}=e,{element:l=void 0}=e,{innerElement:c=void 0}=e,{zIndex:f=void 0}=e,{pointerEvents:h=void 0}=e,{viewBox:u=void 0}=e,{label:d=void 0}=e,{labelledBy:m=void 0}=e,{describedBy:g=void 0}=e,{title:_=void 0}=e;const{containerWidth:v,containerHeight:w,padding:b}=st("LayerCake");q(t,v,F=>r(9,n=F)),q(t,w,F=>r(10,a=F)),q(t,b,F=>r(11,i=F));function T(F){ht[F?"unshift":"push"](()=>{c=F,r(1,c)})}function P(F){ht[F?"unshift":"push"](()=>{l=F,r(0,l)})}return t.$$set=F=>{"element"in F&&r(0,l=F.element),"innerElement"in F&&r(1,c=F.innerElement),"zIndex"in F&&r(2,f=F.zIndex),"pointerEvents"in F&&r(3,h=F.pointerEvents),"viewBox"in F&&r(4,u=F.viewBox),"label"in F&&r(5,d=F.label),"labelledBy"in F&&r(6,m=F.labelledBy),"describedBy"in F&&r(7,g=F.describedBy),"title"in F&&r(8,_=F.title),"$$scope"in F&&r(15,o=F.$$scope)},[l,c,f,h,u,d,m,g,_,n,a,i,v,w,b,o,s,T,P]}class di extends ie{constructor(e){super(),se(this,e,dd,hd,ae,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function $a(t,e=r=>r){const r=typeof e=="string"?n=>n[e]:e;if(Array.isArray(t)&&Array.isArray(r(t[0]))){let n=[];const a=t.length;for(let i=0;i<a;i+=1)n=n.concat(r(t[i]));return n}return t}function ja(t,e,{value:r,order:n,offset:a}={}){if(typeof t!="object")throw new TypeError("The first argument of stack() must be an array or data object");if(!Array.isArray(e))throw new TypeError("The second argument of stack() must be an array of key names");let i=yh().keys(e);return r&&(i=i.value(r)),n&&(i=i.order(n)),a&&(i=i.offset(a)),i(t)}function md(t,e,{groupTo:r="group",valueTo:n="value",keepKeys:a=void 0}={}){if(!Array.isArray(t))throw new TypeError("The first argument of groupLonger() must be an array of data");if(!Array.isArray(e))throw new TypeError("The second argument of groupLonger() must be an array of key names");const i=new Set(e),s=a||Object.keys(t[0]).filter(o=>!i.has(o));return e.map(o=>({[r]:o,values:t.map(l=>({...Object.fromEntries(s.map(c=>[c,l[c]])),[n]:l[o],[r]:o}))}))}function us(t){let e,r;return{c(){e=ke("path"),this.h()},l(n){e=Te(n,"path",{d:!0,stroke:!0,class:!0}),E(e).forEach(y),this.h()},h(){p(e,"d",t[2]),p(e,"stroke",t[0]),p(e,"class","svelte-1ifnt6l")},m(n,a){N(n,e,a)},p(n,a){a&4&&p(e,"d",n[2]),a&1&&p(e,"stroke",n[0])},i(n){n&&(r||we(()=>{r=la(e,Wl,{duration:1e3}),r.start()}))},o:re,d(n){n&&y(e)}}}function pd(t){let e,r,n,a,i,s,o,l,c,f,h,u=t[1]&&us(t);return{c(){u&&u.c(),e=L(),r=ke("g"),n=ke("rect"),o=ke("text"),l=Y("No data collected in 2018"),this.h()},l(d){u&&u.l(d),e=j(d),r=Te(d,"g",{class:!0});var m=E(r);n=Te(m,"rect",{x:!0,y:!0,width:!0,height:!0,class:!0});var g=E(n);g.forEach(y),o=Te(m,"text",{x:!0,y:!0,transform:!0,class:!0});var _=E(o);l=Q(_,"No data collected in 2018"),_.forEach(y),m.forEach(y),this.h()},h(){p(n,"x",a=t[3]/2-t[3]/20+10),p(n,"y",-4),p(n,"width",i=t[3]/10-20),p(n,"height",s=t[4]+4),p(n,"class","svelte-1ifnt6l"),p(o,"x",c=t[3]/2-t[3]/20+20),p(o,"y",f=t[4]/2),p(o,"transform",h="rotate(-90,"+t[3]/2+","+(t[4]/2-4)+")"),p(o,"class","svelte-1ifnt6l"),p(r,"class","rect-overlay")},m(d,m){u&&u.m(d,m),N(d,e,m),N(d,r,m),k(r,n),k(r,o),k(o,l)},p(d,[m]){d[1]?u?(u.p(d,m),m&2&&S(u,1)):(u=us(d),u.c(),S(u,1),u.m(e.parentNode,e)):u&&(u.d(1),u=null),m&8&&a!==(a=d[3]/2-d[3]/20+10)&&p(n,"x",a),m&8&&i!==(i=d[3]/10-20)&&p(n,"width",i),m&16&&s!==(s=d[4]+4)&&p(n,"height",s),m&8&&c!==(c=d[3]/2-d[3]/20+20)&&p(o,"x",c),m&16&&f!==(f=d[4]/2)&&p(o,"y",f),m&24&&h!==(h="rotate(-90,"+d[3]/2+","+(d[4]/2-4)+")")&&p(o,"transform",h)},i(d){S(u)},o:re,d(d){d&&(y(e),y(r)),u&&u.d(d)}}}function gd(t,e,r){let n,a,i,s,o,l,c;const{data:f,xGet:h,yGet:u,width:d,height:m}=st("LayerCake");q(t,f,w=>r(12,i=w)),q(t,h,w=>r(14,o=w)),q(t,u,w=>r(13,s=w)),q(t,d,w=>r(3,l=w)),q(t,m,w=>r(4,c=w));let{stroke:g="#1B2AA6"}=e,{curve:_=nc}=e,{inViewTrigger:v}=e;return t.$$set=w=>{"stroke"in w&&r(0,g=w.stroke),"curve"in w&&r(10,_=w.curve),"inViewTrigger"in w&&r(1,v=w.inViewTrigger)},t.$$.update=()=>{t.$$.dirty&25600&&r(11,n=ec().x(o).y(s).curve(_)),t.$$.dirty&6144&&r(2,a=n(i))},[g,v,a,l,c,f,h,u,d,m,_,n,i,s,o]}class _d extends ie{constructor(e){super(),se(this,e,gd,pd,ae,{stroke:0,curve:10,inViewTrigger:1})}}function hs(t,e,r){const n=t.slice();return n[18]=e[r],n[20]=r,n}function ds(t){let e,r;return{c(){e=ke("line"),this.h()},l(n){e=Te(n,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),E(e).forEach(y),this.h()},h(){p(e,"class","gridline svelte-ux0qcc"),p(e,"y1",r=t[9]*-1),p(e,"y2","0"),p(e,"x1","0"),p(e,"x2","0")},m(n,a){N(n,e,a)},p(n,a){a&512&&r!==(r=n[9]*-1)&&p(e,"y1",r)},d(n){n&&y(e)}}}function ms(t){let e;return{c(){e=ke("line"),this.h()},l(r){e=Te(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),E(e).forEach(y),this.h()},h(){p(e,"class","tick-mark svelte-ux0qcc"),p(e,"y1",0),p(e,"y2",6),p(e,"x1",0),p(e,"x2",0)},m(r,n){N(r,e,n)},d(r){r&&y(e)}}}function ps(t){let e,r=t[5](t[18])+"",n;return{c(){e=ke("text"),n=Y(r),this.h()},l(a){e=Te(a,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var i=E(e);n=Q(i,r),i.forEach(y),this.h()},h(){p(e,"x",0),p(e,"y",t[4]),p(e,"dx",""),p(e,"dy",""),p(e,"text-anchor",t[15](t[20])),p(e,"class","svelte-ux0qcc")},m(a,i){N(a,e,i),k(e,n)},p(a,i){i&160&&r!==(r=a[5](a[18])+"")&&ce(n,r),i&16&&p(e,"y",a[4])},d(a){a&&y(e)}}}function gs(t){let e,r,n,a=t[5](t[18])!=="2018",i,s=t[0]!==!1&&ds(t),o=t[1]===!0&&ms(),l=a&&ps(t);return{c(){e=ke("g"),s&&s.c(),r=X(),o&&o.c(),n=X(),l&&l.c(),this.h()},l(c){e=Te(c,"g",{class:!0,transform:!0});var f=E(e);s&&s.l(f),r=X(),o&&o.l(f),n=X(),l&&l.l(f),f.forEach(y),this.h()},h(){p(e,"class","tick tick-"+t[20]+" svelte-ux0qcc"),p(e,"transform",i="translate("+t[6](t[18])+","+t[8][0]+")")},m(c,f){N(c,e,f),s&&s.m(e,null),k(e,r),o&&o.m(e,null),k(e,n),l&&l.m(e,null)},p(c,f){c[0]!==!1?s?s.p(c,f):(s=ds(c),s.c(),s.m(e,r)):s&&(s.d(1),s=null),c[1]===!0?o||(o=ms(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),f&160&&(a=c[5](c[18])!=="2018"),a?l?l.p(c,f):(l=ps(c),l.c(),l.m(e,null)):l&&(l.d(1),l=null),f&448&&i!==(i="translate("+c[6](c[18])+","+c[8][0]+")")&&p(e,"transform",i)},d(c){c&&y(e),s&&s.d(),o&&o.d(),l&&l.d()}}}function _s(t){let e,r,n;return{c(){e=ke("line"),this.h()},l(a){e=Te(a,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),E(e).forEach(y),this.h()},h(){p(e,"class","baseline svelte-ux0qcc"),p(e,"y1",r=t[9]+.5),p(e,"y2",n=t[9]+.5),p(e,"x1","0"),p(e,"x2",t[10])},m(a,i){N(a,e,i)},p(a,i){i&512&&r!==(r=a[9]+.5)&&p(e,"y1",r),i&512&&n!==(n=a[9]+.5)&&p(e,"y2",n),i&1024&&p(e,"x2",a[10])},d(a){a&&y(e)}}}function yd(t){let e,r,n=Z(t[7]),a=[];for(let s=0;s<n.length;s+=1)a[s]=gs(hs(t,n,s));let i=t[2]===!0&&_s(t);return{c(){e=ke("g");for(let s=0;s<a.length;s+=1)a[s].c();r=X(),i&&i.c(),this.h()},l(s){e=Te(s,"g",{class:!0});var o=E(e);for(let l=0;l<a.length;l+=1)a[l].l(o);r=X(),i&&i.l(o),o.forEach(y),this.h()},h(){p(e,"class","axis x-axis svelte-ux0qcc"),ue(e,"snapTicks",t[3])},m(s,o){N(s,e,o);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,null);k(e,r),i&&i.m(e,null)},p(s,[o]){if(o&33779){n=Z(s[7]);let l;for(l=0;l<n.length;l+=1){const c=hs(s,n,l);a[l]?a[l].p(c,o):(a[l]=gs(c),a[l].c(),a[l].m(e,r))}for(;l<a.length;l+=1)a[l].d(1);a.length=n.length}s[2]===!0?i?i.p(s,o):(i=_s(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null),o&8&&ue(e,"snapTicks",s[3])},i:re,o:re,d(s){s&&y(e),me(a,s),i&&i.d()}}}function vd(t,e,r){let n,a,i,s,o,l;const{width:c,height:f,xScale:h,yRange:u}=st("LayerCake");q(t,c,P=>r(10,l=P)),q(t,f,P=>r(9,o=P)),q(t,h,P=>r(6,i=P)),q(t,u,P=>r(8,s=P));let{gridlines:d=!0}=e,{tickMarks:m=!1}=e,{baseline:g=!1}=e,{snapTicks:_=!1}=e,{yTick:v=16}=e,{formatTick:w=P=>P}=e,{ticks:b=void 0}=e;const T=P=>_===!0&&(P===0||P===a.length-1)?"start":"middle";return t.$$set=P=>{"gridlines"in P&&r(0,d=P.gridlines),"tickMarks"in P&&r(1,m=P.tickMarks),"baseline"in P&&r(2,g=P.baseline),"snapTicks"in P&&r(3,_=P.snapTicks),"yTick"in P&&r(4,v=P.yTick),"formatTick"in P&&r(5,w=P.formatTick),"ticks"in P&&r(16,b=P.ticks)},t.$$.update=()=>{t.$$.dirty&64&&r(17,n=typeof i.bandwidth=="function"),t.$$.dirty&196672&&r(7,a=Array.isArray(b)?b:n?i.domain():typeof b=="function"?b(i.ticks()):i.ticks(b))},[d,m,g,_,v,w,i,a,s,o,l,c,f,h,u,T,b,n]}class mi extends ie{constructor(e){super(),se(this,e,vd,yd,ae,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,yTick:4,formatTick:5,ticks:16})}}function ys(t,e,r){const n=t.slice();n[19]=e[r];const a=n[6]=="start"?n[11][0]:24;return n[20]=a,n}function vs(t){let e;return{c(){e=ke("line"),this.h()},l(r){e=Te(r,"line",{class:!0,x2:!0,y1:!0,y2:!0}),E(e).forEach(y),this.h()},h(){p(e,"class","gridline svelte-468r3j"),p(e,"x2","100%"),p(e,"y1",t[3]),p(e,"y2",t[3])},m(r,n){N(r,e,n)},p(r,n){n&8&&p(e,"y1",r[3]),n&8&&p(e,"y2",r[3])},d(r){r&&y(e)}}}function ws(t){let e;return{c(){e=ke("line"),this.h()},l(r){e=Te(r,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),E(e).forEach(y),this.h()},h(){p(e,"class","tick-mark svelte-468r3j"),p(e,"x1","0"),p(e,"x2",6),p(e,"y1",t[3]),p(e,"y2",t[3])},m(r,n){N(r,e,n)},p(r,n){n&8&&p(e,"y1",r[3]),n&8&&p(e,"y2",r[3])},d(r){r&&y(e)}}}function bs(t){let e,r,n,a=t[15](t[7],t[19])+"",i,s,o,l=t[0]!==!1&&vs(t),c=t[1]===!0&&ws(t);return{c(){e=ke("g"),l&&l.c(),r=X(),c&&c.c(),n=ke("text"),i=Y(a),this.h()},l(f){e=Te(f,"g",{class:!0,transform:!0});var h=E(e);l&&l.l(h),r=X(),c&&c.l(h),n=Te(h,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var u=E(n);i=Q(u,a),u.forEach(y),h.forEach(y),this.h()},h(){p(n,"x",t[2]),p(n,"y",t[3]),p(n,"dx",t[4]),p(n,"dy",t[5]),$(n,"text-anchor",t[6]),p(n,"class","svelte-468r3j"),p(e,"class",s="tick tick-"+t[19]+" svelte-468r3j"),p(e,"transform",o="translate("+t[20]+", "+t[8](t[19])+")")},m(f,h){N(f,e,h),l&&l.m(e,null),k(e,r),c&&c.m(e,null),k(e,n),k(n,i)},p(f,h){f[0]!==!1?l?l.p(f,h):(l=vs(f),l.c(),l.m(e,r)):l&&(l.d(1),l=null),f[1]===!0?c?c.p(f,h):(c=ws(f),c.c(),c.m(e,n)):c&&(c.d(1),c=null),h&640&&a!==(a=f[15](f[7],f[19])+"")&&ce(i,a),h&4&&p(n,"x",f[2]),h&8&&p(n,"y",f[3]),h&16&&p(n,"dx",f[4]),h&32&&p(n,"dy",f[5]),h&64&&$(n,"text-anchor",f[6]),h&512&&s!==(s="tick tick-"+f[19]+" svelte-468r3j")&&p(e,"class",s),h&2880&&o!==(o="translate("+f[20]+", "+f[8](f[19])+")")&&p(e,"transform",o)},d(f){f&&y(e),l&&l.d(),c&&c.d()}}}function wd(t){let e,r,n=Z(t[9]),a=[];for(let i=0;i<n.length;i+=1)a[i]=bs(ys(t,n,i));return{c(){e=ke("g");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=Te(i,"g",{class:!0,transform:!0});var s=E(e);for(let o=0;o<a.length;o+=1)a[o].l(s);s.forEach(y),this.h()},h(){p(e,"class","axis y-axis svelte-468r3j"),p(e,"transform",r="translate("+-t[10].left+", 0)")},m(i,s){N(i,e,s);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null)},p(i,[s]){if(s&35839){n=Z(i[9]);let o;for(o=0;o<n.length;o+=1){const l=ys(i,n,o);a[o]?a[o].p(l,s):(a[o]=bs(l),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}s&1024&&r!==(r="translate("+-i[10].left+", 0)")&&p(e,"transform",r)},i:re,o:re,d(i){i&&y(e),me(a,i)}}}function bd(t,e,r){let n,a,i,s;const{padding:o,xRange:l,yScale:c}=st("LayerCake");q(t,o,F=>r(10,i=F)),q(t,l,F=>r(11,s=F)),q(t,c,F=>r(8,a=F));let{gridlines:f=!0}=e,{tickMarks:h=!1}=e,{xTick:u=0}=e,{yTick:d=0}=e,{dxTick:m=0}=e,{dyTick:g=-4}=e,{textAnchor:_="start"}=e,{formatTick:v=F=>F}=e,{ticks:w=4}=e,{id:b}=e;const T=Vt(",");function P(F,W){return F=="RPF_topFandomsTime"||F=="INTRO_topStats_fandoms"||F=="INTRO_topStats_ships"?T(W):W+"%"}return t.$$set=F=>{"gridlines"in F&&r(0,f=F.gridlines),"tickMarks"in F&&r(1,h=F.tickMarks),"xTick"in F&&r(2,u=F.xTick),"yTick"in F&&r(3,d=F.yTick),"dxTick"in F&&r(4,m=F.dxTick),"dyTick"in F&&r(5,g=F.dyTick),"textAnchor"in F&&r(6,_=F.textAnchor),"formatTick"in F&&r(16,v=F.formatTick),"ticks"in F&&r(17,w=F.ticks),"id"in F&&r(7,b=F.id)},t.$$.update=()=>{t.$$.dirty&131328&&r(9,n=Array.isArray(w)?w:typeof w=="function"?w(a.ticks()):a.ticks(w))},[f,h,u,d,m,g,_,b,a,n,i,s,o,l,c,P,v,w]}class pi extends ie{constructor(e){super(),se(this,e,bd,wd,ae,{gridlines:0,tickMarks:1,xTick:2,yTick:3,dxTick:4,dyTick:5,textAnchor:6,formatTick:16,ticks:17,id:7})}}function dt(t,e={}){let r;const n=i=>{const s=i[0].isIntersecting,o=s?"enter":"exit";if(t.dispatchEvent(new CustomEvent(o)),e.progress&&s){const c={ratio:i[0].intersectionRatio};t.dispatchEvent(new CustomEvent("progress",{detail:c}))}},a=({root:i,top:s,bottom:o})=>{const l=s?s*-1:0,c=o?o*-1:0,f=`${l}px 0px ${c}px 0px`,h={root:i,rootMargin:f};r&&r.disconnect(),r=new IntersectionObserver(n,h),r.observe(t)};return a(e),{update(i){a(i)},destroy(){r&&r.disconnect()}}}function kd(t){let e,r,n,a,i,s;return e=new mi({props:{gridlines:!1,ticks:t[6]}}),n=new pi({props:{snapBaselineLabel:!0,gridlines:!0,id:t[0]}}),i=new _d({props:{inViewTrigger:t[5]}}),{c(){K(e.$$.fragment),r=L(),K(n.$$.fragment),a=L(),K(i.$$.fragment)},l(o){J(e.$$.fragment,o),r=j(o),J(n.$$.fragment,o),a=j(o),J(i.$$.fragment,o)},m(o,l){x(e,o,l),N(o,r,l),x(n,o,l),N(o,a,l),x(i,o,l),s=!0},p(o,l){const c={};l&64&&(c.ticks=o[6]),e.$set(c);const f={};l&1&&(f.id=o[0]),n.$set(f);const h={};l&32&&(h.inViewTrigger=o[5]),i.$set(h)},i(o){s||(S(e.$$.fragment,o),S(n.$$.fragment,o),S(i.$$.fragment,o),s=!0)},o(o){D(e.$$.fragment,o),D(n.$$.fragment,o),D(i.$$.fragment,o),s=!1},d(o){o&&(y(r),y(a)),U(e,o),U(n,o),U(i,o)}}}function Td(t){let e,r;return e=new di({props:{$$slots:{default:[kd]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4193&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Md(t){let e,r,n,a,i;return we(t[9]),r=new hi({props:{padding:{top:0,right:0,bottom:0,left:0},x:t[3],y:t[4],yDomain:[0,null],data:t[2],$$slots:{default:[Td]},$$scope:{ctx:t}}}),{c(){e=M("div"),K(r.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var o=E(e);J(r.$$.fragment,o),o.forEach(y),this.h()},h(){p(e,"class","chart-container svelte-13ecuce")},m(s,o){N(s,e,o),x(r,e,null),n=!0,a||(i=[de(window,"resize",t[9]),Xe(dt.call(null,e)),de(e,"enter",t[7]),de(e,"exit",t[8])],a=!0)},p(s,[o]){const l={};o&8&&(l.x=s[3]),o&16&&(l.y=s[4]),o&4&&(l.data=s[2]),o&4193&&(l.$$scope={dirty:o,ctx:s}),r.$set(l)},i(s){n||(S(r.$$.fragment,s),n=!0)},o(s){D(r.$$.fragment,s),n=!1},d(s){s&&y(e),U(r),a=!1,Ie(i)}}}function Cd(t,e,r){let n,a,{id:i}=e,s,o="year",l="yes_percent",c=!1;const f=[{id:"RPF_percentRPF",xKey:"year",yKey:"yes_percent"},{id:"INTRO_topStats_fandoms",xKey:"year",yKey:"uniqueFandoms"},{id:"INTRO_topStats_ships",xKey:"year",yKey:"uniqueShips"}];it(async()=>{if(i){const _=`./assets/data/${i.split("_")[0]}/${i}.csv`;r(2,s=await Un(_)),r(3,o=h(i,"x")),r(4,l=h(i,"y"))}s.forEach(g=>{g[l]=+g[l],g[l]=+g[l]})});function h(g,_){if(_=="x")return f.find(w=>w.id===g).xKey;if(_=="y")return f.find(w=>w.id===g).yKey}function u(){r(5,c=!0)}function d(){r(5,c=!1)}function m(){r(1,n=window.innerWidth)}return t.$$set=g=>{"id"in g&&r(0,i=g.id)},t.$$.update=()=>{t.$$.dirty&2&&r(6,a=n<600||n==null?["2013","2023"]:["2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"])},r(1,n=0),[i,n,s,o,l,c,a,u,d,m]}class Sd extends ie{constructor(e){super(),se(this,e,Cd,Md,ae,{id:0})}}function Pd(t){let e,r,n;return{c(){e=M("div"),r=M("p"),n=Y(t[0]),this.h()},l(a){e=C(a,"DIV",{class:!0});var i=E(e);r=C(i,"P",{class:!0});var s=E(r);n=Q(s,t[0]),s.forEach(y),i.forEach(y),this.h()},h(){p(r,"class","svelte-1g2tz1s"),p(e,"class","rank svelte-1g2tz1s")},m(a,i){N(a,e,i),k(e,r),k(r,n)},p(a,[i]){i&1&&ce(n,a[0])},i:re,o:re,d(a){a&&y(e)}}}function Ed(t,e,r){let{rank:n}=e;return t.$$set=a=>{"rank"in a&&r(0,n=a.rank)},[n]}class Wt extends ie{constructor(e){super(),se(this,e,Ed,Pd,ae,{rank:0})}}function ks(t,e,r){const n=t.slice();n[10]=e[r],n[8]=r;const a=n[10][1].filter(s=>s.type_relationship==="y").length;n[11]=a;const i=n[10][1].filter(s=>s.type_sexual==="y").length;return n[12]=i,n}function Ts(t,e,r){const n=t.slice();return n[14]=e[r],n[8]=r,n}function Ms(t,e,r){const n=t.slice();return n[6]=e[r],n[8]=r,n}function Cs(t,e,r){const n=t.slice();return n[6]=e[r],n[8]=r,n}function Ad(t){let e,r,n,a,i,s=t[1]&&Ss(t);return{c(){e=M("div"),r=M("div"),s&&s.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var l=E(e);r=C(l,"DIV",{class:!0});var c=E(r);s&&s.l(c),c.forEach(y),l.forEach(y),this.h()},h(){p(r,"class","set-wrapper svelte-wj9mnw"),p(e,"class","tag-wrapper svelte-wj9mnw")},m(o,l){N(o,e,l),k(e,r),s&&s.m(r,null),n=!0,a||(i=[Xe(dt.call(null,e)),de(e,"enter",t[4]),de(e,"exit",t[5])],a=!0)},p(o,l){o[1]?s?(s.p(o,l),l&2&&S(s,1)):(s=Ss(o),s.c(),S(s,1),s.m(r,null)):s&&(te(),D(s,1,1,()=>{s=null}),ne())},i(o){n||(S(s),n=!0)},o(o){D(s),n=!1},d(o){o&&y(e),s&&s.d(),a=!1,Ie(i)}}}function Fd(t){let e,r,n,a,i=t[1]&&As(t);return{c(){e=M("table"),i&&i.c(),this.h()},l(s){e=C(s,"TABLE",{class:!0});var o=E(e);i&&i.l(o),o.forEach(y),this.h()},h(){p(e,"class","svelte-wj9mnw")},m(s,o){N(s,e,o),i&&i.m(e,null),r=!0,n||(a=[Xe(dt.call(null,e)),de(e,"enter",t[4]),de(e,"exit",t[5])],n=!0)},p(s,o){s[1]?i?(i.p(s,o),o&2&&S(i,1)):(i=As(s),i.c(),S(i,1),i.m(e,null)):i&&(te(),D(i,1,1,()=>{i=null}),ne())},i(s){r||(S(i),r=!0)},o(s){D(i),r=!1},d(s){s&&y(e),i&&i.d(),n=!1,Ie(a)}}}function Ss(t){let e,r,n=Z(t[1]),a=[];for(let s=0;s<n.length;s+=1)a[s]=Es(ks(t,n,s));const i=s=>D(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=X()},l(s){for(let o=0;o<a.length;o+=1)a[o].l(s);e=X()},m(s,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(s,o);N(s,e,o),r=!0},p(s,o){if(o&6){n=Z(s[1]);let l;for(l=0;l<n.length;l+=1){const c=ks(s,n,l);a[l]?(a[l].p(c,o),S(a[l],1)):(a[l]=Es(c),a[l].c(),S(a[l],1),a[l].m(e.parentNode,e))}for(te(),l=n.length;l<a.length;l+=1)i(l);ne()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)S(a[o]);r=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)D(a[o]);r=!1},d(s){s&&y(e),me(a,s)}}}function Ps(t){let e,r,n,a,i=t[14].tag+"",s,o,l,c;return r=new Wt({props:{rank:t[8]+1}}),{c(){e=M("li"),K(r.$$.fragment),n=L(),a=M("p"),s=Y(i),o=L(),this.h()},l(f){e=C(f,"LI",{class:!0});var h=E(e);J(r.$$.fragment,h),n=j(h),a=C(h,"P",{class:!0});var u=E(a);s=Q(u,i),u.forEach(y),o=j(h),h.forEach(y),this.h()},h(){p(a,"class","svelte-wj9mnw"),p(e,"class",l="item-sexual-"+t[14].type_sexual+" item-relationship-"+t[14].type_relationship+" svelte-wj9mnw"),ue(e,"isHighlight",t[14].type_relationship=="y"&&t[2]||t[14].type_sexual=="y"&&t[2])},m(f,h){N(f,e,h),x(r,e,null),k(e,n),k(e,a),k(a,s),k(e,o),c=!0},p(f,h){(!c||h&2)&&i!==(i=f[14].tag+"")&&ce(s,i),(!c||h&2&&l!==(l="item-sexual-"+f[14].type_sexual+" item-relationship-"+f[14].type_relationship+" svelte-wj9mnw"))&&p(e,"class",l),(!c||h&6)&&ue(e,"isHighlight",f[14].type_relationship=="y"&&f[2]||f[14].type_sexual=="y"&&f[2])},i(f){c||(S(r.$$.fragment,f),c=!0)},o(f){D(r.$$.fragment,f),c=!1},d(f){f&&y(e),U(r)}}}function Es(t){let e,r,n=t[10][0]+"",a,i,s,o,l,c=t[12]+"",f,h,u,d,m,g=t[11]+"",_,v,w,b,T,P,F=Z(t[10][1].slice(0,20)),W=[];for(let B=0;B<F.length;B+=1)W[B]=Ps(Ts(t,F,B));const R=B=>D(W[B],1,1,()=>{W[B]=null});return{c(){e=M("div"),r=M("h5"),a=Y(n),i=L(),s=M("div"),o=M("p"),l=M("span"),f=Y(c),h=Y(" Sexual tags"),u=L(),d=M("p"),m=M("span"),_=Y(g),v=Y(" Relationship tags"),w=L(),b=M("ul");for(let B=0;B<W.length;B+=1)W[B].c();T=L(),this.h()},l(B){e=C(B,"DIV",{class:!0});var z=E(e);r=C(z,"H5",{class:!0});var I=E(r);a=Q(I,n),I.forEach(y),i=j(z),s=C(z,"DIV",{class:!0});var H=E(s);o=C(H,"P",{class:!0});var O=E(o);l=C(O,"SPAN",{class:!0});var V=E(l);f=Q(V,c),V.forEach(y),h=Q(O," Sexual tags"),O.forEach(y),u=j(H),d=C(H,"P",{class:!0});var G=E(d);m=C(G,"SPAN",{class:!0});var le=E(m);_=Q(le,g),le.forEach(y),v=Q(G," Relationship tags"),G.forEach(y),H.forEach(y),w=j(z),b=C(z,"UL",{class:!0});var ee=E(b);for(let he=0;he<W.length;he+=1)W[he].l(ee);ee.forEach(y),T=j(z),z.forEach(y),this.h()},h(){p(r,"class","svelte-wj9mnw"),p(l,"class","svelte-wj9mnw"),p(o,"class","key-sexual svelte-wj9mnw"),p(m,"class","svelte-wj9mnw"),p(d,"class","key-relationship svelte-wj9mnw"),p(s,"class","summary svelte-wj9mnw"),p(b,"class","svelte-wj9mnw"),p(e,"class","list-wrapper svelte-wj9mnw")},m(B,z){N(B,e,z),k(e,r),k(r,a),k(e,i),k(e,s),k(s,o),k(o,l),k(l,f),k(o,h),k(s,u),k(s,d),k(d,m),k(m,_),k(d,v),k(e,w),k(e,b);for(let I=0;I<W.length;I+=1)W[I]&&W[I].m(b,null);k(e,T),P=!0},p(B,z){if((!P||z&2)&&n!==(n=B[10][0]+"")&&ce(a,n),(!P||z&2)&&c!==(c=B[12]+"")&&ce(f,c),(!P||z&2)&&g!==(g=B[11]+"")&&ce(_,g),z&6){F=Z(B[10][1].slice(0,20));let I;for(I=0;I<F.length;I+=1){const H=Ts(B,F,I);W[I]?(W[I].p(H,z),S(W[I],1)):(W[I]=Ps(H),W[I].c(),S(W[I],1),W[I].m(b,null))}for(te(),I=F.length;I<W.length;I+=1)R(I);ne()}},i(B){if(!P){for(let z=0;z<F.length;z+=1)S(W[z]);P=!0}},o(B){W=W.filter(Boolean);for(let z=0;z<W.length;z+=1)D(W[z]);P=!1},d(B){B&&y(e),me(W,B)}}}function As(t){let e,r,n,a,i,s;function o(d,m){return d[0]=="CANON_AUtags"?Nd:Dd}let l=o(t),c=l(t);const f=[Id,Rd],h=[];function u(d,m){return d[0]=="CANON_AUtags"?0:1}return n=u(t),a=h[n]=f[n](t),{c(){e=M("tr"),c.c(),r=L(),a.c(),i=X(),this.h()},l(d){e=C(d,"TR",{class:!0});var m=E(e);c.l(m),m.forEach(y),r=j(d),a.l(d),i=X(),this.h()},h(){p(e,"class","svelte-wj9mnw")},m(d,m){N(d,e,m),c.m(e,null),N(d,r,m),h[n].m(d,m),N(d,i,m),s=!0},p(d,m){l!==(l=o(d))&&(c.d(1),c=l(d),c&&(c.c(),c.m(e,null)));let g=n;n=u(d),n===g?h[n].p(d,m):(te(),D(h[g],1,1,()=>{h[g]=null}),ne(),a=h[n],a?a.p(d,m):(a=h[n]=f[n](d),a.c()),S(a,1),a.m(i.parentNode,i))},i(d){s||(S(a),s=!0)},o(d){D(a),s=!1},d(d){d&&(y(e),y(r),y(i)),c.d(),h[n].d(d)}}}function Dd(t){let e,r="Ship",n,a,i="Fanfics";return{c(){e=M("th"),e.textContent=r,n=L(),a=M("th"),a.textContent=i,this.h()},l(s){e=C(s,"TH",{style:!0,class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-1xp280v"&&(e.textContent=r),n=j(s),a=C(s,"TH",{class:!0,style:!0,"data-svelte-h":!0}),Me(a)!=="svelte-sx3hgj"&&(a.textContent=i),this.h()},h(){$(e,"width","40%"),p(e,"class","svelte-wj9mnw"),p(a,"class","right-align svelte-wj9mnw"),$(a,"width","10%")},m(s,o){N(s,e,o),N(s,n,o),N(s,a,o)},d(s){s&&(y(e),y(n),y(a))}}}function Nd(t){let e,r="Tag",n,a,i="Count";return{c(){e=M("th"),e.textContent=r,n=L(),a=M("th"),a.textContent=i,this.h()},l(s){e=C(s,"TH",{style:!0,class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-1mlmr2a"&&(e.textContent=r),n=j(s),a=C(s,"TH",{class:!0,"data-svelte-h":!0}),Me(a)!=="svelte-1gl66o6"&&(a.textContent=i),this.h()},h(){$(e,"width","70%"),p(e,"class","svelte-wj9mnw"),p(a,"class","right-align svelte-wj9mnw")},m(s,o){N(s,e,o),N(s,n,o),N(s,a,o)},d(s){s&&(y(e),y(n),y(a))}}}function Rd(t){let e,r,n=Z(t[1]),a=[];for(let s=0;s<n.length;s+=1)a[s]=Fs(Ms(t,n,s));const i=s=>D(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=X()},l(s){for(let o=0;o<a.length;o+=1)a[o].l(s);e=X()},m(s,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(s,o);N(s,e,o),r=!0},p(s,o){if(o&14){n=Z(s[1]);let l;for(l=0;l<n.length;l+=1){const c=Ms(s,n,l);a[l]?(a[l].p(c,o),S(a[l],1)):(a[l]=Fs(c),a[l].c(),S(a[l],1),a[l].m(e.parentNode,e))}for(te(),l=n.length;l<a.length;l+=1)i(l);ne()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)S(a[o]);r=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)D(a[o]);r=!1},d(s){s&&y(e),me(a,s)}}}function Id(t){let e,r,n=Z(t[1]),a=[];for(let s=0;s<n.length;s+=1)a[s]=Ds(Cs(t,n,s));const i=s=>D(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=X()},l(s){for(let o=0;o<a.length;o+=1)a[o].l(s);e=X()},m(s,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(s,o);N(s,e,o),r=!0},p(s,o){if(o&14){n=Z(s[1]);let l;for(l=0;l<n.length;l+=1){const c=Cs(s,n,l);a[l]?(a[l].p(c,o),S(a[l],1)):(a[l]=Ds(c),a[l].c(),S(a[l],1),a[l].m(e.parentNode,e))}for(te(),l=n.length;l<a.length;l+=1)i(l);ne()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)S(a[o]);r=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)D(a[o]);r=!1},d(s){s&&y(e),me(a,s)}}}function Fs(t){let e,r,n,a,i,s,o=t[6].ship+"",l,c,f,h=t[6].fandom+"",u,d,m,g,_=t[3](t[6].fics)+"",v,w,b;return n=new Wt({props:{rank:t[8]+1}}),{c(){e=M("tr"),r=M("td"),K(n.$$.fragment),a=L(),i=M("div"),s=M("p"),l=Y(o),c=L(),f=M("p"),u=Y(h),d=L(),m=M("td"),g=M("p"),v=Y(_),w=L(),this.h()},l(T){e=C(T,"TR",{class:!0});var P=E(e);r=C(P,"TD",{class:!0});var F=E(r);J(n.$$.fragment,F),a=j(F),i=C(F,"DIV",{class:!0});var W=E(i);s=C(W,"P",{class:!0});var R=E(s);l=Q(R,o),R.forEach(y),c=j(W),f=C(W,"P",{class:!0});var B=E(f);u=Q(B,h),B.forEach(y),W.forEach(y),F.forEach(y),d=j(P),m=C(P,"TD",{class:!0,style:!0});var z=E(m);g=C(z,"P",{class:!0});var I=E(g);v=Q(I,_),I.forEach(y),z.forEach(y),w=j(P),P.forEach(y),this.h()},h(){p(s,"class","ship-name svelte-wj9mnw"),p(f,"class","svelte-wj9mnw"),p(i,"class","deets svelte-wj9mnw"),p(r,"class","with-rank svelte-wj9mnw"),p(g,"class","svelte-wj9mnw"),p(m,"class","right-align svelte-wj9mnw"),$(m,"width","10%"),p(e,"class","svelte-wj9mnw"),ue(e,"isHighlight",t[6].category=="boy band"&&t[2])},m(T,P){N(T,e,P),k(e,r),x(n,r,null),k(r,a),k(r,i),k(i,s),k(s,l),k(i,c),k(i,f),k(f,u),k(e,d),k(e,m),k(m,g),k(g,v),k(e,w),b=!0},p(T,P){(!b||P&2)&&o!==(o=T[6].ship+"")&&ce(l,o),(!b||P&2)&&h!==(h=T[6].fandom+"")&&ce(u,h),(!b||P&2)&&_!==(_=T[3](T[6].fics)+"")&&ce(v,_),(!b||P&6)&&ue(e,"isHighlight",T[6].category=="boy band"&&T[2])},i(T){b||(S(n.$$.fragment,T),b=!0)},o(T){D(n.$$.fragment,T),b=!1},d(T){T&&y(e),U(n)}}}function Ds(t){let e,r,n,a,i,s,o=t[6].tag+"",l,c,f,h,u=t[3](t[6].count)+"",d,m,g;return n=new Wt({props:{rank:t[8]+1}}),{c(){e=M("tr"),r=M("td"),K(n.$$.fragment),a=L(),i=M("div"),s=M("p"),l=Y(o),c=L(),f=M("td"),h=M("p"),d=Y(u),m=L(),this.h()},l(_){e=C(_,"TR",{class:!0});var v=E(e);r=C(v,"TD",{class:!0});var w=E(r);J(n.$$.fragment,w),a=j(w),i=C(w,"DIV",{class:!0});var b=E(i);s=C(b,"P",{class:!0});var T=E(s);l=Q(T,o),T.forEach(y),b.forEach(y),w.forEach(y),c=j(v),f=C(v,"TD",{class:!0});var P=E(f);h=C(P,"P",{class:!0});var F=E(h);d=Q(F,u),F.forEach(y),P.forEach(y),m=j(v),v.forEach(y),this.h()},h(){p(s,"class","ship-name svelte-wj9mnw"),p(i,"class","deets svelte-wj9mnw"),p(r,"class","with-rank svelte-wj9mnw"),p(h,"class","svelte-wj9mnw"),p(f,"class","right-align svelte-wj9mnw"),p(e,"class","svelte-wj9mnw"),ue(e,"isHighlight",t[6].setting=="mundane"&&t[2])},m(_,v){N(_,e,v),k(e,r),x(n,r,null),k(r,a),k(r,i),k(i,s),k(s,l),k(e,c),k(e,f),k(f,h),k(h,d),k(e,m),g=!0},p(_,v){(!g||v&2)&&o!==(o=_[6].tag+"")&&ce(l,o),(!g||v&2)&&u!==(u=_[3](_[6].count)+"")&&ce(d,u),(!g||v&6)&&ue(e,"isHighlight",_[6].setting=="mundane"&&_[2])},i(_){g||(S(n.$$.fragment,_),g=!0)},o(_){D(n.$$.fragment,_),g=!1},d(_){_&&y(e),U(n)}}}function zd(t){let e,r,n,a;const i=[Fd,Ad],s=[];function o(l,c){return l[0]!=="SLASH_topTagsByRelType"?0:1}return r=o(t),n=s[r]=i[r](t),{c(){e=M("figure"),n.c(),this.h()},l(l){e=C(l,"FIGURE",{class:!0});var c=E(e);n.l(c),c.forEach(y),this.h()},h(){p(e,"class","svelte-wj9mnw")},m(l,c){N(l,e,c),s[r].m(e,null),a=!0},p(l,[c]){let f=r;r=o(l),r===f?s[r].p(l,c):(te(),D(s[f],1,1,()=>{s[f]=null}),ne(),n=s[r],n?n.p(l,c):(n=s[r]=i[r](l),n.c()),S(n,1),n.m(e,null))},i(l){a||(S(n),a=!0)},o(l){D(n),a=!1},d(l){l&&y(e),s[r].d()}}}function Bd(t,e,r){let{id:n}=e,a;const i=Vt(",");let s=!1;it(async()=>{if(n){const f=`./assets/data/${n.split("_")[0]}/${n}.csv`;r(1,a=await Un(f)),n=="SLASH_topTagsByRelType"&&r(1,a=zl(a,h=>h.relType))}});function o(){setTimeout(()=>{r(2,s=!0)},500)}function l(){setTimeout(()=>{r(2,s=!1)},500)}return t.$$set=c=>{"id"in c&&r(0,n=c.id)},[n,a,s,i,o,l]}class Vd extends ie{constructor(e){super(),se(this,e,Bd,zd,ae,{id:0})}}function Ns(t,e,r){const n=t.slice();return n[15]=e[r],n}function Rs(t){let e,r,n,a;return{c(){e=ke("path"),this.h()},l(i){e=Te(i,"path",{class:!0,d:!0,stroke:!0}),E(e).forEach(y),this.h()},h(){p(e,"class","path-line svelte-ss7xx6"),p(e,"d",r=t[1](t[15].values)),p(e,"stroke",n=t[3](t[15]))},m(i,s){N(i,e,s)},p(i,s){s&6&&r!==(r=i[1](i[15].values))&&p(e,"d",r),s&12&&n!==(n=i[3](i[15]))&&p(e,"stroke",n)},i(i){i&&(a||we(()=>{a=la(e,Wl,{duration:1e3}),a.start()}))},o:re,d(i){i&&y(e)}}}function Is(t){let e,r=t[0]&&Rs(t);return{c(){r&&r.c(),e=X()},l(n){r&&r.l(n),e=X()},m(n,a){r&&r.m(n,a),N(n,e,a)},p(n,a){n[0]?r?(r.p(n,a),a&1&&S(r,1)):(r=Rs(n),r.c(),S(r,1),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){n&&y(e),r&&r.d(n)}}}function Wd(t){let e,r,n,a,i,s,o,l,c,f,h,u=Z(t[2]),d=[];for(let m=0;m<u.length;m+=1)d[m]=Is(Ns(t,u,m));return{c(){e=ke("g");for(let m=0;m<d.length;m+=1)d[m].c();r=L(),n=ke("g"),a=ke("rect"),o=ke("text"),l=Y("No data collected in 2018"),this.h()},l(m){e=Te(m,"g",{class:!0});var g=E(e);for(let b=0;b<d.length;b+=1)d[b].l(g);g.forEach(y),r=j(m),n=Te(m,"g",{class:!0});var _=E(n);a=Te(_,"rect",{x:!0,width:!0,height:!0,class:!0});var v=E(a);v.forEach(y),o=Te(_,"text",{x:!0,y:!0,transform:!0,class:!0});var w=E(o);l=Q(w,"No data collected in 2018"),w.forEach(y),_.forEach(y),this.h()},h(){p(e,"class","line-group"),p(a,"x",i=t[4]/2-t[4]/20+10),p(a,"width",s=t[4]/10-20),p(a,"height",t[5]),p(a,"class","svelte-ss7xx6"),p(o,"x",c=t[4]/2-t[4]/20+20),p(o,"y",f=t[5]/2),p(o,"transform",h="rotate(-90,"+t[4]/2+","+(t[5]/2-4)+")"),p(o,"class","svelte-ss7xx6"),p(n,"class","rect-overlay")},m(m,g){N(m,e,g);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(e,null);N(m,r,g),N(m,n,g),k(n,a),k(n,o),k(o,l)},p(m,[g]){if(g&15){u=Z(m[2]);let _;for(_=0;_<u.length;_+=1){const v=Ns(m,u,_);d[_]?d[_].p(v,g):(d[_]=Is(v),d[_].c(),d[_].m(e,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=u.length}g&16&&i!==(i=m[4]/2-m[4]/20+10)&&p(a,"x",i),g&16&&s!==(s=m[4]/10-20)&&p(a,"width",s),g&32&&p(a,"height",m[5]),g&16&&c!==(c=m[4]/2-m[4]/20+20)&&p(o,"x",c),g&32&&f!==(f=m[5]/2)&&p(o,"y",f),g&48&&h!==(h="rotate(-90,"+m[4]/2+","+(m[5]/2-4)+")")&&p(o,"transform",h)},i:re,o:re,d(m){m&&(y(e),y(r),y(n)),me(d,m)}}}function Ld(t,e,r){let n,a,i,s,o,l,c,{curve:f=nc}=e,{inViewTrigger:h}=e;const{data:u,xGet:d,yGet:m,zGet:g,width:_,height:v}=st("LayerCake");return q(t,u,w=>r(2,s=w)),q(t,d,w=>r(14,i=w)),q(t,m,w=>r(13,a=w)),q(t,g,w=>r(3,o=w)),q(t,_,w=>r(4,l=w)),q(t,v,w=>r(5,c=w)),t.$$set=w=>{"curve"in w&&r(12,f=w.curve),"inViewTrigger"in w&&r(0,h=w.inViewTrigger)},t.$$.update=()=>{t.$$.dirty&28672&&r(1,n=ec().x(i).y(a).curve(f))},[h,n,s,o,l,c,u,d,m,g,_,v,f,a,i]}class jd extends ie{constructor(e){super(),se(this,e,Ld,Wd,ae,{curve:12,inViewTrigger:0})}}function zs(t,e,r){const n=t.slice();return n[21]=e[r],n[23]=r,n}function Bs(t){let e,r=Ws(t[5](t[21]))+"",n,a,i,s;return{c(){e=M("div"),n=Y(r),i=L(),this.h()},l(o){e=C(o,"DIV",{class:!0,style:!0});var l=E(e);n=Q(l,r),l.forEach(y),i=j(o),this.h()},h(){p(e,"class","label svelte-brsgxs"),$(e,"top",t[2](t[21].values)*100+"%"),$(e,"left",t[3](t[21].values)*100+"%"),$(e,"color",t[13](t[0],t[23],t[21]))},m(o,l){N(o,e,l),k(e,n),N(o,i,l),s=!0},p(o,l){(!s||l&48)&&r!==(r=Ws(o[5](o[21]))+"")&&ce(n,r),(!s||l&20)&&$(e,"top",o[2](o[21].values)*100+"%"),(!s||l&24)&&$(e,"left",o[3](o[21].values)*100+"%"),(!s||l&17)&&$(e,"color",o[13](o[0],o[23],o[21]))},i(o){s||(o&&we(()=>{s&&(a||(a=Ce(e,Nt,{delay:750,duration:250},!0)),a.run(1))}),s=!0)},o(o){o&&(a||(a=Ce(e,Nt,{delay:750,duration:250},!1)),a.run(0)),s=!1},d(o){o&&(y(e),y(i)),o&&a&&a.end()}}}function Vs(t){let e,r=(t[1]&&t[0]=="CANON_percentCanon"||t[21].fandom=="BTS"||t[21].fandom=="Youtube")&&Bs(t);return{c(){r&&r.c(),e=X()},l(n){r&&r.l(n),e=X()},m(n,a){r&&r.m(n,a),N(n,e,a)},p(n,a){n[1]&&n[0]=="CANON_percentCanon"||n[21].fandom=="BTS"||n[21].fandom=="Youtube"?r?(r.p(n,a),a&19&&S(r,1)):(r=Bs(n),r.c(),S(r,1),r.m(e.parentNode,e)):r&&(te(),D(r,1,1,()=>{r=null}),ne())},d(n){n&&y(e),r&&r.d(n)}}}function Od(t){let e,r=Z(t[4]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Vs(zs(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p(a,[i]){if(i&8255){r=Z(a[4]);let s;for(s=0;s<r.length;s+=1){const o=zs(a,r,s);n[s]?n[s].p(o,i):(n[s]=Vs(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},i:re,o:re,d(a){a&&y(e),me(n,a)}}}function Ws(t){return t=="no_percent"?"Non-Canon":t=="semi_percent"?"Semi-Canon":t=="yes_percent"?"Canon":t}function Hd(t,e,r){let n,a,i,s,o,l,c,f,h;const{data:u,x:d,y:m,xScale:g,yScale:_,xRange:v,yRange:w,z:b}=st("LayerCake");q(t,u,R=>r(4,f=R)),q(t,d,R=>r(18,l=R)),q(t,g,R=>r(19,c=R)),q(t,_,R=>r(16,s=R)),q(t,v,R=>r(17,o=R)),q(t,w,R=>r(15,i=R)),q(t,b,R=>r(5,h=R));let{zRange:T}=e,{id:P}=e,{inViewTrigger:F}=e;function W(R,B,z){return R=="CANON_percentCanon"?T[B]:z.fandom=="BTS"?"#1B2AA6":z.fandom=="Youtube"?"#119C72":"#cccccc"}return t.$$set=R=>{"zRange"in R&&r(14,T=R.zRange),"id"in R&&r(0,P=R.id),"inViewTrigger"in R&&r(1,F=R.inViewTrigger)},t.$$.update=()=>{t.$$.dirty&917504&&r(3,n=R=>c(mf(R,l))/Math.max(...o)),t.$$.dirty&98305&&r(2,a=function(R){const B=P=="CANON_percentCanon"?R[R.length-1].canon_status:R[R.length-1].fanfics;return s(B)/Math.max(...i)-.025})},[P,F,a,n,f,h,u,d,g,_,v,w,b,W,T,i,s,o,l,c]}class qd extends ie{constructor(e){super(),se(this,e,Hd,Od,ae,{zRange:14,id:0,inViewTrigger:1})}}function Ls(t){let e,r;return e=new hi({props:{padding:{top:7,right:10,bottom:20,left:25},x:t[2],y:t[3],z:sc,yDomain:[0,null],zScale:Jn(),zRange:t[7],flatData:$a(t[4],"values"),data:t[4],$$slots:{default:[xd]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.x=n[2]),a&8&&(i.y=n[3]),a&16&&(i.flatData=$a(n[4],"values")),a&16&&(i.data=n[4]),a&32865&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Gd(t){let e,r,n,a,i,s;return e=new mi({props:{gridlines:!1,ticks:t[6],snapLabels:!0}}),n=new pi({props:{ticks:4,id:t[0]}}),i=new jd({props:{inViewTrigger:t[5]}}),{c(){K(e.$$.fragment),r=L(),K(n.$$.fragment),a=L(),K(i.$$.fragment)},l(o){J(e.$$.fragment,o),r=j(o),J(n.$$.fragment,o),a=j(o),J(i.$$.fragment,o)},m(o,l){x(e,o,l),N(o,r,l),x(n,o,l),N(o,a,l),x(i,o,l),s=!0},p(o,l){const c={};l&64&&(c.ticks=o[6]),e.$set(c);const f={};l&1&&(f.id=o[0]),n.$set(f);const h={};l&32&&(h.inViewTrigger=o[5]),i.$set(h)},i(o){s||(S(e.$$.fragment,o),S(n.$$.fragment,o),S(i.$$.fragment,o),s=!0)},o(o){D(e.$$.fragment,o),D(n.$$.fragment,o),D(i.$$.fragment,o),s=!1},d(o){o&&(y(r),y(a)),U(e,o),U(n,o),U(i,o)}}}function Kd(t){let e,r;return e=new qd({props:{id:t[0],zRange:t[7],inViewTrigger:t[5]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&1&&(i.id=n[0]),a&32&&(i.inViewTrigger=n[5]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function xd(t){let e,r,n,a;return e=new di({props:{$$slots:{default:[Gd]},$$scope:{ctx:t}}}),n=new od({props:{$$slots:{default:[Kd]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment),r=L(),K(n.$$.fragment)},l(i){J(e.$$.fragment,i),r=j(i),J(n.$$.fragment,i)},m(i,s){x(e,i,s),N(i,r,s),x(n,i,s),a=!0},p(i,s){const o={};s&32865&&(o.$$scope={dirty:s,ctx:i}),e.$set(o);const l={};s&32801&&(l.$$scope={dirty:s,ctx:i}),n.$set(l)},i(i){a||(S(e.$$.fragment,i),S(n.$$.fragment,i),a=!0)},o(i){D(e.$$.fragment,i),D(n.$$.fragment,i),a=!1},d(i){i&&y(r),U(e,i),U(n,i)}}}function Ud(t){let e,r,n,a;we(t[10]);let i=t[4]&&Ls(t);return{c(){e=M("div"),i&&i.c(),this.h()},l(s){e=C(s,"DIV",{class:!0});var o=E(e);i&&i.l(o),o.forEach(y),this.h()},h(){p(e,"class","chart-container svelte-nm8tg0")},m(s,o){N(s,e,o),i&&i.m(e,null),r=!0,n||(a=[de(window,"resize",t[10]),Xe(dt.call(null,e)),de(e,"enter",t[8]),de(e,"exit",t[9])],n=!0)},p(s,[o]){s[4]?i?(i.p(s,o),o&16&&S(i,1)):(i=Ls(s),i.c(),S(i,1),i.m(e,null)):i&&(te(),D(i,1,1,()=>{i=null}),ne())},i(s){r||(S(i),r=!0)},o(s){D(i),r=!1},d(s){s&&y(e),i&&i.d(),n=!1,Ie(a)}}}let sc="fandom";function Jd(t,e,r){let n,a,{id:i}=e,s,o="year",l="fanfics",c,f,h=!1;const u=i=="CANON_percentCanon"?["#1B2AA6","#119C72","#D03200"]:["#1B2AA6","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#119C72"],d=[{id:"CANON_percentCanon",xKey:"year",yKey:"canon_status"},{id:"RPF_topFandomsTime",xKey:"year",yKey:"fanfics"}];it(async()=>{if(i){const b=`./assets/data/${i.split("_")[0]}/${i}.csv`;s=await Un(b),r(2,o=m(i,"x")),r(3,l=m(i,"y")),c=Object.keys(s[0]).filter(T=>T!==o)}s.forEach(w=>{c.forEach(b=>{w[b]=+w[b]})}),r(4,f=md(s,c,{groupTo:sc,valueTo:l}))});function m(w,b){if(b=="x")return d.find(P=>P.id===w).xKey;if(b=="y")return d.find(P=>P.id===w).yKey}function g(){r(5,h=!0)}function _(){r(5,h=!1)}function v(){r(1,n=window.innerWidth)}return t.$$set=w=>{"id"in w&&r(0,i=w.id)},t.$$.update=()=>{t.$$.dirty&2&&r(6,a=n<600||n==null?["2013","2023"]:["2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"])},r(1,n=0),[i,n,o,l,f,h,a,u,g,_,v]}class Yd extends ie{constructor(e){super(),se(this,e,Jd,Ud,ae,{id:0})}}function js(t){return Object.prototype.toString.call(t)==="[object Date]"}function ei(t,e){if(t===e||t!==t)return()=>t;const r=typeof t;if(r!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((a,i)=>ei(t[i],a));return a=>n.map(i=>i(a))}if(r==="object"){if(!t||!e)throw new Error("Object cannot be null");if(js(t)&&js(e)){t=t.getTime(),e=e.getTime();const i=e-t;return s=>new Date(t+s*i)}const n=Object.keys(e),a={};return n.forEach(i=>{a[i]=ei(t[i],e[i])}),i=>{const s={};return n.forEach(o=>{s[o]=a[o](i)}),s}}if(r==="number"){const n=e-t;return a=>t+a*n}throw new Error(`Cannot interpolate ${r} values`)}function oc(t,e={}){const r=oe(t);let n,a=t;function i(s,o){if(t==null)return r.set(t=s),Promise.resolve();a=s;let l=n,c=!1,{delay:f=0,duration:h=400,easing:u=ai,interpolate:d=ei}=Ze(Ze({},e),o);if(h===0)return l&&(l.abort(),l=null),r.set(t=a),Promise.resolve();const m=Nc()+f;let g;return n=Rc(_=>{if(_<m)return!0;c||(g=d(t,s),typeof h=="function"&&(h=h(t,s)),c=!0),l&&(l.abort(),l=null);const v=_-m;return v>h?(r.set(t=s),!1):(r.set(t=g(u(v/h))),!0)}),n.promise}return{set:i,update:(s,o)=>i(s(a,t),o),subscribe:r.subscribe}}let Qd=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function Zd(t){return t()}function Xd(t){t.forEach(Zd)}const qr=[],Os=[],Qr=[],Hs=[],lc=Promise.resolve();let ti=!1;function $d(){ti||(ti=!0,lc.then(nm))}function em(){return $d(),lc}function tm(t){Qr.push(t)}const Oa=new Set;let Gr=0;function nm(){do{for(;Gr<qr.length;){const t=qr[Gr];Gr++,rm(t.$$)}for(qr.length=0,Gr=0;Os.length;)Os.pop()();for(let t=0;t<Qr.length;t+=1){const e=Qr[t];Oa.has(e)||(Oa.add(e),e())}Qr.length=0}while(qr.length);for(;Hs.length;)Hs.pop()();ti=!1,Oa.clear()}function rm(t){if(t.fragment!==null){t.update(),Xd(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tm)}}const am={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},Kr=(t,e)=>new CustomEvent(t,{detail:e});function im(t,e={}){const{root:r,rootMargin:n,threshold:a,unobserveOnEnter:i}=Object.assign(Object.assign({},am),e);let s={x:void 0,y:void 0},o={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const l=new IntersectionObserver((c,f)=>{c.forEach(h=>{s.y>h.boundingClientRect.y?o.vertical="up":o.vertical="down",s.x>h.boundingClientRect.x?o.horizontal="left":o.horizontal="right",s={y:h.boundingClientRect.y,x:h.boundingClientRect.x};const u={inView:h.isIntersecting,entry:h,scrollDirection:o,node:t,observer:f};t.dispatchEvent(Kr("change",u)),h.isIntersecting?(t.dispatchEvent(Kr("enter",u)),i&&f.unobserve(t)):t.dispatchEvent(Kr("leave",u))})},{root:r,rootMargin:n,threshold:a});return em().then(()=>{t.dispatchEvent(Kr("init",{observer:l,node:t}))}),l.observe(t),{destroy(){l.unobserve(t)}}}}function sm(t){let e,r=t[3](t[1][t[2]])+"",n,a,i;return{c(){e=M("span"),n=Y(r)},l(s){e=C(s,"SPAN",{});var o=E(e);n=Q(o,r),o.forEach(y)},m(s,o){N(s,e,o),k(e,n),a||(i=[Xe(im.call(null,e)),de(e,"change",t[10])],a=!0)},p(s,[o]){o&2&&r!==(r=s[3](s[1][s[2]])+"")&&ce(n,r)},i:re,o:re,d(s){s&&y(e),a=!1,Ie(i)}}}function om(t,e,r){const n=Qd();let a,{value:i}=e,{initial:s=0}=e,{duration:o=3e3}=e,{step:l=1}=e,{roundto:c=1}=e,{format:f=!0}=e;function h(_){return f?Math.round(_).toLocaleString():_}const u=[],d=[],m=parseInt(i);for(;o/((m-s)/l)<2;)l++;u[n]=s,d[n]=setInterval(()=>{a&&(u[n]<m?r(1,u[n]+=l,u):(clearInterval(d[n]),r(1,u[n]=Math.round(m/c)*c,u)))},o/((m-s)/l));const g=_=>{const{inView:v}=_.detail;r(0,a=v)};return t.$$set=_=>{"value"in _&&r(5,i=_.value),"initial"in _&&r(6,s=_.initial),"duration"in _&&r(7,o=_.duration),"step"in _&&r(4,l=_.step),"roundto"in _&&r(8,c=_.roundto),"format"in _&&r(9,f=_.format)},[a,u,n,h,l,i,s,o,c,f,g]}class lm extends ie{constructor(e){super(),se(this,e,om,sm,ae,{value:5,initial:6,duration:7,step:4,roundto:8,format:9})}}function qs(t){let e,r,n,a,i,s;return n=new lm({props:{initial:0,value:+t[0].count,duration:1e3,step:1,roundto:1,format:!0}}),{c(){e=M("div"),r=M("p"),K(n.$$.fragment),this.h()},l(o){e=C(o,"DIV",{class:!0});var l=E(e);r=C(l,"P",{class:!0});var c=E(r);J(n.$$.fragment,c),c.forEach(y),l.forEach(y),this.h()},h(){p(r,"class","count svelte-c2e1to"),p(e,"class","num-wrapper svelte-c2e1to")},m(o,l){N(o,e,l),k(e,r),x(n,r,null),a=!0,i||(s=[Xe(dt.call(null,e)),de(e,"enter",t[1]),de(e,"exit",t[2])],i=!0)},p(o,l){const c={};l&1&&(c.value=+o[0].count),n.$set(c)},i(o){a||(S(n.$$.fragment,o),a=!0)},o(o){D(n.$$.fragment,o),a=!1},d(o){o&&y(e),U(n),i=!1,Ie(s)}}}function cm(t){let e,r,n=t[0]&&qs(t);return{c(){n&&n.c(),e=X()},l(a){n&&n.l(a),e=X()},m(a,i){n&&n.m(a,i),N(a,e,i),r=!0},p(a,[i]){a[0]?n?(n.p(a,i),i&1&&S(n,1)):(n=qs(a),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(te(),D(n,1,1,()=>{n=null}),ne())},i(a){r||(S(n),r=!0)},o(a){D(n),r=!1},d(a){a&&y(e),n&&n.d(a)}}}let fm=0;function um(t,e,r){let{chunk:n}=e,a=!1;const i=oc(fm,{duration:500,delay:0,easing:ai});function s(){a?i.set(+n.count):i.set(0)}function o(){r(3,a=!0)}function l(){r(3,a=!1)}return t.$$set=c=>{"chunk"in c&&r(0,n=c.chunk)},t.$$.update=()=>{t.$$.dirty&8&&s()},[n,o,l,a]}class hm extends ie{constructor(e){super(),se(this,e,um,cm,ae,{chunk:0})}}function Gs(t,e,r){const n=t.slice();return n[13]=e[r],n}function Ks(t,e,r){const n=t.slice();return n[16]=e[r],n[18]=r,n}function xs(t){let e,r=Z(t[1]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Ys(Gs(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p(a,i){if(i&98){r=Z(a[1]);let s;for(s=0;s<r.length;s+=1){const o=Gs(a,r,s);n[s]?n[s].p(o,i):(n[s]=Ys(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(a){a&&y(e),me(n,a)}}}function Us(t){let e,r=Qs(t[13][0])+"",n,a;return{c(){e=M("p"),n=Y(r),this.h()},l(i){e=C(i,"P",{class:!0});var s=E(e);n=Q(s,r),s.forEach(y),this.h()},h(){p(e,"class",a="label label-"+t[13][0]+" svelte-q279e9")},m(i,s){N(i,e,s),k(e,n)},p(i,s){s&2&&r!==(r=Qs(i[13][0])+"")&&ce(n,r),s&2&&a!==(a="label label-"+i[13][0]+" svelte-q279e9")&&p(e,"class",a)},d(i){i&&y(e)}}}function Js(t,e){let r,n,a,i,s,o,l,c=e[18]==0&&Us(e);function f(...h){return e[8](e[16],...h)}return{key:t,first:null,c(){r=X(),c&&c.c(),n=L(),a=M("div"),this.h()},l(h){r=X(),c&&c.l(h),n=j(h),a=C(h,"DIV",{id:!0,class:!0});var u=E(a);u.forEach(y),this.h()},h(){p(a,"id",i="id-"+e[13][0]+"-"+e[18]),p(a,"class",s="ship ship-"+e[13][0]+" svelte-q279e9"),this.first=r},m(h,u){N(h,r,u),c&&c.m(h,u),N(h,n,u),N(h,a,u),o||(l=[de(a,"mouseenter",f),de(a,"mouseleave",e[6])],o=!0)},p(h,u){e=h,e[18]==0?c?c.p(e,u):(c=Us(e),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),u&2&&i!==(i="id-"+e[13][0]+"-"+e[18])&&p(a,"id",i),u&2&&s!==(s="ship ship-"+e[13][0]+" svelte-q279e9")&&p(a,"class",s)},d(h){h&&(y(r),y(n),y(a)),c&&c.d(h),o=!1,Ie(l)}}}function Ys(t){let e=[],r=new Map,n,a=Z(t[13][1]);const i=s=>s[16];for(let s=0;s<a.length;s+=1){let o=Ks(t,a,s),l=i(o);r.set(l,e[s]=Js(l,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();n=X()},l(s){for(let o=0;o<e.length;o+=1)e[o].l(s);n=X()},m(s,o){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(s,o);N(s,n,o)},p(s,o){o&98&&(a=Z(s[13][1]),e=qc(e,o,i,1,s,a,r,n.parentNode,Gc,Js,n,Ks))},d(s){s&&y(n);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function dm(t){let e,r,n='<p class="ship-text svelte-q279e9"></p> <p class="fandom-text svelte-q279e9"></p> <p class="works-text svelte-q279e9"></p>',a,i,s,o;we(t[7]);let l=t[1]&&xs(t);return{c(){e=M("div"),r=M("div"),r.innerHTML=n,a=L(),l&&l.c(),this.h()},l(c){e=C(c,"DIV",{id:!0,class:!0});var f=E(e);r=C(f,"DIV",{class:!0,"data-svelte-h":!0}),Me(r)!=="svelte-4zf6tn"&&(r.innerHTML=n),a=j(f),l&&l.l(f),f.forEach(y),this.h()},h(){p(r,"class","tooltip svelte-q279e9"),p(e,"id",i="chart-"+t[0]),p(e,"class","chart-container svelte-q279e9")},m(c,f){N(c,e,f),k(e,r),k(e,a),l&&l.m(e,null),s||(o=[de(window,"resize",t[7]),Xe(dt.call(null,e)),de(e,"enter",t[3]),de(e,"exit",t[4])],s=!0)},p(c,[f]){c[1]?l?l.p(c,f):(l=xs(c),l.c(),l.m(e,null)):l&&(l.d(1),l=null),f&1&&i!==(i="chart-"+c[0])&&p(e,"id",i)},i:re,o:re,d(c){c&&y(e),l&&l.d(),s=!1,Ie(o)}}}function Qs(t){return t=="Yes"?"Canon 12%":t=="No"?"Non-canon 83%":"Semi-canon 5%"}function mm(t,e,r){let n,a,i;const s=Vt(",");it(async()=>{if(o){const g=`./assets/data/${o.split("_")[0]}/${o}.csv`;a=await Un(g),r(1,i=zl(a,_=>_.isCanon)),r(1,i=i.sort((_,v)=>v[1].length-_[1].length))}});let{id:o}=e;function l(){}function c(){}function f(m,g){const v=m.currentTarget.getBoundingClientRect(),w=document.querySelector(`#chart-${o}`),b=w.getBoundingClientRect(),T=gn(".tooltip"),P=T.select(".ship-text"),F=T.select(".fandom-text"),W=T.select(".works-text"),R=g.isCanon=="No"?"#D03200":g.isCanon=="Yes"?"#1B2AA6":"#119C72",B=v.top-b.top+w.scrollTop;let z=n>600?"10rem":"142px";if(v.left>n/2){const I=b.right-v.right;T.style("right",`${I}px`).style("left","auto")}else{const I=v.left-b.left;T.style("left",`${I}px`).style("right","auto")}T.style("top",`${B}px`).style("background",R).style("opacity","1").style("width","1rem").style("height","1rem"),T.transition().duration(250).style("width",z).style("height",z),P.text(`${g.ship.replace("/"," / ")}`),F.text(`${g.fandom}`),W.text(`${s(g.totalWorks)} fanfics`)}function h(){gn(".tooltip").transition().duration(250).style("width","1rem").style("height","1rem").style("opacity","0")}function u(){r(2,n=window.innerWidth)}const d=(m,g)=>f(g,m);return t.$$set=m=>{"id"in m&&r(0,o=m.id)},r(2,n=0),[o,i,n,l,c,f,h,u,d]}class pm extends ie{constructor(e){super(),se(this,e,mm,dm,ae,{id:0})}}function ni(t,e){var r=t[0],n=e[0],a=(e[1]-n)/(t[1]-r);return Object.assign(function(i){return n+(i-r)*a},{inverse:function(){return ni(e,t)}})}function sa(t){var e=String(t).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function gm(t){let e,r,n,a,i;const s=t[15].default,o=qe(s,t,t[14],null);return{c(){e=M("div"),o&&o.c(),this.h()},l(l){e=C(l,"DIV",{class:!0});var c=E(e);o&&o.l(c),c.forEach(y),this.h()},h(){p(e,"class","pancake-chart svelte-ytyo0p"),we(()=>t[17].call(e)),ue(e,"clip",t[0])},m(l,c){N(l,e,c),o&&o.m(e,null),t[16](e),r=oa(e,t[17].bind(e)),n=!0,a||(i=[de(e,"mousemove",t[6]),de(e,"mouseleave",t[7])],a=!0)},p(l,[c]){o&&o.p&&(!n||c&16384)&&Ge(o,s,l,l[14],n?xe(s,l[14],c,null):Ke(l[14]),null),(!n||c&1)&&ue(e,"clip",l[0])},i(l){n||(S(o,l),n=!0)},o(l){D(o,l),n=!1},d(l){l&&y(e),o&&o.d(l),t[16](null),r(),a=!1,Ie(i)}}}const cc={};function _m(){return st(cc)}function ym(t,e,r){let n,a,i,s,{$$slots:o={},$$scope:l}=e,{x1:c=0}=e,{y1:f=0}=e,{x2:h=1}=e,{y2:u=1}=e,{clip:d=!1}=e,m;const g=oe(),_=oe(),v=oe(),w=oe(),b=oe();q(t,b,V=>r(2,i=V));const T=oe();q(t,T,V=>r(3,s=V));const P=oe(null),F=V=>{const G=m.getBoundingClientRect(),le=V.clientX-G.left,ee=V.clientY-G.top,he=a(100*le/(G.right-G.left)),ge=n(100*ee/(G.bottom-G.top));P.set({x:he,y:ge,left:le,top:ee})},W=()=>{P.set(null)},R=ve([g,v],([V,G])=>ni([V,G],[0,100])),B=ve([_,w],([V,G])=>ni([V,G],[100,0])),z=ve(R,V=>V.inverse());q(t,z,V=>r(19,a=V));const I=ve(B,V=>V.inverse());q(t,I,V=>r(18,n=V)),Zr(cc,{x1:g,y1:_,x2:v,y2:w,x_scale:R,y_scale:B,x_scale_inverse:z,y_scale_inverse:I,pointer:P,width:b,height:T});function H(V){ht[V?"unshift":"push"](()=>{m=V,r(1,m)})}function O(){i=this.clientWidth,b.set(i),s=this.clientHeight,T.set(s)}return t.$$set=V=>{"x1"in V&&r(10,c=V.x1),"y1"in V&&r(11,f=V.y1),"x2"in V&&r(12,h=V.x2),"y2"in V&&r(13,u=V.y2),"clip"in V&&r(0,d=V.clip),"$$scope"in V&&r(14,l=V.$$scope)},t.$$.update=()=>{t.$$.dirty&1024&&g.set(c),t.$$.dirty&2048&&_.set(f),t.$$.dirty&4096&&v.set(h),t.$$.dirty&8192&&w.set(u)},[d,m,i,s,b,T,F,W,z,I,c,f,h,u,l,o,H,O]}class vm extends ie{constructor(e){super(),se(this,e,ym,gm,ae,{x1:10,y1:11,x2:12,y2:13,clip:0})}}function wm(t){let e,r;const n=t[10].default,a=qe(n,t,t[9],null);return{c(){e=M("div"),a&&a.c(),this.h()},l(i){e=C(i,"DIV",{class:!0,style:!0});var s=E(e);a&&a.l(s),s.forEach(y),this.h()},h(){p(e,"class","pancake-box svelte-fp69lv"),p(e,"style",t[0])},m(i,s){N(i,e,s),a&&a.m(e,null),r=!0},p(i,[s]){a&&a.p&&(!r||s&512)&&Ge(a,n,i,i[9],r?xe(n,i[9],s,null):Ke(i[9]),null),(!r||s&1)&&p(e,"style",i[0])},i(i){r||(S(a,i),r=!0)},o(i){D(a,i),r=!1},d(i){i&&y(e),a&&a.d(i)}}}function bm(t,e,r){let n,a,{$$slots:i={},$$scope:s}=e,{x1:o=0}=e,{x2:l=1}=e,{y1:c=0}=e,{y2:f=1}=e;const{x_scale:h,y_scale:u}=_m();q(t,h,m=>r(8,a=m)),q(t,u,m=>r(7,n=m));let d;return t.$$set=m=>{"x1"in m&&r(3,o=m.x1),"x2"in m&&r(4,l=m.x2),"y1"in m&&r(5,c=m.y1),"y2"in m&&r(6,f=m.y2),"$$scope"in m&&r(9,s=m.$$scope)},t.$$.update=()=>{if(t.$$.dirty&504){const m=a(o),g=a(l),_=n(c),v=n(f),w=Math.min(m,g),b=Math.max(m,g),T=Math.min(_,v),P=Math.max(_,v),F=P-T;r(0,d=`left: ${w}%; bottom: ${100-P}%; width: ${b-w}%; height: ${F}%;`)}},[d,h,u,o,l,c,f,n,a,s,i]}class km extends ie{constructor(e){super(),se(this,e,bm,wm,ae,{x1:3,x2:4,y1:5,y2:6})}}function Zs(t,e,r){const n=t.slice();return n[3]=e[r],n}const Tm=t=>({node:t&1}),Xs=t=>({node:t[0]}),Mm=t=>({node:t&1}),$s=t=>({node:t[0]});function Cm(t){let e;const r=t[1].default,n=qe(r,t,t[2],$s);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,i){n&&n.m(a,i),e=!0},p(a,i){n&&n.p&&(!e||i&5)&&Ge(n,r,a,a[2],e?xe(r,a[2],i,Mm):Ke(a[2]),$s)},i(a){e||(S(n,a),e=!0)},o(a){D(n,a),e=!1},d(a){n&&n.d(a)}}}function Sm(t){let e,r;const n=t[1].default,a=qe(n,t,t[2],Xs);return{c(){a&&a.c(),e=L()},l(i){a&&a.l(i),e=j(i)},m(i,s){a&&a.m(i,s),N(i,e,s),r=!0},p(i,s){a&&a.p&&(!r||s&5)&&Ge(a,n,i,i[2],r?xe(n,i[2],s,Tm):Ke(i[2]),Xs)},i(i){r||(S(a,i),r=!0)},o(i){D(a,i),r=!1},d(i){i&&y(e),a&&a.d(i)}}}function eo(t){let e,r;return e=new fc({props:{node:t[3],$$slots:{default:[Sm,({node:n})=>({0:n}),({node:n})=>n?1:0]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&1&&(i.node=n[3]),a&5&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Pm(t){let e,r,n,a;e=new km({props:{x1:t[0].x0,x2:t[0].x1,y1:t[0].y1,y2:t[0].y0,$$slots:{default:[Cm]},$$scope:{ctx:t}}});let i=Z(t[0].children||[]),s=[];for(let l=0;l<i.length;l+=1)s[l]=eo(Zs(t,i,l));const o=l=>D(s[l],1,1,()=>{s[l]=null});return{c(){K(e.$$.fragment),r=L();for(let l=0;l<s.length;l+=1)s[l].c();n=X()},l(l){J(e.$$.fragment,l),r=j(l);for(let c=0;c<s.length;c+=1)s[c].l(l);n=X()},m(l,c){x(e,l,c),N(l,r,c);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(l,c);N(l,n,c),a=!0},p(l,[c]){const f={};if(c&1&&(f.x1=l[0].x0),c&1&&(f.x2=l[0].x1),c&1&&(f.y1=l[0].y1),c&1&&(f.y2=l[0].y0),c&5&&(f.$$scope={dirty:c,ctx:l}),e.$set(f),c&5){i=Z(l[0].children||[]);let h;for(h=0;h<i.length;h+=1){const u=Zs(l,i,h);s[h]?(s[h].p(u,c),S(s[h],1)):(s[h]=eo(u),s[h].c(),S(s[h],1),s[h].m(n.parentNode,n))}for(te(),h=i.length;h<s.length;h+=1)o(h);ne()}},i(l){if(!a){S(e.$$.fragment,l);for(let c=0;c<i.length;c+=1)S(s[c]);a=!0}},o(l){D(e.$$.fragment,l),s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)D(s[c]);a=!1},d(l){l&&(y(r),y(n)),U(e,l),me(s,l)}}}function Em(t,e,r){let{$$slots:n={},$$scope:a}=e,{node:i}=e;return t.$$set=s=>{"node"in s&&r(0,i=s.node),"$$scope"in s&&r(2,a=s.$$scope)},[i,n,a]}class fc extends ie{constructor(e){super(),se(this,e,Em,Pm,ae,{node:0})}}const Am=t=>({node:t&8}),to=t=>({node:t[3]});function Fm(t){let e;const r=t[1].default,n=qe(r,t,t[2],to);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,i){n&&n.m(a,i),e=!0},p(a,i){n&&n.p&&(!e||i&12)&&Ge(n,r,a,a[2],e?xe(r,a[2],i,Am):Ke(a[2]),to)},i(a){e||(S(n,a),e=!0)},o(a){D(n,a),e=!1},d(a){n&&n.d(a)}}}function Dm(t){let e,r,n;return r=new fc({props:{node:t[0],$$slots:{default:[Fm,({node:a})=>({3:a}),({node:a})=>a?8:0]},$$scope:{ctx:t}}}),{c(){e=M("pancake-treemap"),K(r.$$.fragment),this.h()},l(a){e=C(a,"PANCAKE-TREEMAP",{class:!0});var i=E(e);J(r.$$.fragment,i),i.forEach(y),this.h()},h(){Dc(e,"class","svelte-c1nvr9")},m(a,i){N(a,e,i),x(r,e,null),n=!0},p(a,[i]){const s={};i&1&&(s.node=a[0]),i&12&&(s.$$scope={dirty:i,ctx:a}),r.$set(s)},i(a){n||(S(r.$$.fragment,a),n=!0)},o(a){D(r.$$.fragment,a),n=!1},d(a){a&&y(e),U(r)}}}function Nm(t,e,r){let{$$slots:n={},$$scope:a}=e,{root:i}=e;return t.$$set=s=>{"root"in s&&r(0,i=s.root),"$$scope"in s&&r(2,a=s.$$scope)},[i,n,a]}class Rm extends ie{constructor(e){super(),se(this,e,Nm,Dm,ae,{root:0})}}const Im={name:"allShips",children:[{name:"M/M",children:[{name:"M/M",value:3831810}]},{name:"F/M",children:[{name:"F/M",value:1245858}]},{name:"Gen",children:[{name:"Gen",value:1053842}]},{name:"F/F",children:[{name:"F/F",value:397593}]},{name:"XReader",children:[{name:"XReader",value:367263}]},{name:"Other",children:[{name:"Other",value:239864}]},{name:"Original",children:[{name:"Original",value:116747}]},{name:"Multi",children:[{name:"Multi",value:56609}]}]},zm={name:"demographic",children:[{name:"identity",children:[{name:"Yes",value:81.4,short:"yes"},{name:"No",value:10,short:"no"},{name:"Questioning/Unsure",value:7.2,short:"questioning"},{name:"No response",value:1.4,short:"nr"}]}]},Bm={name:"demographic",children:[{name:"identity",children:[{name:"Yes",value:25.1,short:"yes"},{name:"No",value:64,short:"no"},{name:"Questioning/Unsure",value:8.3,short:"questioning"},{name:"No response",value:2.6,short:"nr"}]}]};function Vm(t){let e,r,n=t[8].data.name+"",a,i,s,o=sa(t[8].value)+"",l,c;return{c(){e=M("div"),r=M("strong"),a=Y(n),i=L(),s=M("span"),l=Y(o),this.h()},l(f){e=C(f,"DIV",{class:!0});var h=E(e);r=C(h,"STRONG",{class:!0});var u=E(r);a=Q(u,n),u.forEach(y),i=j(h),s=C(h,"SPAN",{class:!0});var d=E(s);l=Q(d,o),d.forEach(y),h.forEach(y),this.h()},h(){p(r,"class","svelte-vgj9s4"),p(s,"class","svelte-vgj9s4"),p(e,"class",c="contents contents-"+t[8].data.name.replace("/","")+" svelte-vgj9s4")},m(f,h){N(f,e,h),k(e,r),k(r,a),k(e,i),k(e,s),k(s,l)},p(f,h){h&256&&n!==(n=f[8].data.name+"")&&ce(a,n),h&256&&o!==(o=sa(f[8].value)+"")&&ce(l,o),h&256&&c!==(c="contents contents-"+f[8].data.name.replace("/","")+" svelte-vgj9s4")&&p(e,"class",c)},d(f){f&&y(e)}}}function Wm(t){let e,r,n=t[8].data.name+"",a,i,s,o=sa(t[8].value)+"",l,c,f;return{c(){e=M("div"),r=M("strong"),a=Y(n),i=L(),s=M("span"),l=Y(o),c=Y("%"),this.h()},l(h){e=C(h,"DIV",{class:!0});var u=E(e);r=C(u,"STRONG",{class:!0});var d=E(r);a=Q(d,n),d.forEach(y),i=j(u),s=C(u,"SPAN",{class:!0});var m=E(s);l=Q(m,o),c=Q(m,"%"),m.forEach(y),u.forEach(y),this.h()},h(){p(r,"class","svelte-vgj9s4"),p(s,"class","svelte-vgj9s4"),p(e,"class",f="contents contents-"+t[8].data.short+" svelte-vgj9s4")},m(h,u){N(h,e,u),k(e,r),k(r,a),k(e,i),k(e,s),k(s,l),k(s,c)},p(h,u){u&256&&n!==(n=h[8].data.name+"")&&ce(a,n),u&256&&o!==(o=sa(h[8].value)+"")&&ce(l,o),u&256&&f!==(f="contents contents-"+h[8].data.short+" svelte-vgj9s4")&&p(e,"class",f)},d(h){h&&y(e)}}}function Lm(t){let e;function r(i,s){return i[0]=="SLASH_AO3demographics0"||i[0]=="SLASH_AO3demographics1"?Wm:Vm}let n=r(t),a=n(t);return{c(){e=M("div"),a.c(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);a.l(s),s.forEach(y),this.h()},h(){p(e,"class","node svelte-vgj9s4"),ue(e,"leaf",!t[8].children)},m(i,s){N(i,e,s),a.m(e,null)},p(i,s){n===(n=r(i))&&a?a.p(i,s):(a.d(1),a=n(i),a&&(a.c(),a.m(e,null))),s&256&&ue(e,"leaf",!i[8].children)},d(i){i&&y(e),a.d()}}}function jm(t){let e,r;return e=new Rm({props:{root:t[2],$$slots:{default:[Lm,({node:n})=>({8:n}),({node:n})=>n?256:0]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&769&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Om(t){let e,r,n;return r=new vm({props:{x1:t[1].x1,x2:t[1].x2,y1:t[1].y1,y2:t[1].y2,$$slots:{default:[jm]},$$scope:{ctx:t}}}),{c(){e=M("div"),K(r.$$.fragment),this.h()},l(a){e=C(a,"DIV",{class:!0,id:!0});var i=E(e);J(r.$$.fragment,i),i.forEach(y),this.h()},h(){p(e,"class","chart svelte-vgj9s4"),p(e,"id",t[0])},m(a,i){N(a,e,i),x(r,e,null),n=!0},p(a,[i]){const s={};i&2&&(s.x1=a[1].x1),i&2&&(s.x2=a[1].x2),i&2&&(s.y1=a[1].y1),i&2&&(s.y2=a[1].y2),i&513&&(s.$$scope={dirty:i,ctx:a}),r.$set(s),(!n||i&1)&&p(e,"id",a[0])},i(a){n||(S(r.$$.fragment,a),n=!0)},o(a){D(r.$$.fragment,a),n=!1},d(a){a&&y(e),U(r)}}}function Hm(t,e,r){let n,{id:a}=e,i=a=="SLASH_AO3demographics0"?zm:a=="SLASH_AO3demographics1"?Bm:Im;const s=Yu(),o=fi(i).sum(h=>h.value).sort((h,u)=>u.value-h.value),l=s(o);let c=l;const f=oc(void 0,{easing:Vl,duration:600});return q(t,f,h=>r(1,n=h)),t.$$set=h=>{"id"in h&&r(0,a=h.id)},pe(f,n={x1:c.x0,x2:c.x1,y1:c.y1,y2:c.y0},n),[a,n,l,f]}class uc extends ie{constructor(e){super(),se(this,e,Hm,Om,ae,{id:0})}}function no(t){let e,r,n,a=t[2]&&ro(t);return r=new hm({props:{id:t[1],chunk:t[3]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=ro(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),s&8&&(o.chunk=i[3]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function ro(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function ao(t){let e,r,n,a=t[2]&&io(t);return r=new Sd({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=io(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function io(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function so(t){let e,r,n,a=t[2]&&oo(t);return r=new Vd({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=oo(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function oo(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function lo(t){let e,r,n,a=t[2]&&co(t);return r=new Yd({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=co(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function co(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function fo(t){let e,r,n,a=t[2]&&uo(t);return r=new pm({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=uo(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function uo(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function ho(t){let e,r,n,a=t[2]&&mo(t);return r=new uc({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=mo(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function mo(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function qm(t){let e,r,n,a,i,s,o,l=t[0]=="nums"&&no(t),c=t[0]=="line"&&ao(t),f=t[0]=="table"&&so(t),h=t[0]=="multiline"&&lo(t),u=t[0]=="waffle"&&fo(t),d=t[0]=="treemap"&&ho(t);return{c(){e=M("div"),l&&l.c(),r=L(),c&&c.c(),n=L(),f&&f.c(),a=L(),h&&h.c(),i=L(),u&&u.c(),s=L(),d&&d.c(),this.h()},l(m){e=C(m,"DIV",{class:!0});var g=E(e);l&&l.l(g),r=j(g),c&&c.l(g),n=j(g),f&&f.l(g),a=j(g),h&&h.l(g),i=j(g),u&&u.l(g),s=j(g),d&&d.l(g),g.forEach(y),this.h()},h(){p(e,"class","chart-wrapper svelte-qw37w1")},m(m,g){N(m,e,g),l&&l.m(e,null),k(e,r),c&&c.m(e,null),k(e,n),f&&f.m(e,null),k(e,a),h&&h.m(e,null),k(e,i),u&&u.m(e,null),k(e,s),d&&d.m(e,null),o=!0},p(m,[g]){m[0]=="nums"?l?(l.p(m,g),g&1&&S(l,1)):(l=no(m),l.c(),S(l,1),l.m(e,r)):l&&(te(),D(l,1,1,()=>{l=null}),ne()),m[0]=="line"?c?(c.p(m,g),g&1&&S(c,1)):(c=ao(m),c.c(),S(c,1),c.m(e,n)):c&&(te(),D(c,1,1,()=>{c=null}),ne()),m[0]=="table"?f?(f.p(m,g),g&1&&S(f,1)):(f=so(m),f.c(),S(f,1),f.m(e,a)):f&&(te(),D(f,1,1,()=>{f=null}),ne()),m[0]=="multiline"?h?(h.p(m,g),g&1&&S(h,1)):(h=lo(m),h.c(),S(h,1),h.m(e,i)):h&&(te(),D(h,1,1,()=>{h=null}),ne()),m[0]=="waffle"?u?(u.p(m,g),g&1&&S(u,1)):(u=fo(m),u.c(),S(u,1),u.m(e,s)):u&&(te(),D(u,1,1,()=>{u=null}),ne()),m[0]=="treemap"?d?(d.p(m,g),g&1&&S(d,1)):(d=ho(m),d.c(),S(d,1),d.m(e,null)):d&&(te(),D(d,1,1,()=>{d=null}),ne())},i(m){o||(S(l),S(c),S(f),S(h),S(u),S(d),o=!0)},o(m){D(l),D(c),D(f),D(h),D(u),D(d),o=!1},d(m){m&&y(e),l&&l.d(),c&&c.d(),f&&f.d(),h&&h.d(),u&&u.d(),d&&d.d()}}}function Gm(t,e,r){let{chartType:n}=e,{id:a}=e,{title:i}=e,{chunk:s}=e;return t.$$set=o=>{"chartType"in o&&r(0,n=o.chartType),"id"in o&&r(1,a=o.id),"title"in o&&r(2,i=o.title),"chunk"in o&&r(3,s=o.chunk)},[n,a,i,s]}class Hn extends ie{constructor(e){super(),se(this,e,Gm,qm,ae,{chartType:0,id:1,title:2,chunk:3})}}function Km(t){let e,r;const n=t[7].default,a=qe(n,t,t[6],null);return{c(){e=M("div"),a&&a.c(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);a&&a.l(s),s.forEach(y),this.h()},h(){p(e,"class","svelte-rxdpo9")},m(i,s){N(i,e,s),a&&a.m(e,null),t[8](e),r=!0},p(i,[s]){a&&a.p&&(!r||s&64)&&Ge(a,n,i,i[6],r?xe(n,i[6],s,null):Ke(i[6]),null)},i(i){r||(S(a,i),r=!0)},o(i){D(a,i),r=!1},d(i){i&&y(e),a&&a.d(i),t[8](null)}}}function xm(t,e,r){let{$$slots:n={},$$scope:a}=e,{root:i=null}=e,{top:s=0}=e,{bottom:o=0}=e,{increments:l=100}=e,{value:c=void 0}=e;const f=[],h=[];let u=[],d=[],m;const g=()=>{u.length&&u.forEach(v)},_=()=>{let b=0,T=0;for(let P=0;P<f.length;P++)f[P]>b&&(b=f[P],T=P);b>0?r(1,c=T):r(1,c=void 0)},v=(b,T)=>{const P=I=>{I[0].isIntersecting;const H=I[0].intersectionRatio;f[T]=H,_()},F=s?s*-1:0,W=o?o*-1:0,R=`${F}px 0px ${W}px 0px`,B={root:i,rootMargin:R,threshold:h};d[T]&&d[T].disconnect();const z=new IntersectionObserver(P,B);z.observe(b),d[T]=z};it(()=>{for(let b=0;b<l+1;b++)h.push(b/l);u=m.querySelectorAll(":scope > *:not(iframe)"),g()});function w(b){ht[b?"unshift":"push"](()=>{m=b,r(0,m)})}return t.$$set=b=>{"root"in b&&r(2,i=b.root),"top"in b&&r(3,s=b.top),"bottom"in b&&r(4,o=b.bottom),"increments"in b&&r(5,l=b.increments),"value"in b&&r(1,c=b.value),"$$scope"in b&&r(6,a=b.$$scope)},t.$$.update=()=>{t.$$.dirty&24&&g()},[m,c,i,s,o,l,a,n,w]}class gi extends ie{constructor(e){super(),se(this,e,xm,Km,ae,{root:2,top:3,bottom:4,increments:5,value:1})}}const po=[{year:"2023",ship:"Castiel/Dean Winchester",fandom:"Supernatural",Genre:"Fantasy",collapsedFandom:"",totalWorks:"105307",relType:"M/M",isCanon:"Semi-Canon",isRPF:"No"},{year:"2023",ship:"Derek Hale/Stiles Stilinski",fandom:"Teen Wolf",Genre:"Fantasy",collapsedFandom:"",totalWorks:"64469",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Sherlock Holmes/John Watson",fandom:"Sherlock",Genre:"Crime",collapsedFandom:"",totalWorks:"64171",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Draco Malfoy/Harry Potter",fandom:"Harry Potter",Genre:"Fantasy",collapsedFandom:"",totalWorks:"62215",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:'James "Bucky" Barnes/Steve Rogers',fandom:"Captain America",Genre:"Superhero",collapsedFandom:"Marvel",totalWorks:"58748",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Aziraphale/Crowley",fandom:"Good Omens",Genre:"Fantasy",collapsedFandom:"",totalWorks:"55702",relType:"Other",isCanon:"Semi-Canon",isRPF:"No"},{year:"2023",ship:"Sirius Black/Remus Lupin",fandom:"Harry Potter",Genre:"Fantasy",collapsedFandom:"",totalWorks:"44820",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Steve Rogers/Tony Stark",fandom:"Marvel Cinematic Universe",Genre:"Superhero",collapsedFandom:"Marvel",totalWorks:"42767",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Bakugou Katsuki/Midoriya Izuku",fandom:"My Hero Academia",Genre:"Fantasy",collapsedFandom:"",totalWorks:"41259",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Adrien Agreste & Marinette Dupain-Cheng",fandom:"Miraculous Ladybug",Genre:"Superhero",collapsedFandom:"",totalWorks:"41251",relType:"Gen",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Harry Styles/Louis Tomlinson",fandom:"One Direction",Genre:"Western Artist",collapsedFandom:"",totalWorks:"39827",relType:"M/M",isCanon:"No",isRPF:"Yes"},{year:"2023",ship:"Lán Zhàn/Wèi Yīng",fandom:"Módào Zǔshī",Genre:"Fantasy",collapsedFandom:"",totalWorks:"36510",relType:"M/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Jeon Jeongguk/Kim Taehyung",fandom:"BTS",Genre:"Kpop",collapsedFandom:"",totalWorks:"36031",relType:"M/M",isCanon:"No",isRPF:"Yes"},{year:"2023",ship:"Merlin/Arthur Pendragon",fandom:"Merlin",Genre:"Fantasy",collapsedFandom:"",totalWorks:"33353",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Keith/Lance",fandom:"Voltron: Legendary Defender",Genre:"Fantasy",collapsedFandom:"Voltron",totalWorks:"32582",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Dean Winchester/Sam Winchester",fandom:"Supernatural",Genre:"Fantasy",collapsedFandom:"",totalWorks:"30898",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Bakugou Katsuki/Kirishima Eijirou",fandom:"My Hero Academia",Genre:"Fantasy",collapsedFandom:"",totalWorks:"30298",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Magnus Bane/Alec Lightwood",fandom:"Mortal Instruments Series",Genre:"Fantasy",collapsedFandom:"The Shadowhunter Chronicles",totalWorks:"29903",relType:"M/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Dazai Osamu/Nakahara Chuuya",fandom:"Bungou Stray Dogs",Genre:"Fantasy",collapsedFandom:"",totalWorks:"28328",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Peter Parker & Tony Stark",fandom:"Marvel Cinematic Universe",Genre:"Superhero",collapsedFandom:"Marvel",totalWorks:"28188",relType:"Gen",isCanon:"Yes",isRPF:"No"}];function go(t,e,r){const n=t.slice();return n[10]=e[r],n[12]=r,n}function _o(t){let e,r,n,a,i,s=t[10].ship.replace("/"," / ")+"",o,l,c,f=t[5](t[10].totalWorks)+"",h,u,d,m,g,_,v;return r=new Wt({props:{rank:t[1]+t[12]+1}}),{c(){e=M("li"),K(r.$$.fragment),n=L(),a=M("div"),i=M("p"),o=Y(s),l=L(),c=M("p"),h=Y(f),u=Y(" fics"),d=L(),this.h()},l(w){e=C(w,"LI",{class:!0});var b=E(e);J(r.$$.fragment,b),n=j(b),a=C(b,"DIV",{class:!0});var T=E(a);i=C(T,"P",{class:!0});var P=E(i);o=Q(P,s),P.forEach(y),l=j(T),c=C(T,"P",{class:!0});var F=E(c);h=Q(F,f),u=Q(F," fics"),F.forEach(y),T.forEach(y),d=j(b),b.forEach(y),this.h()},h(){p(i,"class","ship-name svelte-1e42gkb"),p(c,"class","svelte-1e42gkb"),p(a,"class","content-wrapper svelte-1e42gkb"),p(e,"class",m="ship ship-relType-"+hn(t[10].relType)+" ship-canon-"+hn(t[10].isCanon)+" ship-rpf-"+hn(t[10].isRPF)+" svelte-1e42gkb"),ue(e,"active",t[6](t[0],t[10]))},m(w,b){N(w,e,b),x(r,e,null),k(e,n),k(e,a),k(a,i),k(i,o),k(a,l),k(a,c),k(c,h),k(c,u),k(e,d),v=!0},p(w,b){t=w;const T={};b&2&&(T.rank=t[1]+t[12]+1),r.$set(T),(!v||b&6)&&s!==(s=t[10].ship.replace("/"," / ")+"")&&ce(o,s),(!v||b&6)&&f!==(f=t[5](t[10].totalWorks)+"")&&ce(h,f),(!v||b&6&&m!==(m="ship ship-relType-"+hn(t[10].relType)+" ship-canon-"+hn(t[10].isCanon)+" ship-rpf-"+hn(t[10].isRPF)+" svelte-1e42gkb"))&&p(e,"class",m),(!v||b&71)&&ue(e,"active",t[6](t[0],t[10]))},i(w){v||(S(r.$$.fragment,w),w&&we(()=>{v&&(_&&_.end(1),g=la(e,Nt,{delay:Jm(t[1],t[3],t[12]),duration:300}),g.start())}),v=!0)},o(w){D(r.$$.fragment,w),g&&g.invalidate(),w&&(_=Rl(e,Nt,{delay:50,duration:300})),v=!1},d(w){w&&y(e),U(r),w&&_&&_.end()}}}function yo(t){let e,r,n=t[0]>=0&&_o(t);return{c(){n&&n.c(),e=X()},l(a){n&&n.l(a),e=X()},m(a,i){n&&n.m(a,i),N(a,e,i),r=!0},p(a,i){a[0]>=0?n?(n.p(a,i),i&1&&S(n,1)):(n=_o(a),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(te(),D(n,1,1,()=>{n=null}),ne())},i(a){r||(S(n),r=!0)},o(a){D(n),r=!1},d(a){a&&y(e),n&&n.d(a)}}}function Um(t){let e,r,n,a;we(t[8]);let i=Z(po.slice(t[1],t[2])),s=[];for(let l=0;l<i.length;l+=1)s[l]=yo(go(t,i,l));const o=l=>D(s[l],1,1,()=>{s[l]=null});return{c(){e=M("ul");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=C(l,"UL",{class:!0});var c=E(e);for(let f=0;f<s.length;f+=1)s[f].l(c);c.forEach(y),this.h()},h(){p(e,"class","intro-table-chunk svelte-1e42gkb")},m(l,c){N(l,e,c);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);r=!0,n||(a=de(window,"resize",t[8]),n=!0)},p(l,[c]){if(c&103){i=Z(po.slice(l[1],l[2]));let f;for(f=0;f<i.length;f+=1){const h=go(l,i,f);s[f]?(s[f].p(h,c),S(s[f],1)):(s[f]=yo(h),s[f].c(),S(s[f],1),s[f].m(e,null))}for(te(),f=i.length;f<s.length;f+=1)o(f);ne()}},i(l){if(!r){for(let c=0;c<i.length;c+=1)S(s[c]);r=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)D(s[c]);r=!1},d(l){l&&y(e),me(s,l),n=!1,a()}}}function hn(t){return t.replace(/[^\w\s]/gi,"").toLowerCase()}function Jm(t,e,r){return 50*(t+r+1)}function Ym(t,e,r){let{scrollIndex:n}=e,{start:a}=e,{end:i}=e,{totalSets:s}=e,{set:o}=e;const l=Vt(",");let c,f;function h(d,m){return d==1&&m.relType=="M/M"||d==2&&m.isCanon=="No"||d==3&&m.isRPF=="Yes"?c=!0:c=!1,c}function u(){r(4,f=window.innerWidth)}return t.$$set=d=>{"scrollIndex"in d&&r(0,n=d.scrollIndex),"start"in d&&r(1,a=d.start),"end"in d&&r(2,i=d.end),"totalSets"in d&&r(7,s=d.totalSets),"set"in d&&r(3,o=d.set)},[n,a,i,o,f,l,h,s,u]}class Qm extends ie{constructor(e){super(),se(this,e,Ym,Um,ae,{scrollIndex:0,start:1,end:2,totalSets:7,set:3})}}function vo(t,e,r){const n=t.slice();return n[8]=e[r],n[10]=r,n}function wo(t){let e,r,n=Z(t[3]),a=[];for(let s=0;s<n.length;s+=1)a[s]=bo(vo(t,n,s));const i=s=>D(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=X()},l(s){for(let o=0;o<a.length;o+=1)a[o].l(s);e=X()},m(s,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(s,o);N(s,e,o),r=!0},p(s,o){if(o&9){n=Z(s[3]);let l;for(l=0;l<n.length;l+=1){const c=vo(s,n,l);a[l]?(a[l].p(c,o),S(a[l],1)):(a[l]=bo(c),a[l].c(),S(a[l],1),a[l].m(e.parentNode,e))}for(te(),l=n.length;l<a.length;l+=1)i(l);ne()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)S(a[o]);r=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)D(a[o]);r=!1},d(s){s&&y(e),me(a,s)}}}function bo(t){let e,r;return e=new Qm({props:{start:t[8].start,end:t[8].end,set:t[10],totalSets:t[8].sets,scrollIndex:t[0]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&8&&(i.start=n[8].start),a&8&&(i.end=n[8].end),a&8&&(i.totalSets=n[8].sets),a&1&&(i.scrollIndex=n[0]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Zm(t){let e,r,n,a,i;we(t[5]);let s=t[2].length>1&&wo(t);return{c(){e=M("section"),r=M("div"),s&&s.c(),this.h()},l(o){e=C(o,"SECTION",{id:!0,class:!0});var l=E(e);r=C(l,"DIV",{class:!0});var c=E(r);s&&s.l(c),c.forEach(y),l.forEach(y),this.h()},h(){p(r,"class","chunk svelte-1fv5j4d"),p(e,"id","intro-table"),p(e,"class","svelte-1fv5j4d")},m(o,l){N(o,e,l),k(e,r),s&&s.m(r,null),n=!0,a||(i=de(window,"resize",t[5]),a=!0)},p(o,[l]){o[2].length>1?s?(s.p(o,l),l&4&&S(s,1)):(s=wo(o),s.c(),S(s,1),s.m(r,null)):s&&(te(),D(s,1,1,()=>{s=null}),ne())},i(o){n||(S(s),n=!0)},o(o){D(s),n=!1},d(o){o&&y(e),s&&s.d(),a=!1,i()}}}function Xm(t){return t<900?[0,1]:[0,1,2,3]}function $m(t,e,r){let n,a,i,{scrollIndex:s}=e,o;function l(h,u){return h.length>1?h.map((m,g)=>({...m,start:g*u,end:g*u+u,sets:u})):0}function c(h){return h.length>1?20/h.length:0}function f(){r(1,o=window.innerWidth)}return t.$$set=h=>{"scrollIndex"in h&&r(0,s=h.scrollIndex)},t.$$.update=()=>{t.$$.dirty&2&&r(2,n=Xm(o)),t.$$.dirty&4&&r(4,a=c(n)),t.$$.dirty&20&&r(3,i=l(n,a))},[s,o,n,i,a,f]}class e1 extends ie{constructor(e){super(),se(this,e,$m,Zm,ae,{scrollIndex:0})}}function ko(t,e,r){const n=t.slice();return n[4]=e[r],n[6]=r,n}function t1(t){let e,r=Z(t[1].introSlides),n=[];for(let a=0;a<r.length;a+=1)n[a]=To(ko(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p(a,i){if(i&2){r=Z(a[1].introSlides);let s;for(s=0;s<r.length;s+=1){const o=ko(a,r,s);n[s]?n[s].p(o,i):(n[s]=To(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(a){a&&y(e),me(n,a)}}}function To(t){let e,r,n,a,i=t[4].value+"",s;return{c(){e=M("div"),r=M("div"),n=M("p"),a=new Gn(!1),s=L(),this.h()},l(o){e=C(o,"DIV",{class:!0});var l=E(e);r=C(l,"DIV",{class:!0});var c=E(r);n=C(c,"P",{});var f=E(n);a=Kn(f,!1),f.forEach(y),c.forEach(y),s=j(l),l.forEach(y),this.h()},h(){a.a=null,p(r,"class","step-inner svelte-1cp839r"),p(e,"class","step svelte-1cp839r")},m(o,l){N(o,e,l),k(e,r),k(r,n),a.m(i,n),k(e,s)},p:re,d(o){o&&y(e)}}}function n1(t){let e,r=t[1].introSlides&&t1(t);return{c(){r&&r.c(),e=X()},l(n){r&&r.l(n),e=X()},m(n,a){r&&r.m(n,a),N(n,e,a)},p(n,a){n[1].introSlides&&r.p(n,a)},d(n){n&&y(e),r&&r.d(n)}}}function r1(t){let e,r,n,a,i,s,o,l,c;n=new e1({props:{scrollIndex:t[0]}});function f(u){t[2](u)}let h={$$slots:{default:[n1]},$$scope:{ctx:t}};return t[0]!==void 0&&(h.value=t[0]),i=new gi({props:h}),ht.push(()=>oi(i,"value",f)),{c(){e=M("section"),r=M("div"),K(n.$$.fragment),a=L(),K(i.$$.fragment),o=L(),l=M("div"),this.h()},l(u){e=C(u,"SECTION",{id:!0});var d=E(e);r=C(d,"DIV",{class:!0});var m=E(r);J(n.$$.fragment,m),m.forEach(y),a=j(d),J(i.$$.fragment,d),o=j(d),l=C(d,"DIV",{class:!0}),E(l).forEach(y),d.forEach(y),this.h()},h(){p(r,"class","sticky svelte-1cp839r"),p(l,"class","spacer svelte-1cp839r"),p(e,"id","scrolly")},m(u,d){N(u,e,d),k(e,r),x(n,r,null),k(e,a),x(i,e,null),k(e,o),k(e,l),c=!0},p(u,[d]){const m={};d&1&&(m.scrollIndex=u[0]),n.$set(m);const g={};d&128&&(g.$$scope={dirty:d,ctx:u}),!s&&d&1&&(s=!0,g.value=u[0],ii(()=>s=!1)),i.$set(g)},i(u){c||(S(n.$$.fragment,u),S(i.$$.fragment,u),c=!0)},o(u){D(n.$$.fragment,u),D(i.$$.fragment,u),c=!1},d(u){u&&y(e),U(n),U(i)}}}function a1(t,e,r){const n=st("copy");let a;function i(s){a=s,r(0,a)}return[a,n,i]}class i1 extends ie{constructor(e){super(),se(this,e,a1,r1,ae,{})}}function Mo(t,e,r){const n=t.slice();return n[3]=e[r],n}function Co(t){let e,r;return{c(){e=M("img"),this.h()},l(n){e=C(n,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){$(e,"top",xr(t[1])+"px"),$(e,"left",xr(t[0])+"px"),$(e,"animation-duration",o1(3)+"s"),p(e,"class","sparkle svelte-hlqzip"),Re(e.src,r="./assets/images/sparkle.png")||p(e,"src",r),p(e,"alt","sparkle")},m(n,a){N(n,e,a)},p(n,a){a&2&&$(e,"top",xr(n[1])+"px"),a&1&&$(e,"left",xr(n[0])+"px")},d(n){n&&y(e)}}}function s1(t){let e,r=Z(t[2]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Co(Mo(t,r,a));return{c(){e=M("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var i=E(e);for(let s=0;s<n.length;s+=1)n[s].l(i);i.forEach(y),this.h()},h(){p(e,"class","sparkles svelte-hlqzip")},m(a,i){N(a,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(a,[i]){if(i&3){r=Z(a[2]);let s;for(s=0;s<r.length;s+=1){const o=Mo(a,r,s);n[s]?n[s].p(o,i):(n[s]=Co(o),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},i:re,o:re,d(a){a&&y(e),me(n,a)}}}function xr(t){const e=Math.floor(t/20);return Math.floor(Math.random()*(e+1))*20}function o1(t){return Math.floor(Math.random()*t)+1}function l1(t,e,r){const n=Array.from({length:20},(s,o)=>o+1);let{introW:a}=e,{introH:i}=e;return t.$$set=s=>{"introW"in s&&r(0,a=s.introW),"introH"in s&&r(1,i=s.introH)},[a,i,n]}class c1 extends ie{constructor(e){super(),se(this,e,l1,s1,ae,{introW:0,introH:1})}}const f1=[{contentType:"prose",text:[{type:"text",value:"It’s the classic story: boy meets boy."},{type:"text",value:"They are instantly drawn together as if by some invisible cosmic force. They go through the highs and the heartbreaks, the triumphs and the turmoil, the despair and the dreams."},{type:"text",value:"Their relationship feels like the stuff of legend… or at least the stuff of hundreds of thousands of shipping fanfics."},{type:"text",value:"For the uninitiated, “shipping,” or the act of creating a romantic pairing between two people or characters who are not already romantically involved, may seem like an uniquely internet phenomena."},{type:"text",value:"But really, it <span class=strong>IS</span> the stuff of legend. From today’s Tay and Trav, to Shakespeare’s Romeo and Juliet, to Adam and Eve. Shipping is practically biblical."},{type:"text",value:"It's human nature to pair Human A and Human B (and possibly human C, D, etc.) together and hope for the best. But how do we collectively decide <span class=strong>WHO</span> gets shipped?"},{type:"text",value:"We set out to try to answer that question by looking at 10 years of <span class=ao3><a href=https://archiveofourown.org/>Archive of Our Own (AO3)</a></span> data compiled by <span class=strong><a href=https://centrumlumina.tumblr.com/>centreoftheselights</a></span>."},{type:"text",value:"First, let’s take a look at A03, one of the largest fanfiction sites in the world. It has over <span class=strong>7 million users</span> who have produced over <span class=strong>13 million fanfics</span> with over and over <span class=strong>500 unique fandoms</span> and over <span class=strong>2,000 unique ships</span>."}]},{contentType:"inlineChart",chartType:"nums",id:"INTRO_nums_users",count:"7338000",title:"Number of users"},{contentType:"inlineChart",chartType:"nums",id:"INTRO_nums_works",count:"13390000",title:"Number of works"},{contentType:"inlineChart",chartType:"line",id:"INTRO_topStats_fandoms",title:"Unique fandoms"},{contentType:"inlineChart",chartType:"line",id:"INTRO_topStats_ships",title:"Unique ships"}],u1=[{type:"text",value:"Let’s zoom into just the Top 20 ships on A03 to see if we can identify any patterns."},{type:"text",value:"Most of the Top 20 ships are <span class=slash>slash</span> ships, or male-male (M/M) romantic pairings."},{type:"text",value:"The majority are also <span class=canon>non-canon</span> ships, or ships that exist outside the scope of the original storyline."},{type:"text",value:"Notably, two of the Top 20 are <span class=rpf>real person fic</span> (RPF), or stories about real people instead of fictional characters."},{type:"text",value:"Now, we’re going to take a closer look at each of these themes."}],h1=[{contentType:"openingShip",nameAfirst:"Harry",nameAlast:"Potter",imgA:"harry-potter",nameBfirst:"Draco",nameBlast:"Malfoy",imgB:"draco-malfoy",connector:"/",description:"Two teenage wizards with a hostile rivalry fueled by jealousy and external political forces."},{contentType:"prose",text:[{type:"text",value:"Or, according to over 60,000 works of fanfiction on AO3: two characters with a deep well of sexual tension, just one butterbeer away from leaping headfirst into an enemies-to-lovers romance."},{type:"text",value:'These two are far from the only pair of men in popular media whose relationship has been reimagined by readers. <span class=ship><a href=https://archiveofourown.org/tags/James%20T*d*%20Kirk*s*Spock/works>James T. Kirk/Spock</a></span>, <span class=ship><a href=https://archiveofourown.org/tags/James%20%22Bucky%22%20Barnes*s*Steve%20Rogers/works>James "Bucky" Barnes/Steve Rogers</a></span>, <span class=ship><a href=https://archiveofourown.org/tags/Castiel*s*Dean%20Winchester/works>Castiel/Dean Winchester</a></span>, <span class=ship><a href=https://archiveofourown.org/tags/Sherlock%20Holmes*s*John%20Watson/works>Sherlock Holmes/John Watson</a></span>, are each the object of homoerotic fantasy. Men are shipped across every pairing, regardless of their sexualities or relationship to each other in the source material.'},{type:"text",value:"Slash ships, or same-sex relationships between men, are far and away the most popular type of fanfic on AO3."}]},{contentType:"inlineChart",chartType:"treemap",id:"SLASH_proportionByRelType",title:"Fanfics by Relationship type"},{contentType:"annotation",text:[{type:"text",value:"The increase in non-romantic fanfiction in recent years can be mostly attributed to the rise in popularity of video game vloggers on YouTube, which we discuss in the real person fiction section!"}]},{contentType:"prose",text:[{type:"text",value:"Our analysis shows that slash fic has been over twice as popular as the next category of fanfic since at least 2013. However, despite the overwhelming popularity of same-sex relationships between men, the writers and consumers of fanfics are overwhelmingly not gay men."}]},{contentType:"fullChart",chartType:"demographics",id:"SLASH_AO3demographics",title:"AO3 Demographics"},{contentType:"prose",text:[{type:"text",value:"According to a <a href=https://centrumlumina.tumblr.com/post/63208278796/ao3-census-masterpost>2024 demographic survey of AO3 users</a> by <a href=https://archiveofourown.org/users/centreoftheselights>centreoftheselights</a>, only 2.5% of respondents identify as cisgender men, and 12.8% identify as straight, which points to an overwhelming readership of women, nonbinary, and queer individuals."},{type:"text",value:"This begs the question – what explains the fascination with gay male relationships?"},{type:"text",value:"Decades of existing fan fiction scholarship and our analysis of 10 years of AO3 data point to several possibly contributing factors."}]},{contentType:"hed",hed:"Men love fandom"},{contentType:"prose",text:[{type:"text",value:"Fan fiction authors often write about fandoms whose characters are already dominated by men. As seen from the Top 20 fandoms on AO3, the main cast of the original media is TKTKTK."}]},{contentType:"fullChart",chartType:"scroll",id:"SLASH_topFandoms",title:"TKTK"},{contentType:"prose",text:[{type:"text",value:"You might also notice that these fandoms mostly fall into the same genres: Fantasy, Superhero"},{type:"text",value:"Video Game, Sports, Science Fiction — ones that historically had fanbases of predominantly men. This can potentially be traced back to the origins of fandom itself — science fiction."},{type:"text",value:"Quick history lesson: In the 1920’s, the science-fiction-only magazine <i><a href=https://amazingstories.com/>Amazing Stories</a></i> by <a href=https://en.wikipedia.org/wiki/Hugo_Gernsback>Hugo Gernsback</a> gave birth to participatory fandom culture in America. The magazine included a column that allowed readers to publish pieces with their mailing addresses, encouraging correspondence between fans and authors. The community, which consisted of mostly teenage boys, evolved into fanzines and conventions where boys exchanged analyses on science fiction literature."},{type:"text",value:"When Star Trek, the TV show, premiered in 1967, it instantly tapped into an already existing science fiction fan base of men. However, with this wave, women wanted in too. According to <a href=https://en.wikipedia.org/wiki/Henry_Jenkins>Henry Jenkins’</a> 1992 essay <a href=https://books.google.mw/books?id=CmmTAgAAQBAJ&printsec=frontcover#v=onepage&q&f=false>“Textual Poachers”</a>, the existing close relationships between authors and fans “created barriers to female fans, and this fandom’s traditions resisted inflection or redefinition.” To make the fandom their own, women began to transform and reimagine the Star Trek universe by editing clips from the show and writing what we now know as fan fiction. Thus was born the iconic <span class=ship><a href=https://archiveofourown.org/tags/James%20T*d*%20Kirk*s*Spock/works>James T. Kirk/Spock</a></span> slash pairing that served as the framework for generations of slash to come."},{type:"text",value:"So, it makes sense that popular fanfic pairings are dominated by men – fanfiction is concentrated around science fiction and other men-centric fandoms because the culture originated from those spaces."},{type:"text",value:"This is true both currently and historically. 2024 data from <a href=https://www.yahoo.com/entertainment/star-wars-older-more-male-170000506.html>Parrot Analytics’ Audience Solutions</a> shows that Star Wars and Marvel movie audiences are still heavily skewed male."},{type:"text",value:"The gender imbalance compounds. The fandoms with the largest communities attract fanfic writers to their spaces (<a href=https://www.newyorkcomiccon.com/en-us.html>New York City Comic Con</a> alone had 200,000 attendees in 2022), but are often dominated by characters who are men. Even as the demographics of these fandoms shift to include women, the characters in media reflect fandoms of generations past."},{type:"text",value:"However, part of the appeal of these genres for authors is that they allow them to flip the script. Queer authors state that they write into and around these fandoms to subvert the heteronormative, straight, mainstream perspective."},{type:"text",value:"Through genre, internalized machismo or homophobia which make it hard for M/M relationships to exist, which makes it more interesting for authors to subvert."}]},{contentType:"hed",hed:"Fictional women are aliens"},{contentType:"prose",text:[{type:"text",value:"Female characters are fetishized in the majority of media."},{type:"text",value:"Since popular culture is catered to the “male gaze,” women struggle to identify with women on screen. Characters are often white, skinny, hyper-feminized, and lack agency, which alienates fans looking to escape through characters they can relate to. These characters feel foreign, and writing and reading about them heightens feelings of intrasexual competition. Slash fic allows non-male authors and readers to identify with either character in a ship pairing"}]},{contentType:"quote",text:"Male fans “do not feel the need to transform the fictional worlds they are offered because they are their prime target: the point-of-view characters are more often than not straight white men, the sexually objectified characters tend to be young women, and men tend to have more lines and more agency in general.”",attribute:"Kristina Busse",title:"Philosophy Professor at the University of South Alabama, Coeditor Transformative Works and Cultures",url:"https://www.amazon.com/Framing-Fan-Fiction-Practices-Communities/dp/1609385144",imgSlug:"kristina-busse",source:"Framing Fan Fiction"},{contentType:"prose",text:[{type:"text",value:"Women write fewer fics involving female characters because they are often portrayed in the source media in a way that clash with their existing sense of self, making it safer to write about men. We can casually test this theory by sampling a few of the top fandoms."}]},{contentType:"fullChart",chartType:"network",id:"SLASH_Harry-MCU-network",title:"Fandom gender dynamics"},{contentType:"hed",hed:"The Female gaze"},{contentType:"prose",text:[{type:"text",value:"If popular culture is the “male gaze,” fanfic is the “female gaze.”"},{type:"text",value:"Since both partners are the same gender in slash fic, authors are able to imagine relationships that lack ingrained and stereotypical gender dynamics. Women struggle to envision themselves in heterosexual relationships where there is complete mutual respect. Slash fic evens the playing field, so to speak, giving both parties mutual power and mutual respect. Authors can subvert the societal expectations that burden straight relationships and project whatever romantic dynamic they want to see or experience themselves."},{type:"text",value:"Going back to the original science fiction ship, <span class=ship><a href=https://archiveofourown.org/tags/James%20T*d*%20Kirk*s*Spock/works>James T. Kirk/Spock</a></span>, TKTK writes that the fact that they are men is not incredibly relevant to the fantasy. The fact that Spock is technically an alien demonstrates that slash ships are not about fetishizing gay male relationships, but rather provide an androgynous template to work from."}]},{contentType:"quote",text:"“his alienness is a way of “coding” into the K/S fantasies that their subject is not a homosexual love affair between two men, but love and sex as women want them, whether with a man or with another woman.”",attribute:"Joanna Russ",title:"Writer, academic and feminist",url:"https://www.scribd.com/document/386376151/Pornography-by-Woman-for-Woman-With-Love-Joanna-Russ",imgSlug:"joanna-russ",source:"Pornography by Women, For Women, With Love"},{contentType:"prose",text:[{type:"text",value:"Queer female authors enjoy seeing men vulnerable. Slash fics endow men, despite portraying none of these qualities in the source media, with oodles of emotional vulnerability, allowing them to fulfill a role that authors wish they would encounter in their own lives."},{type:"text",value:"The romance in fics also often progresses much slower than in popular media, filled with yearning and drama, and a single fic is often hundreds of thousands of words long. The most popular tags for fics on AO3 across the board consistently emphasize how relationships progress."}]},{contentType:"inlineChart",chartType:"table",id:"SLASH_topTagsByRelType",title:"Top tags by relationship type"},{contentType:"prose",text:[{type:"text",value:"Notice the top themes, such as hurt/comfort, Fluff and Angst, slow burn, soul mates. The desire to see these patterns can be traced back to how women are socialized in society – to not initiate sex, to go slow with relationships, to be nurturing, to be fulfilled by utter, complete monogamy. Women are guided by what Russ calls the “sexualization of the female condition”. These features in fanfic – the external factors that push people together, the endless pain and comforting – are sexualized, and it’s exciting to see that portrayed by men, who are socialized in the opposite ways."}]},{contentType:"hed",hed:"Men are hot"},{contentType:"prose",text:[{type:"text",value:"This perhaps is obvious, but many people are attracted to men."},{type:"text",value:"And people attracted to men like to fantasize about hot men."},{type:"text",value:"If we begin to split the tag data by relationship types, M/M, F/M, and F/F, we start to see different types of tags emerge in the Top 20 for each category."}]},{contentType:"prose",text:[{type:"text",value:"While there are many tags that overlap across the groups, there are many more tags related to sexual acts for slash fics than for straight or femslash ships."},{type:"text",value:"Once we filter out the overlaps so we get the top 100 unique tags from each relationship type, these differences become even sharper."},{type:"text",value:"Authors enjoy shipping characters because they’re attractive and they want to see them together. This is especially clear in the disparity in the quantity of romantic and sexual fanfic of boy and girl K-pop bands, which is discussed more in the RPF section."}]},{contentType:"quote",text:'"the seemingly unradical notion that many women find men attractive, and therefore like looking at them, particularly without their clothes on"',attribute:"Lucy Neville",title:"Criminologist, University of Southampton",url:"https://www.amazon.com/Girls-Who-Like-Boys-Pornography-ebook/dp/B07BKPLHP5",imgSlug:"lucy-neville",source:"Girls Who Like Boys Who Like Boys"},{contentType:"prose",text:[{type:"text",value:"Much of slash fic is indeed pornographic. Despite many fics having sexual elements, they are still often surrounded by hundreds of thousands of words of plot development. Fanfic is distinct in that it delves into sexual fantasies that are rich with relationships and emotions."}]},{contentType:"quote",text:'For many of the women I spoke to, porn and love are not polar opposites. Instead, it is the fusion of these two things that gives them the most pleasure: sexually and emotionally"',attribute:"Lucy Neville",title:"Criminologist, University of Southampton",url:"https://www.amazon.com/Girls-Who-Like-Boys-Pornography-ebook/dp/B07BKPLHP5",imgSlug:"lucy-neville",source:"Girls Who Like Boys Who Like Boys"},{contentType:"prose",text:[{type:"text",value:"Slash fic is popular for a multitude of reasons, and the diversity of authors are not a monolith that can be flattened into a monolith of motives. But, hopefully this sheds some light onto some of the potential reasons why slash fascinates us all."}]}],d1=[{type:"text",value:"Here are the characters from Harry Potter (<span class=span-hp-nodesCount></span>) and the Marvel Cinematic Universe (<span class=span-mcu-nodesCount></span>) that appear in romantic ships with more than 1,000 fanfics on AO3."},{type:"text",value:"Although the wizarding world has a few notable women characters (looking at you Hermione Granger), <span class=span-f>women</span> only account for <span class=span-hp-fCount></span>% of Harry Potter’s shipped characters, compared to <span class=span-mcu-fCount></span>% in the MCU."},{type:"text",value:"And although Marvel does have a history of over sexualizing its women characters, it does get closer to gender parity with <span class=span-m>men</span> accounting for just over half (<span class=span-mcu-mCount></span>%) of MCU shipped charcters, compared to <span class=span-hp-mCount></span>% of the characters from Harry Potter."},{type:"text",value:"Let’s take a look at how each fandom’s gender dynamics impact who gets shipped. Here, the connecting lines are sized by the number of fanfics written about each pairing."},{type:"text",value:"First of, let’s start with common ground: <span class=span-f>Femslash</span> ships in both fandoms make up about the same percent, with F/F pairings accounting for <span class=span-hp-ffCount></span>% of Harry Potter ships and <span class=span-mcu-ffCount></span>% of ships in the MCU."},{type:"text",value:"Despite Harry Potter having more characters who are men than the MCU, and therefore more pure opportunities for <span class=span-m>slash</span> pairings, M/M ships only make up <span class=span-hp-mmCount></span>% of Harry Potter ships, compared to <span class=span-mcu-mmCount></span>% of MCU ships."},{type:"text",value:"We see the reverse of slash ships when looking at <span class=span-fm>hetrosexual</span> ships. Even though the MCU is closer to a 50/50 gender split, fewer of its ships (<span class=span-mcu-fmCount></span>%)  are F/M pairings in comparison to Harry Potter (<span class=span-hp-fmCount></span>%)."},{type:"text",value:"Even though Harry Potter has fewer overall women characters, those characters are seen to be more developed and more dynamic than the women in the MCU, offering authors more opportunities to build stories. <span class=span-instructions>Interact with the squares to see each character’s connections.</span>"}],m1=[{contentType:"openingShip",nameAfirst:"Dean",nameAlast:"Winchester",imgA:"dean-winchester",nameBfirst:"Castiel",imgB:"castiel",connector:"&",description:"Two men (one human, one angel) working together to fight supernatural forces of evil."},{contentType:"prose",text:[{type:"text",value:"Or, according to 100,000 works of fanfiction on AO3: two souls destined to find love amidst the chaos, transcending the boundaries between heaven, hell, and earth to be together."},{type:"text",value:"For shippers of <span class=ship><a href=https://archiveofourown.org/tags/Castiel*s*Dean%20Winchester/works>“Destiel”</a></span> (that’s the shipping portmanteau of ‘Dean’ and ‘Castiel’), the wait was a long one. Initially introduced as a minor character in Season 4 of Supernatural, Castiel’s appearance would go on to spawn one of the biggest ships in internet history, building a legacy of fanfiction, art, video edits, zines, songs, theories, discussions, and conventions, all dedicated to exploring the rich subtext simmering beneath the surface between the two characters."},{type:"text",value:"Like many other popular slash pairings in media, the romantic and sexual undertones that may or may not have existed between the lines were generally understood by fans to be “non-canon.” ‘Non-canon’ broadly describes any ship, setting, plot, or other elements of the story that are not explicitly confirmed in the source material, but exist as alternative possibilities that fans can flesh out through fanfiction and other creative means. Those three seconds when Dean’s gaze seemed to linger on Castiel’s face? That’s inspiration for a 20,000 word romantic fic right there, regardless of what the scene originally meant to convey."},{type:"text",value:"Ever since the <span class=ship><a href=https://archiveofourown.org/tags/James%20T*d*%20Kirk*s*Spock/works>James T. Kirk/Spock</a></span>, fans have been drawn to ships that exist beyond the canon of the original material. Non-canon ships make up the overwhelming majority of pairings on AO3, accounting for nearly twice as many ships that exist canonically."}]},{contentType:"inlineChart",chartType:"multiline",id:"CANON_percentCanon",title:"Ships by canon status"},{contentType:"prose",text:[{type:"text",value:"[Annotation: When tagging each ship with their canon status, we referred to fanlore, wikis, Tumblr posts, and more to try and distill the general fandom sentiment into one of the three categories. We acknowledge that this process is inherently subjective and that interpretations may vary.]"},{type:"text",value:"Of course, what counts as “‘canon”’ and “‘non-canon”’ can vary over the course of the story’s run. Destiel spent twelve years as a non-canon, largely fandom-driven ship until Castiel confessed his love for Dean before dying in the final episodes of Season 15, thus acknowledging their long, storied relationship as a semi-canonically romantic one—and blowing up the internet as a result."}]},{contentType:"quote",text:"y'all realise how big this is? spn finally making destiel canon on their final season? breaking twitter and tumblr? the longest slow burn to ever slow burn??? the old fans returning??? the old accounts reviving??? in the middle of a pandemic?? in the middle of THE US ELECTION????",attribute:"@thvsparadise",title:"X/Twitter",url:"https://x.com/thvsparadise/status/1324591166717788160",imgSlug:"thvsparadise"},{contentType:"prose",text:[{type:"text",value:"This question of canonicity has long been a subject of contention. In the early A.D.s, religious leaders clashed over conflicting interpretations of the Bible (from which the term “‘canon”’ is derived from). In the 19th Ccentury, scholars scrutinized and debated the authorship of Shakespeare’s body of works. And in the internet age, fans spam gifs and think pieces at each other in a battle to prove which ship is more real. Ask any big fandom and they’ll probably be able to point you to the still-smoldering crater of some ship argument that invoked canonicity (or lack thereof) as a metric of superiority."},{type:"text",value:"Given this endlessly recurring debate, it’s thus worth asking: Why are people way more invested in non-canon content than in the established canon?"}]},{contentType:"hed",hed:"Transformative storytelling"},{contentType:"prose",text:[{type:"text",value:"Fanfiction as wish fulfillment."},{type:"text",value:"As we’ve established in the slash section, there are a myriad of historical and societal reasons why fandoms tend to be dominated by slash ships. This trend is compounded by the fact that many of these ships are not canonical, meaning that there are often little to no explicit signs of any romantic relationship ever occurring between the two characters in the source material. As a result, fans have plenty of room to speculate, fantasize, and expand on the dynamic of their favorite characters precisely because of, rather than despite, the lack of romantic interaction."}]},{contentType:"inlineChart",chartType:"waffle",id:"CANON_slashShips",title:"Canon status of slash ships"},{contentType:"prose",text:[{type:"text",value:"Subtext is the key factor here. Canon relationships are often bound to typical romance arcs that play out in conventional trajectories: the steamy “enemies to lovers”, the playful “will they or won’t they”, or the classic “happily ever after”, to name just a few. When writers work in elements like jealous misunderstandings or meaningful glances, they expect the audience to pick up on and follow the progression of this romance. It’s a predictable cue—not necessarily a bad one by any means, but certainly frequent and familiar in media."},{type:"text",value:"But what happens when the audiences flip the script and impose these cues on the canon instead, subverting the intended narrative?"},{type:"text",value:"This experience then becomes transformative. Instead of adhering to the formulated storylines, fans can instead use the source material as a “<a href=https://henryjenkins.org/blog/2011/07/aca-fandom_and_beyond_harringt_1.html>springboard</a> for [their] own creative and analytical work”, pushing past the boundaries of the canon to reimagine new narratives. A quiet, fleeting moment between two characters can be reinterpreted as intimate. A heated confrontation between the hero and her enemy can become sexually charged. Such is the freedom of fanfiction: fans have the agency to interact with the story as if it were “<a href=https://books.google.mw/books?id=CmmTAgAAQBAJ&printsec=frontcover#v=onepage&q&f=false>a tangible place</a> they can inhabit and explore.”"},{type:"text",value:"For queer audiences, a relationship that appears unromantic on screen but hints at a deeper emotional subtext under the surface may hit particularly close to home. Furthermore, rooting for a ship that you know will likely never materialize in the text also means not having to brace for the fallout of said relationship—no messy breakups, tragic endings, or unrealistic portrayals that often accompany queer relationships in mainstream media (The 100 famously killed off fan-favorite character Lexa right after she has sex with Clarke, sparking a wave of scrutiny against the <a href=https://www.themarysue.com/lexa-bury-your-gays/>Bury Your Gays</a> trope)."},{type:"text",value:"In this context, the ambiguity and open-endedness of these relationships allow fans to explore possibilities that go unaddressed and unfulfilled in the original text, without the risk of them being mishandled or cut short by the writers. Fans come together as a fandom to swap theories, validate observations, share headcanons, and fill in the narrative gaps, forming a community where queerness is celebrated, studied, and foregrounded in a media landscape where it often lacks the attention or respect it deserves."},{type:"text",value:"While the allure of non-canon dynamics isn’t exclusive to slash ships (<span class=ship><a href=https://archiveofourown.org/tags/Fox%20Mulder*s*Dana%20Scully/works>Fox Mulder/Dana Scully</a></span> from The X Files famously remained as ‘just coworkers’ for seven entire seasons, which in turn fueled the Sculder ‘relationshippers’, as they were originally called back then), there’s a noticeable lack of them amongst the top femslash and het ships."}]},{contentType:"fullChart",chartType:"stackedBarTable",id:"CANON_percentRelType",title:"Canon status by relationship type"},{contentType:"prose",text:[{type:"text",value:"This can be attributed to several reasons. Rarely does a mainstream show feature multiple female characters who are both complex and interact within a shared narrative (as contemporaries, partners, rivals, etc.), and even when they do, it’s easy to pass off intimate interactions between women as platonic rather than romantic. Furthermore, female characters are <a href=https://womenintvfilm.sdsu.edu/wp-content/uploads/2024/02/2023-Its-a-Mans-Celluloid-World-Report.pdf>more likely to be paired up</a> with a partner or have their relationship status serve as a central plot point in their arc, often at the expense of developing deep connections with other characters."},{type:"text",value:"However, while the rate of non-canon ships has remained steady for slash and het pairings, there has been a significant increase of non-canon femslash ships over the past decade. <span class=ship><a href=https://archiveofourown.org/tags/Kara%20Danvers*s*Lena%20Luthor/works>Kara Danvers/Lena Luthor</a></span> and <span class=ship><a href=https://archiveofourown.org/tags/Evil%20Queen%20%7C%20Regina%20Mills*s*Emma%20Swan/works>Regina Mills/Emma Swan</a></span> are two examples of a long-running femslash ship that features a rich, tense, and complex dynamic between two female characters. Perhaps this is a welcome sign that female relationships in popular media are finally getting their due."},{type:"text",value:"Non-canon ships offer fans a creative outlet to explore relationships that are traditionally underrepresented in media, but their popularity may also encourage producers to exploit fan interest without actually providing meaningful representation on screen."}]},{contentType:"hed",hed:"Queerbaiting = profit"},{contentType:"prose",text:[{type:"text",value:"You may have noticed that most of these top ships feature characters whose sexualities are either established or treated by the canon as straight."},{type:"text",value:"Often, the queering that happens in fanfiction isn’t just in the fans’ heads. Productions from <a href=https://www.mookychick.co.uk/feminism/lgbt/sherlock-queerbaiting-toxic-fanfic.php>‘Sherlock’</a> all the way to <a href=https://www.vox.com/culture/2019/11/22/20975178/frozen-2-elsa-girlfriend-lesbian-queer-review>‘Frozen’</a> have been called out for incorporating character traits, dialogue, or narratives that allude to queerness but stop short of delivering genuine representation, allowing producers to capitalize off the buzz without alienating mainstream audiences and, more crucially, their money."}]},{contentType:"quote",text:"Queerbaiting is a practice whereby producers incorporate queer subtexts into a show in the hope of expanding the audience by attracting LGBTQ+ folk while avoiding alienating viewers who would disapprove of openly queer characters.",attribute:"Lucy Neville",title:"Criminologist, University of Southampton",url:"https://www.amazon.com/Girls-Who-Like-Boys-Pornography-ebook/dp/B07BKPLHP5",imgSlug:"lucy-neville",source:"Girls Who Like Boys Who Like Boys"},{contentType:"prose",text:[{type:"text",value:"Check out Netflix’s promo for Wednesday: an Addams-family themed <a href=https://x.com/variety/status/1590576847540350978?s=46&t=4gwcpjzHKPVVNkJjrYb8GQ>drag party</a> titled WednesGay and an <a href=https://x.com/netflix/status/1596524928568025088>‘opposites attract’</a> tweet about Wednesday and her roommate-turned-friend Enid."},{type:"text",value:"Or <a href=https://www.youtube.com/watch?v=cKTQPWbxQZk>these</a> <a href=https://www.youtube.com/watch?v=oJo554Tiw1Y>videos</a> by Teen Wolf actors Dylan O’Brien (who plays Stiles) and Tyler Hoechlin (who plays Derek) calling for fans to vote for the show in the 2012 Teen Choice Awards while embracing in suggestive poses (Teen Wolf won Choice Summer TV Show that year)."},{type:"text",value:"Or Disney’s live-action remake of the Beauty and the Beast, which made headlines for featuring the <a href=https://www.nbcnews.com/feature/nbc-out/beauty-beast-features-disney-s-first-gay-character-n727876>“first LGBTQ character in Disney’s history”</a> only for it to amount to a two-second blink-and-you-miss-it scene of LeFou dancing with an extra."},{type:"text",value:"The common thread? Each example is a token gesture aimed at appealing to queer fanbases for marketing and promotion purposes, ‘baiting’ fans with promises of queer content to drive engagement."},{type:"text",value:"Meanwhile, queer-led shows are <a href=https://www.thepinknews.com/2023/01/24/netflix-ceo-ted-sarandos-cancelled-shows-lgbtq-fans-reactions/>facing increasing cancellations</a> as networks continue to slash promising productions after just one or two seasons. Shows about <a href=https://www.them.us/story/lesbian-sapphic-tv-cancellations-show-endings>queer women are even more vulnerable</a> to cancellation despite logging high viewership, ratings, and fan support."},{type:"text",value:"While the popularity of non-canon ships can be attributed to wish fulfillment and fantasy, it also points to infrastructural issues stemming from the overrepresentation of the straight male experience in mainstream media. Fans project onto these characters because there are simply more of them and they’ve been around for longer, benefitting from well-established tropes, greater attention, thriving fandom spaces, and richer development, in contrast with the often short-lived and underdeveloped stories about queer and female characters."},{type:"text",value:"Sometimes, these non-canon ships draw more attention than queer ships that canonically exist in the show, and may especially overshadow <a href=https://fangirlish.com/2020/02/04/queerly-not-straight-prioritizing-white-queer-couples-over-those-of-color/>queer characters of color</a>."},{type:"text",value:"Just take a look at this breakdown."}]},{contentType:"fullChart",chartType:"pictogram",id:"CANON_topShipRace",title:"Top ships by race & gender"},{contentType:"prose",text:[{type:"text",value:"While this skew in ship popularity does reflect fandom trends and preferences on AO3, it more importantly reveals broader patterns of bias in mainstream media and underscores the extensive impact of privileging certain experiences over others."}]},{contentType:"hed",hed:"Alternate Universes"},{contentType:"prose",text:[{type:"text",value:"Aside from relationships, subverting the canon can also mean transforming other elements of the story. Writers can transpose characters into new settings to explore how they would exist in a different environment, like mashing multiple fandoms together (think Harry Potter in the Avengers universe with Percy Jackson as his rival) or throwing them three thousand years back in time. It’s the ultimate practice of ‘what if?’, one that allows writers and readers to reimagine and reinterpret their favorite stories over and over in fresh and exciting ways."},{type:"text",value:"Fans can also use these ‘alternate universes’ as a vehicle to ask “<a href=https://www.newyorker.com/books/page-turner/the-promise-and-potential-of-fan-fiction>speculative and reflective</a> questions about their own lives.” Rather than writing about the inner workings of a spaceship or the complicated political web of a medieval kingdom, they can use fandom and fanfiction to explore deeply personal questions that may be difficult to process without that layer of fictionalization."},{type:"text",value:"It may be easier to strike up a conversation with other fans about a trans Hermione Granger, for example, or an aged Peter Parker who feels lost and without purpose, than to share personal anxieties like they’re ripped straight out of a diary page with other people."},{type:"text",value:"Our data shows that nearly half of the top 20 AU tags indicate mundane settings like ‘high school’ and ‘coffee shops’. Many of these tags also transpose extraordinary characters into ordinary circumstances, with tags like ‘‘human’, ‘no powers’, ‘muggle’, and ‘non-magical’."}]},{contentType:"inlineChart",chartType:"table",id:"CANON_AUtags",title:"Top 20 AU tags"},{contentType:"prose",text:[{type:"text",value:"Ultimately, the fascination with non-canon fanfiction speaks to the interplay between creators, fans, and the story itself. It’s an old practice—older than the internet, at least—but as long as stories continue to inspire people to imagine new possibilities, it looks like this one is here to stay."}]}],p1=[{contentType:"openingShip",nameAfirst:"Harry",nameAlast:"Styles",imgA:"harry-styles",nameBfirst:"Jeon",nameBlast:"Jungkook",imgB:"jeon-jungkook",connector:"&",description:"Two of the biggest boy band birthed pop stars on the planet."},{contentType:"prose",text:[{type:"text",value:"Or, according to over 200,000 works of fanfiction on AO3: two enigmatic vocalists having their sexual awakening with their fellow boy bandmates."},{type:"text",value:"Often we think of fanfic fandom as moving in one direction: from the pages of the internet to the “real world,” ala <a href=https://fiftyshadesofgrey.fandom.com/wiki/Master_of_the_Universe>E.L. James’ original Twilight fanfic</a> to <a href=https://www.eljamesauthor.com/books/fifty-shades-of-grey/>“50 Shades of Grey”</a> to suburban mom book club favorite."},{type:"text",value:"But the opposite also happens: real people become characters in fictional 100 chapter sagas. It’s the ultimate rewriting of “life imitates art” into “art imitating life.”"},{type:"text",value:"Over the last 10 years, roughly 11% of the fanfiction on AO3 has been reserved for this type of storytelling, or Real Person Fiction (RPF), but there has been some notable shifts in the relationship type and canon status of RPF on AO3."}]},{contentType:"inlineChart",chartType:"line",id:"RPF_percentRPF",title:"Percentage of RPF ships"},{contentType:"prose",text:[{type:"text",value:"Like all of fanfiction, RPF heavily skews slash (M/M) and non-canon, but even more so. Slash fics make up 65% of all fanfic on AO3 compared to 88% of RPF, while non-canon fics account for ~65% of all fanfic, but ~90% of RPF."},{type:"text",value:"The list of top RPF ships (all slash and all non-canon) reads like a Spotify playlist, with some YouTube and television content sprinkled in. Sixteen out of the Top 20 are boy bands (or bands of all boys)."}]},{contentType:"inlineChart",chartType:"table",id:"RPF_top20",title:"Top 20 romantic RPF ships"},{contentType:"hed",hed:"Boyz to Men"},{contentType:"prose",text:[{type:"text",value:"If it were the 1960s we’d be slash shipping the Beatles’ <span class=ship><a href=https://archiveofourown.org/tags/John%20Lennon*s*Paul%20McCartney/works>John Lennon/Paul McCartney</a></span>. And, in the 1990s New Kids on the Block’s <span class=ship><a href=https://archiveofourown.org/tags/Jordan%20Knight*s*Joey%20McIntyre/works>Jordan Knight/Joey McIntyre</a></span> would be the “it” ship. So why are boy bands tailor made for romantic reinventions?"},{type:"text",value:"In her book <a href=https://pitchfork.com/thepitch/larger-than-life-asks-did-a-boy-band-change-your-life-too/>“Larger Than Life: A History of Boy Bands from NKOTB to BTS,”</a> author Maria Sherman explains that boy bands embody a softer, more innocent masculinity that enables fans to safely experiment beyond traditional identity and desire, and to swivel between romantic types."},{type:"text",value:"Because boy bands exist through a “female gaze” (opposite of much of the world), Sherman theorizes that “[boy bands] dare not to uphold straight cis men’s interest, but to celebrate marginalized people’s humanity.”"},{type:"text",value:"Although this theory doesn’t always work for the band members themselves — think *NSYNC’s Lance Bass hiding his sexuality to uphold a stereotypical masculinity — it does hold true for fans’ interpretations: the <a href=https://www.buzzfeed.com/graceeperry/why-are-so-many-queer-women-obsessed-with-harry-styles>queer women</a> who can’t decide if they want to be Harry Styles or be with him, <a href=https://blacklipstick.substack.com/p/dirtier-pop-a-weekend-with-drag-boy>the drag kings</a> who interpret the Backstreet Boys’ “I Want It That Way” to be about anal sex, and of course the ever growing amount of RPF."},{type:"text",value:"Boys in fanfic are quite literally stuck in the phase before they become Boyz II Men."},{type:"text",value:"Although much of popular fanfic is dictated by what is happening in the “outside” or “real” world, with M/M RPF there also might be a bit of a “Peter Pan” effect, where boys can essentially age out of the fanfare. Consider this “passing of the torch” from One Direction to BTS over the last 10 years."}]},{contentType:"inlineChart",chartType:"multiline",id:"RPF_topFandomsTime",title:"Biggest RPF fandoms"},{contentType:"prose",text:[{type:"text",value:"The other meteoric rise is this chart is from ships of YouTube vloggers and video gamers like <span class=ship><a href=https://archiveofourown.org/tags/Clay%20%7C%20Dream*s*GeorgeNotFound%20(Video%20Blogging%20RPF)/works>Clay | Dream/GeorgeNotFound</a></span>, <span class=ship><a href=https://archiveofourown.org/tags/Wilbur%20Soot%20*a*%20TommyInnit/works>Wilbur Soot & TommyInnit</a></span>, <span class=ship><a href=https://archiveofourown.org/tags/Wilbur%20Soot%20*a*%20Technoblade%20*a*%20TommyInnit%20*a*%20Phil%20Watson%20%7C%20Philza/works>Wilbur Soot & Technoblade & TommyInnit & Phil Watson | Philza</a></span>, <span class=ship><a href=https://archiveofourown.org/tags/Dan%20Howell*s*Phil%20Lester/works>Dan Howell/Phil Lester</a></span>. Although many of the YouTube RFP ships are M/M (23%), the great majority are “&” ships or friendship stories (71%) — we’ll come back to that in a second."}]},{contentType:"hed",hed:"Real World Influences"},{contentType:"prose",text:[{type:"text",value:"Let’s take a closer look at the top two fandoms: BTS and YouTube RPF. One group sings about wanting to “light it up like dynamite,” and the other builds Minecraft blocks of dynamite from sand and gunpowder. So… not much in common at first glance."},{type:"text",value:"But consider this, both fandoms come from cultures with rigid gender norms."}]},{contentType:"prose",text:[{type:"text",value:"BTS is from South Korea, home to the <a href=https://www.oecd.org/en/data/indicators/gender-wage-gap.html>largest gender wage gap</a> of OECD member countries. The Washington Post’s Michelle Ye Hee Lee writes the country’s “<a href=https://www.washingtonpost.com/world/2024/02/21/south-korea-women-gender-equality-gap/>deep-seated view of women’s role in society</a> can be summed up in one Korean word: jib-saram, or “home person.” It’s a word for “wife.””"},{type:"text",value:"But the burden to conform to gender roles doesn’t stop with just women, men also must meet a certain stereotype of masculinity. In the 1990s, that was the Korean equivalent of a “finance bro,” a “salaryman” with expensive suits and luxury watches. But, K-pop has started to stretch and expand the country’s definition of what can be masculine. Enter K-pop inspired “flowerboys.”"}]},{contentType:"quote",text:"Compared to the 80s and 90s, now there are a lot more soft masculinities — pretty boy images and gentle male images — represented in media, and consumers welcome and widely consume them.",attribute:"Sun Jung",title:"Author of Korean Masculinities and Transcultural Consumption",url:"https://www.bbc.com/news/world-asia-42499809",imgSlug:"sun-jung",source:"Interview with BBC"},{contentType:"prose",text:[{type:"text",value:"The flowerboy softness is still decidedly not feminine though."},{type:"text",value:'Jung continues: "I think the phenomenon should rather be explained through the notion of hybrid or versatile masculinity - soft yet manly at the same time - which is different from effeminised.”'},{type:"text",value:"But, this idea of expanding masculinity has its limits, especially when it comes to same-sex relationships. In a <a href=https://www.reuters.com/world/asia-pacific/south-koreas-top-court-upholds-landmark-ruling-over-same-sex-spousal-state-2024-07-18/#:~:text=While%20campaigns%20to%20legalize%20same,want%20to%20get%20married%20legally.>landmark ruling for LGBTQ+ rights</a>, South Korea’s supreme court ruled in July 2024 that a same-sex partner was eligible for spousal benefits from the state health insurance. Despite this acknowledgement, the country, like much of Asia, has yet to legalize same-sex marriage or civil unions and lacks many protections other for queer people."},{type:"text",value:"By creating slash ships of some of the biggest K-pop stars, fanfic authors erase any sort of gender or power dynamic and challenge the current limits of masculinity."}]},{contentType:"prose",text:[{type:"text",value:"And much of the same dynamics are at play with YouTube RPF:"},{type:"text",value:"A decade ago, the gaming community was forced to take stock of its toxic masculinity after <a href=https://www.vox.com/culture/2020/1/20/20808875/gamergate-lessons-cultural-impact-changes-harassment-laws>Gamergate</a>, a misogynistic online harassment campaign and a right-wing backlash against feminism, diversity, and progressivism in video game culture. The harassment spanned the gamut from <a href=https://knowyourmeme.com/memes/make-me-a-sandwich>“make me a sandwich”</a> memes to <a href=https://www.washingtonpost.com/nation/2021/08/05/gamergate-threats-brianna-wu/>death threats</a>, but the message was clear: only cisgender straight white men belonged."},{type:"text",value:"Not much has changed in the last 10 years. In 2023 a <a href=https://kotaku.com/call-duty-modern-warfare-2-mwiii-twitch-censor-slur-1850938442>former Call of Duty champion</a> — whose nickname is “Censor,” despite doing none of that — said a homophobic slur on his Twitch stream. He apologized. Then a week later he said the n-word."},{type:"text",value:"All of this in the name of “competitiveness.”"},{type:"text",value:"That’s why it’s so refreshing to see YouTuber bromances like <span class=ship><a href=https://archiveofourown.org/tags/Wilbur%20Soot%20*a*%20TommyInnit/works>Wilbur Soot & TommyInnit</a></span> or <span class=ship><a href=https://archiveofourown.org/tags/Ranboo%20*a*%20Toby%20Smith%20%7C%20Tubbo/works>Ranboo & Tubbo</a></span>. Somehow, they’ve been able to subvert the “<a href=https://www.psychologytoday.com/us/blog/shakespeares-love-lessons/201902/when-is-friendship-bromance-two-tests>masculine stereotypes</a> that make young men reluctant to open up emotionally and likely to assume a competitive distance from peers.” According to fanfic on AO3, these friendships rank right up there with the likes of Marvel’s <span class=ship><a href=https://archiveofourown.org/tags/Peter%20Parker%20*a*%20Tony%20Stark/works>Peter Parker & Tony Stark</a></span>."},{type:"text",value:"Because these types of unfiltered relationships between men are so rarely visible in the “real world,” fanfic authors jump on the chance to expand the intimacy, creating a fantasy blueprint of their hopes for reality, sometimes blurring the lines between friendship and romance."},{type:"text",value:"According to researchers at the University of Winchester, bromances and queer relationships are inherently linked:"}]},{contentType:"quote",text:"The more homophobic a society is, the more distant, stoic, and aggressive men become. For men’s friendships, this meant that self-disclosure and emotional openness—vital components for one’s emotional well-being—were completely lacking.",attribute:"Stefan Robinson",title:"PhD in Social Research, University of Winchester",url:"https://www.mensjournal.com/adventure/why-bromances-are-flourishing",imgSlug:"stefan-robinson",source:"Interview with Men’s Journal"},{contentType:"prose",text:[{type:"text",value:"“The more homophobic a society is, the more distant, stoic, and aggressive men become,” said Stefan Robinson, Ph.D. “For men’s friendships, this meant that self-disclosure and emotional openness—vital components for one’s emotional well-being—were completely lacking.”"},{type:"text",value:"You’d think this would have the video game community rushing to deal with its sexism, racism, and homophobia, but for now all of those problems just get reflected right back into the games produced and played, creating unjust and unbalanced worlds."},{type:"text",value:"In the 2010s, there were roughly 91,000 video games documented by the <a href=https://lgbtqgamearchive.com/>LGBTQ Video Game Archive</a>, a project organized by Temple University’s Adrienne Shaw. But, only about 1% had any type of queer representation. And in the rare chance that a queer storyline was included, they were often treated like <a href=https://www.publicbooks.org/queer-representation-videogames/#fn-50235-7>“side quests.”</a>"},{type:"text",value:"Writing fanfic about BTS and YouTube vloggers, is transformative work, turning the “side quest” into the “main quest,” where all of the swirling systemic, structural, and societal problems that plague your favorite real person can be erased with a flick of the wrist. You get to rewrite what everyone else got wrong."}]},{contentType:"hed",hed:"Headline here"},{contentType:"prose",text:[{type:"text",value:"Slash fics about boy banders and blogger bros make up the majority of RPF, but that means that they are mostly non-canon — fanfics that pair seemingly straight people together in queer relationships."},{type:"text",value:"But when you look at just the canon RPF, another pattern emerges. The majority of the canon fanfic pairs openly queer people who are in real-life relationships with other openly queer people."},{type:"text",value:"That might not seem like much of a distinction — both get you M/M or F/F ships — but one creates more queer representation using ships that don’t exist in real life and the other amplifies already existing queer romances."},{type:"text",value:"One means you’re rewriting someone else’s reality, and the other means you might be rewriting your own."}]},{contentType:"hed",hed:"Headline here"},{contentType:"prose",text:[{type:"text",value:"Adding to all that psychological hypothesizing is the simple fact that people tend to write what they know, and these celebrities are VERY well known. We’re talking millions upon millions of social media followers. Harry Styles himself has a cumulative total of close to 100 million across Instagram, TikTok, Twitter, and YouTube."},{type:"text",value:"With all those eyes on you, it’s easy to think that having fanfiction penned about you should “come with the territory.”"},{type:"text",value:"But having fanfiction essentially leak out into the mainstream is still a bit uncharted."},{type:"text",value:"When <a href=https://www.startrek.com/news/spockanalia-the-first-star-trek-fanzine>Spockanalia</a>, the first Star Trek fanzine, launched in 1967, people were writing about the future, but no one could predict the internet. Pre-internet, fanfic looked like Spockanalia: <a href=https://fanlore.org/wiki/Media_Fandom_Oral_History_Project_Interview_with_Devra_Langsam>“somewhere around 20,000 copies”</a> that sold for 50 cents a piece and were put together without a heavy duty stapler:"}]},{contentType:"quote",text:"We had a wall stapler, and we stapled it through the magazine, pried it off with a screwdriver, and somebody closed each prong of the wall staple with pliers, which is why if you have an original, first-printing copy, the staple will have started to cut through the paper because it has sharp edges, unlike a regular staple designed to staple paper together.",attribute:"Devra Langsam",title:"Publisher of Spockanalia",url:"https://fanlore.org/wiki/Spockanalia",imgSlug:"devra-langsam",source:"2017 interview"},{contentType:"prose",text:[{type:"text",value:"Post-internet, fanfic (<a href=https://archive.org/details/SpockanaliaV1/mode/2up>including Spockanalia</a>) is at the fingertips of millions, and without you being stabbed by staples."},{type:"text",value:"And with increased visibility has come increasing ethical questions around real person fiction — you know it’s heated when the <a href=https://fanlore.org/wiki/RPF>Fanlore wiki entry</a> has a whole section devoted to pros and cons."},{type:"text",value:"Like everything truly worth anything in the world there’s a spectrum. Everything from the good, to the bad, to the unexpected:"}]},{contentType:"prose",text:[{type:"text",value:"The good: TKTKTK"}]},{contentType:"prose",text:[{type:"text",value:"The bad: <span class=ship><a href=https://archiveofourown.org/tags/Harry%20Styles*s*Louis%20Tomlinson/works>Harry Styles/Louis Tomlinson</a></span>"},{type:"text",value:"Former One Directioners Harry Styles and Louis Tomlinson’s friendship fractured after fans deemed “Larries” fervently insisted that the two had a secret romance. Styles and Tomlinson have both repeatedly denied the rumors, with Tomlinson calling it the <a href=https://x.com/Louis_Tomlinson/status/247381724760264704>“biggest load of bullshit I’ve ever heard.”</a>"},{type:"text",value:"More recently, <a href=https://www.gaytimes.com/culture/louis-tomlinson-addresses-larry-stylinson-harry-styles-secret-romance-rumours/>Tomlinson said</a> that he’s realized that there’s nothing he can do to stop the rumors — “They are so connected to what they believe that they will not see the truth for what it really is.”"},{type:"text",value:"But that they still continue to impact his personal life: “There are times when it gets very personal. I have my son, Freddie. He is the most important person in my life. And occasionally, [these theories] end up addressing things that are a little unfair.”"},{type:"text",value:"There are just over 40,000 <span class=ship><a href=https://archiveofourown.org/tags/Harry%20Styles*s*Louis%20Tomlinson/works>Harry Styles/Louis Tomlinson</a></span> fanfics on AO3. About 3,000 were added in the last year."}]},{contentType:"prose",text:[{type:"text",value:"The unexpected: DJ Qualls/Ty Olsson"},{type:"text",value:"Supernatural fans were so busy shipping actors <span class=ship><a href=https://archiveofourown.org/tags/Jensen%20Ackles*s*Jared%20Padalecki/works>Jensen Ackles/Jared Padalecki</a></span> (16,639 fanfics) in a fantasy relationship that they completely missed the real life romance between actors DJ Qualls/Ty Olsso (0 fanfics)."},{type:"text",value:"Even when looking at their show characters Ackles and Padalecki’s brother pairing of <span class=ship><a href=https://archiveofourown.org/tags/Dean%20Winchester*s*Sam%20Winchester/works>Dean Winchester/Sam Winchester</a></span> (156,828 fanfics), far outpaces Quall and Olsso’s werewolf-vampire combo <span class=ship><a href=https://archiveofourown.org/tags/Garth%20Fitzgerald%20IV*s*Benny%20Lafitte/works>Garth Fitzgerald IV/Benny Lafitte</a></span> (50 fanfics)."},{type:"text",value:"Whatever side of the real person fiction debate you fall on, we’re all probably just Googling things like “harry styles zodiac sign,” “jeon jungkook favorite food,” “christian press hometown,” and “georgenotfound height” like we’re asking rapid fire questions on a first date."}]}],Ae={intro:f1,introSlides:u1,slash:h1,slashNetworkSlides:d1,noncanon:m1,realpeople:p1};function So(t){let e,r,n,a,i,s,o,l,c,f,h,u,d,m,g,_,v,w;return n=new Hn({props:{chunk:Ae.intro[1],chartType:Ae.intro[1].chartType,id:Ae.intro[1].id,title:Ae.intro[1].title}}),o=new Hn({props:{chunk:Ae.intro[3],chartType:Ae.intro[3].chartType,id:Ae.intro[3].id,title:Ae.intro[3].title}}),u=new Hn({props:{chunk:Ae.intro[2],chartType:Ae.intro[2].chartType,id:Ae.intro[2].id,title:Ae.intro[2].title}}),_=new Hn({props:{chunk:Ae.intro[4],chartType:Ae.intro[4].chartType,id:Ae.intro[4].id,title:Ae.intro[4].title}}),{c(){e=M("div"),r=M("div"),K(n.$$.fragment),i=L(),s=M("div"),K(o.$$.fragment),c=L(),f=M("div"),h=M("div"),K(u.$$.fragment),m=L(),g=M("div"),K(_.$$.fragment),this.h()},l(b){e=C(b,"DIV",{class:!0});var T=E(e);r=C(T,"DIV",{class:!0});var P=E(r);J(n.$$.fragment,P),P.forEach(y),i=j(T),s=C(T,"DIV",{class:!0});var F=E(s);J(o.$$.fragment,F),F.forEach(y),T.forEach(y),c=j(b),f=C(b,"DIV",{class:!0});var W=E(f);h=C(W,"DIV",{class:!0});var R=E(h);J(u.$$.fragment,R),R.forEach(y),m=j(W),g=C(W,"DIV",{class:!0});var B=E(g);J(_.$$.fragment,B),B.forEach(y),W.forEach(y),this.h()},h(){p(r,"class","inline-chart inline-chart-sm svelte-1us90n5"),p(s,"class","inline-chart inline-chart-lg svelte-1us90n5"),p(e,"class","fly-box left-fly svelte-1us90n5"),p(h,"class","inline-chart inline-chart-sm svelte-1us90n5"),p(g,"class","inline-chart inline-chart-lg svelte-1us90n5"),p(f,"class","fly-box right-fly svelte-1us90n5")},m(b,T){N(b,e,T),k(e,r),x(n,r,null),k(e,i),k(e,s),x(o,s,null),N(b,c,T),N(b,f,T),k(f,h),x(u,h,null),k(f,m),k(f,g),x(_,g,null),w=!0},i(b){w||(S(n.$$.fragment,b),b&&we(()=>{w&&(a||(a=Ce(r,Fe,{delay:250,duration:500,y:500,easing:He},!0)),a.run(1))}),S(o.$$.fragment,b),b&&we(()=>{w&&(l||(l=Ce(s,Fe,{delay:750,duration:500,y:500,easing:He},!0)),l.run(1))}),S(u.$$.fragment,b),b&&we(()=>{w&&(d||(d=Ce(h,Fe,{delay:500,duration:500,y:500,easing:He},!0)),d.run(1))}),S(_.$$.fragment,b),b&&we(()=>{w&&(v||(v=Ce(g,Fe,{delay:1e3,duration:500,y:500,opacity:.5,easing:He},!0)),v.run(1))}),w=!0)},o(b){D(n.$$.fragment,b),b&&(a||(a=Ce(r,Fe,{delay:250,duration:500,y:500,easing:He},!1)),a.run(0)),D(o.$$.fragment,b),b&&(l||(l=Ce(s,Fe,{delay:750,duration:500,y:500,easing:He},!1)),l.run(0)),D(u.$$.fragment,b),b&&(d||(d=Ce(h,Fe,{delay:500,duration:500,y:500,easing:He},!1)),d.run(0)),D(_.$$.fragment,b),b&&(v||(v=Ce(g,Fe,{delay:1e3,duration:500,y:500,opacity:.5,easing:He},!1)),v.run(0)),w=!1},d(b){b&&(y(e),y(c),y(f)),U(n),b&&a&&a.end(),U(o),b&&l&&l.end(),U(u),b&&d&&d.end(),U(_),b&&v&&v.end()}}}function Po(t){let e,r;return e=new c1({props:{introW:t[1],introH:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&2&&(i.introW=n[1]),a&4&&(i.introH=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function g1(t){let e,r,n,a,i='<h1 class="svelte-1us90n5">Who Gets</h1> <h1 class="svelte-1us90n5">Shipped</h1> <h1 class="svelte-1us90n5">And Why?</h1>',s,o,l='<p class="byline svelte-1us90n5"><span class="svelte-1us90n5">By</span> <span class="svelte-1us90n5"><img src="/assets/images/quote-icons/ashley-cai.png" class="svelte-1us90n5"/><a href="" class="svelte-1us90n5">Ashley Cai</a></span> <span class="svelte-1us90n5"><img src="/assets/images/quote-icons/florina-sutanto.png" class="svelte-1us90n5"/><a href="" class="svelte-1us90n5">Florina Sutanto</a></span> <span class="svelte-1us90n5"><img src="/assets/images/quote-icons/jan-diehm.png" class="svelte-1us90n5"/><a href="https://pudding.cool/author/jan-diehm/" class="svelte-1us90n5">Jan Diehm</a></span> <span class="svelte-1us90n5"><img src="/assets/images/quote-icons/caitlyn-ralph.png" class="svelte-1us90n5"/><a href="https://pudding.cool/author/caitlyn-ralph/" class="svelte-1us90n5">Caitlyn Ralph</a></span></p> <p class="with svelte-1us90n5">With data from <a href="https://centrumlumina.tumblr.com/">centreoftheselights</a></p>',c,f,h,u,d,m,g,_,v,w,b,T;r=new Ah({}),h=new rc({props:{copy:Ae.intro[0].text}});let P=t[0]==!0&&So();g=new i1({});let F=t[1]&&t[2]&&Po(t);return{c(){e=M("section"),K(r.$$.fragment),n=L(),a=M("div"),a.innerHTML=i,s=L(),o=M("div"),o.innerHTML=l,c=L(),f=M("div"),K(h.$$.fragment),u=L(),d=M("div"),P&&P.c(),m=L(),K(g.$$.fragment),_=L(),F&&F.c(),this.h()},l(W){e=C(W,"SECTION",{id:!0,class:!0});var R=E(e);J(r.$$.fragment,R),n=j(R),a=C(R,"DIV",{class:!0,"data-svelte-h":!0}),Me(a)!=="svelte-orq722"&&(a.innerHTML=i),s=j(R),o=C(R,"DIV",{class:!0,"data-svelte-h":!0}),Me(o)!=="svelte-6o5v1m"&&(o.innerHTML=l),c=j(R),f=C(R,"DIV",{class:!0});var B=E(f);J(h.$$.fragment,B),B.forEach(y),u=j(R),d=C(R,"DIV",{class:!0});var z=E(d);P&&P.l(z),z.forEach(y),m=j(R),J(g.$$.fragment,R),_=j(R),F&&F.l(R),R.forEach(y),this.h()},h(){p(a,"class","headline-container svelte-1us90n5"),p(o,"class","byline-wrapper svelte-1us90n5"),p(f,"class","prose svelte-1us90n5"),p(d,"class","popups svelte-1us90n5"),p(e,"id","intro"),p(e,"class","svelte-1us90n5"),we(()=>t[5].call(e))},m(W,R){N(W,e,R),x(r,e,null),k(e,n),k(e,a),k(e,s),k(e,o),k(e,c),k(e,f),x(h,f,null),k(e,u),k(e,d),P&&P.m(d,null),k(e,m),x(g,e,null),k(e,_),F&&F.m(e,null),v=oa(e,t[5].bind(e)),w=!0,b||(T=[Xe(dt.call(null,d,{bottom:100})),de(d,"enter",t[3]),de(d,"exit",t[4])],b=!0)},p(W,[R]){W[0]==!0?P?R&1&&S(P,1):(P=So(),P.c(),S(P,1),P.m(d,null)):P&&(te(),D(P,1,1,()=>{P=null}),ne()),W[1]&&W[2]?F?(F.p(W,R),R&6&&S(F,1)):(F=Po(W),F.c(),S(F,1),F.m(e,null)):F&&(te(),D(F,1,1,()=>{F=null}),ne())},i(W){w||(S(r.$$.fragment,W),S(h.$$.fragment,W),S(P),S(g.$$.fragment,W),S(F),w=!0)},o(W){D(r.$$.fragment,W),D(h.$$.fragment,W),D(P),D(g.$$.fragment,W),D(F),w=!1},d(W){W&&y(e),U(r),U(h),P&&P.d(),U(g),F&&F.d(),v(),b=!1,Ie(T)}}}function _1(t,e,r){let n=!1,a,i;function s(){r(0,n=!0)}function o(){r(0,n=!1)}function l(){a=this.clientWidth,i=this.clientHeight,r(1,a),r(2,i)}return[n,a,i,s,o,l]}class y1 extends ie{constructor(e){super(),se(this,e,_1,g1,ae,{})}}function Eo(t){let e,r,n,a,i,s,o,l;return{c(){e=M("img"),a=L(),i=M("img"),this.h()},l(c){e=C(c,"IMG",{src:!0,alt:!0,class:!0}),a=j(c),i=C(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Re(e.src,r="./assets/images/heads/"+t[0].imgA+".png")||p(e,"src",r),p(e,"alt","character"),p(e,"class","svelte-1pbguyg"),Re(i.src,s="./assets/images/heads/"+t[0].imgB+".png")||p(i,"src",s),p(i,"alt","character"),p(i,"class","svelte-1pbguyg")},m(c,f){N(c,e,f),N(c,a,f),N(c,i,f),l=!0},p(c,f){(!l||f&1&&!Re(e.src,r="./assets/images/heads/"+c[0].imgA+".png"))&&p(e,"src",r),(!l||f&1&&!Re(i.src,s="./assets/images/heads/"+c[0].imgB+".png"))&&p(i,"src",s)},i(c){l||(c&&we(()=>{l&&(n||(n=Ce(e,Fe,{delay:250,duration:300,x:-200},!0)),n.run(1))}),c&&we(()=>{l&&(o||(o=Ce(i,Fe,{delay:250,duration:300,x:200},!0)),o.run(1))}),l=!0)},o(c){c&&(n||(n=Ce(e,Fe,{delay:250,duration:300,x:-200},!1)),n.run(0)),c&&(o||(o=Ce(i,Fe,{delay:250,duration:300,x:200},!1)),o.run(0)),l=!1},d(c){c&&(y(e),y(a),y(i)),c&&n&&n.end(),c&&o&&o.end()}}}function v1(t){let e,r=t[0].nameAfirst+"",n;return{c(){e=M("h5"),n=Y(r),this.h()},l(a){e=C(a,"H5",{class:!0});var i=E(e);n=Q(i,r),i.forEach(y),this.h()},h(){p(e,"class","name-script svelte-1pbguyg")},m(a,i){N(a,e,i),k(e,n)},p(a,i){i&1&&r!==(r=a[0].nameAfirst+"")&&ce(n,r)},d(a){a&&y(e)}}}function w1(t){let e,r=t[0].nameAfirst+"",n,a,i,s=t[0].nameAlast+"",o;return{c(){e=M("h5"),n=Y(r),a=L(),i=M("h5"),o=Y(s),this.h()},l(l){e=C(l,"H5",{class:!0});var c=E(e);n=Q(c,r),c.forEach(y),a=j(l),i=C(l,"H5",{class:!0});var f=E(i);o=Q(f,s),f.forEach(y),this.h()},h(){p(e,"class","name-mono svelte-1pbguyg"),p(i,"class","name-script svelte-1pbguyg")},m(l,c){N(l,e,c),k(e,n),N(l,a,c),N(l,i,c),k(i,o)},p(l,c){c&1&&r!==(r=l[0].nameAfirst+"")&&ce(n,r),c&1&&s!==(s=l[0].nameAlast+"")&&ce(o,s)},d(l){l&&(y(e),y(a),y(i))}}}function b1(t){let e,r=t[0].nameBfirst+"",n;return{c(){e=M("h5"),n=Y(r),this.h()},l(a){e=C(a,"H5",{class:!0});var i=E(e);n=Q(i,r),i.forEach(y),this.h()},h(){p(e,"class","name-script svelte-1pbguyg")},m(a,i){N(a,e,i),k(e,n)},p(a,i){i&1&&r!==(r=a[0].nameBfirst+"")&&ce(n,r)},d(a){a&&y(e)}}}function k1(t){let e,r=t[0].nameBfirst+"",n,a,i,s=t[0].nameBlast+"",o;return{c(){e=M("h5"),n=Y(r),a=L(),i=M("h5"),o=Y(s),this.h()},l(l){e=C(l,"H5",{class:!0});var c=E(e);n=Q(c,r),c.forEach(y),a=j(l),i=C(l,"H5",{class:!0});var f=E(i);o=Q(f,s),f.forEach(y),this.h()},h(){p(e,"class","name-mono svelte-1pbguyg"),p(i,"class","name-script svelte-1pbguyg")},m(l,c){N(l,e,c),k(e,n),N(l,a,c),N(l,i,c),k(i,o)},p(l,c){c&1&&r!==(r=l[0].nameBfirst+"")&&ce(n,r),c&1&&s!==(s=l[0].nameBlast+"")&&ce(o,s)},d(l){l&&(y(e),y(a),y(i))}}}function T1(t){let e,r,n,a=t[0].connector+"",i,s,o,l,c,f,h=t[0].connector+"",u,d,m,g,_,v=t[0].description+"",w,b,T,P=t[1]&&Eo(t);function F(H,O){return H[0].nameAlast!==void 0?w1:v1}let W=F(t),R=W(t);function B(H,O){return H[0].nameBlast!==void 0?k1:b1}let z=B(t),I=z(t);return{c(){e=M("div"),P&&P.c(),r=L(),n=M("p"),i=Y(a),s=L(),o=M("div"),l=M("div"),R.c(),c=L(),f=M("h5"),u=Y(h),d=L(),m=M("div"),I.c(),g=L(),_=M("p"),w=Y(v),this.h()},l(H){e=C(H,"DIV",{class:!0});var O=E(e);P&&P.l(O),r=j(O),n=C(O,"P",{class:!0});var V=E(n);i=Q(V,a),V.forEach(y),O.forEach(y),s=j(H),o=C(H,"DIV",{class:!0});var G=E(o);l=C(G,"DIV",{class:!0});var le=E(l);R.l(le),le.forEach(y),c=j(G),f=C(G,"H5",{class:!0});var ee=E(f);u=Q(ee,h),ee.forEach(y),d=j(G),m=C(G,"DIV",{class:!0});var he=E(m);I.l(he),he.forEach(y),G.forEach(y),g=j(H),_=C(H,"P",{class:!0});var ge=E(_);w=Q(ge,v),ge.forEach(y),this.h()},h(){p(n,"class","bg-connecter svelte-1pbguyg"),p(e,"class","faces svelte-1pbguyg"),p(l,"class","name nameA svelte-1pbguyg"),p(f,"class","connector svelte-1pbguyg"),p(m,"class","name nameB svelte-1pbguyg"),p(o,"class","names svelte-1pbguyg"),p(_,"class","tag svelte-1pbguyg")},m(H,O){N(H,e,O),P&&P.m(e,null),k(e,r),k(e,n),k(n,i),N(H,s,O),N(H,o,O),k(o,l),R.m(l,null),k(o,c),k(o,f),k(f,u),k(o,d),k(o,m),I.m(m,null),N(H,g,O),N(H,_,O),k(_,w),b||(T=[Xe(dt.call(null,e)),de(e,"enter",t[2]),de(e,"exit",t[3])],b=!0)},p(H,[O]){H[1]?P?(P.p(H,O),O&2&&S(P,1)):(P=Eo(H),P.c(),S(P,1),P.m(e,r)):P&&(te(),D(P,1,1,()=>{P=null}),ne()),O&1&&a!==(a=H[0].connector+"")&&ce(i,a),W===(W=F(H))&&R?R.p(H,O):(R.d(1),R=W(H),R&&(R.c(),R.m(l,null))),O&1&&h!==(h=H[0].connector+"")&&ce(u,h),z===(z=B(H))&&I?I.p(H,O):(I.d(1),I=z(H),I&&(I.c(),I.m(m,null))),O&1&&v!==(v=H[0].description+"")&&ce(w,v)},i(H){S(P)},o(H){D(P)},d(H){H&&(y(e),y(s),y(o),y(g),y(_)),P&&P.d(),R.d(),I.d(),b=!1,Ie(T)}}}function M1(t,e,r){let{copy:n}=e,a=!1;function i(){r(1,a=!0)}function s(){r(1,a=!1)}return t.$$set=o=>{"copy"in o&&r(0,n=o.copy)},[n,a,i,s]}class C1 extends ie{constructor(e){super(),se(this,e,M1,T1,ae,{copy:0})}}function Ao(t,e,r){const n=t.slice();n[2]=e[r],n[5]=r;const a=P1(n[2]);return n[3]=a,n}function Fo(t){let e,r=t[2]+"",n;return{c(){e=M("span"),n=Y(r),this.h()},l(a){e=C(a,"SPAN",{class:!0});var i=E(e);n=Q(i,r),i.forEach(y),this.h()},h(){p(e,"class","hedspan-"+t[3]+" svelte-aomaty")},m(a,i){N(a,e,i),k(e,n)},p:re,d(a){a&&y(e)}}}function S1(t){let e,r=Z(t[0]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Fo(Ao(t,r,a));return{c(){e=M("h3");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=C(a,"H3",{class:!0});var i=E(e);for(let s=0;s<n.length;s+=1)n[s].l(i);i.forEach(y),this.h()},h(){p(e,"class","svelte-aomaty")},m(a,i){N(a,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(a,[i]){if(i&1){r=Z(a[0]);let s;for(s=0;s<r.length;s+=1){const o=Ao(a,r,s);n[s]?n[s].p(o,i):(n[s]=Fo(o),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},i:re,o:re,d(a){a&&y(e),me(n,a)}}}function P1(t){return t=t.toLowerCase(),["a","e","i","o","u"].includes(t)}function E1(t,e,r){let{copy:n}=e;const a=n.split("");return t.$$set=i=>{"copy"in i&&r(1,n=i.copy)},[a,n]}class A1 extends ie{constructor(e){super(),se(this,e,E1,S1,ae,{copy:1})}}function Do(t){let e,r,n,a,i,s,o,l,c,f,h,u,d,m=t[0].attribute+"",g,_,v,w=t[0].title+"",b,T,P,F=t[0].text+"",W,R,B,z,I,H=t[0].source&&No(t),O=t[0].attribute=="@thvsparadise"&&Ro(t);return{c(){e=M("div"),n=L(),a=M("div"),s=L(),o=M("div"),l=M("div"),c=M("img"),h=L(),u=M("div"),d=M("p"),g=Y(m),_=L(),v=M("p"),b=Y(w),T=L(),P=M("p"),W=Y(F),R=L(),H&&H.c(),B=L(),O&&O.c(),this.h()},l(V){e=C(V,"DIV",{class:!0}),E(e).forEach(y),n=j(V),a=C(V,"DIV",{class:!0}),E(a).forEach(y),s=j(V),o=C(V,"DIV",{class:!0});var G=E(o);l=C(G,"DIV",{class:!0});var le=E(l);c=C(le,"IMG",{src:!0,class:!0}),h=j(le),u=C(le,"DIV",{class:!0});var ee=E(u);d=C(ee,"P",{class:!0});var he=E(d);g=Q(he,m),he.forEach(y),_=j(ee),v=C(ee,"P",{class:!0});var ge=E(v);b=Q(ge,w),ge.forEach(y),ee.forEach(y),le.forEach(y),T=j(G),P=C(G,"P",{class:!0});var _e=E(P);W=Q(_e,F),_e.forEach(y),R=j(G),H&&H.l(G),B=j(G),O&&O.l(G),G.forEach(y),this.h()},h(){p(e,"class","bg svelte-1fixmt9"),p(a,"class","bg svelte-1fixmt9"),Re(c.src,f="./assets/images/quote-icons/"+t[0].imgSlug+".png")||p(c,"src",f),p(c,"class","svelte-1fixmt9"),p(d,"class","name svelte-1fixmt9"),p(v,"class","title svelte-1fixmt9"),p(u,"class","credit svelte-1fixmt9"),p(l,"class","attribution svelte-1fixmt9"),p(P,"class","text svelte-1fixmt9"),p(o,"class","real svelte-1fixmt9")},m(V,G){N(V,e,G),N(V,n,G),N(V,a,G),N(V,s,G),N(V,o,G),k(o,l),k(l,c),k(l,h),k(l,u),k(u,d),k(d,g),k(u,_),k(u,v),k(v,b),k(o,T),k(o,P),k(P,W),k(o,R),H&&H.m(o,null),k(o,B),O&&O.m(o,null),I=!0},p(V,G){(!I||G&1&&!Re(c.src,f="./assets/images/quote-icons/"+V[0].imgSlug+".png"))&&p(c,"src",f),(!I||G&1)&&m!==(m=V[0].attribute+"")&&ce(g,m),(!I||G&1)&&w!==(w=V[0].title+"")&&ce(b,w),(!I||G&1)&&F!==(F=V[0].text+"")&&ce(W,F),V[0].source?H?(H.p(V,G),G&1&&S(H,1)):(H=No(V),H.c(),S(H,1),H.m(o,B)):H&&(te(),D(H,1,1,()=>{H=null}),ne()),V[0].attribute=="@thvsparadise"?O?(O.p(V,G),G&1&&S(O,1)):(O=Ro(V),O.c(),S(O,1),O.m(o,null)):O&&(te(),D(O,1,1,()=>{O=null}),ne())},i(V){I||(V&&we(()=>{I&&(r||(r=Ce(e,Fe,{delay:750,duration:250,y:100,opacity:0,easing:He},!0)),r.run(1))}),V&&we(()=>{I&&(i||(i=Ce(a,Fe,{delay:500,duration:250,y:100,opacity:0,easing:He},!0)),i.run(1))}),S(H),S(O),V&&we(()=>{I&&(z||(z=Ce(o,Fe,{delay:250,duration:250,y:100,opacity:0,easing:He},!0)),z.run(1))}),I=!0)},o(V){V&&(r||(r=Ce(e,Fe,{delay:750,duration:250,y:100,opacity:0,easing:He},!1)),r.run(0)),V&&(i||(i=Ce(a,Fe,{delay:500,duration:250,y:100,opacity:0,easing:He},!1)),i.run(0)),D(H),D(O),V&&(z||(z=Ce(o,Fe,{delay:250,duration:250,y:100,opacity:0,easing:He},!1)),z.run(0)),I=!1},d(V){V&&(y(e),y(n),y(a),y(s),y(o)),V&&r&&r.end(),V&&i&&i.end(),H&&H.d(),O&&O.d(),V&&z&&z.end()}}}function No(t){let e,r,n,a,i,s,o,l=t[0].source+"",c,f,h;const u=[D1,F1],d=[];function m(g,_){return g[0].attribute=="Sun Jung"||g[0].attribute=="Stefan Robinson"?0:1}return n=m(t),a=d[n]=u[n](t),{c(){e=M("div"),r=M("div"),a.c(),i=L(),s=M("a"),o=M("p"),c=Y(l),this.h()},l(g){e=C(g,"DIV",{class:!0});var _=E(e);r=C(_,"DIV",{class:!0});var v=E(r);a.l(v),i=j(v),s=C(v,"A",{href:!0});var w=E(s);o=C(w,"P",{class:!0});var b=E(o);c=Q(b,l),b.forEach(y),w.forEach(y),v.forEach(y),_.forEach(y),this.h()},h(){p(o,"class","svelte-1fixmt9"),p(s,"href",f=t[0].url),p(r,"class","svelte-1fixmt9"),p(e,"class","underline svelte-1fixmt9")},m(g,_){N(g,e,_),k(e,r),d[n].m(r,null),k(r,i),k(r,s),k(s,o),k(o,c),h=!0},p(g,_){let v=n;n=m(g),n!==v&&(te(),D(d[v],1,1,()=>{d[v]=null}),ne(),a=d[n],a||(a=d[n]=u[n](g),a.c()),S(a,1),a.m(r,i)),(!h||_&1)&&l!==(l=g[0].source+"")&&ce(c,l),(!h||_&1&&f!==(f=g[0].url))&&p(s,"href",f)},i(g){h||(S(a),h=!0)},o(g){D(a),h=!1},d(g){g&&y(e),d[n].d()}}}function F1(t){let e,r;return e=new Bt({props:{name:"book-open"}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function D1(t){let e,r;return e=new Bt({props:{name:"newspaper"}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Ro(t){let e,r,n,a,i="11:55 PM · Nov 5, 2020",s,o,l,c,f,h,u,d="43",m,g,_,v,w,b="908",T,P,F,W,R,B="4.9K",z,I,H,O,V,G="133",le;return f=new Bt({props:{name:"message-circle"}}),_=new Bt({props:{name:"repeat-2"}}),F=new Bt({props:{name:"heart"}}),H=new Bt({props:{name:"bookmark"}}),{c(){e=M("div"),r=M("div"),n=M("a"),a=M("p"),a.textContent=i,o=L(),l=M("div"),c=M("div"),K(f.$$.fragment),h=L(),u=M("p"),u.textContent=d,m=L(),g=M("div"),K(_.$$.fragment),v=L(),w=M("p"),w.textContent=b,T=L(),P=M("div"),K(F.$$.fragment),W=L(),R=M("p"),R.textContent=B,z=L(),I=M("div"),K(H.$$.fragment),O=L(),V=M("p"),V.textContent=G,this.h()},l(ee){e=C(ee,"DIV",{class:!0});var he=E(e);r=C(he,"DIV",{class:!0});var ge=E(r);n=C(ge,"A",{href:!0});var _e=E(n);a=C(_e,"P",{class:!0,"data-svelte-h":!0}),Me(a)!=="svelte-z03m3o"&&(a.textContent=i),_e.forEach(y),ge.forEach(y),o=j(he),l=C(he,"DIV",{class:!0});var Pe=E(l);c=C(Pe,"DIV",{class:!0});var Ue=E(c);J(f.$$.fragment,Ue),h=j(Ue),u=C(Ue,"P",{class:!0,"data-svelte-h":!0}),Me(u)!=="svelte-a43z8z"&&(u.textContent=d),Ue.forEach(y),m=j(Pe),g=C(Pe,"DIV",{class:!0});var De=E(g);J(_.$$.fragment,De),v=j(De),w=C(De,"P",{class:!0,"data-svelte-h":!0}),Me(w)!=="svelte-yl1b17"&&(w.textContent=b),De.forEach(y),T=j(Pe),P=C(Pe,"DIV",{class:!0});var je=E(P);J(F.$$.fragment,je),W=j(je),R=C(je,"P",{class:!0,"data-svelte-h":!0}),Me(R)!=="svelte-14wjdo6"&&(R.textContent=B),je.forEach(y),z=j(Pe),I=C(Pe,"DIV",{class:!0});var be=E(I);J(H.$$.fragment,be),O=j(be),V=C(be,"P",{class:!0,"data-svelte-h":!0}),Me(V)!=="svelte-t9u3ed"&&(V.textContent=G),be.forEach(y),Pe.forEach(y),he.forEach(y),this.h()},h(){p(a,"class","svelte-1fixmt9"),p(n,"href",s=t[0].url),p(r,"class","left svelte-1fixmt9"),p(u,"class","svelte-1fixmt9"),p(c,"class","svelte-1fixmt9"),p(w,"class","svelte-1fixmt9"),p(g,"class","svelte-1fixmt9"),p(R,"class","svelte-1fixmt9"),p(P,"class","svelte-1fixmt9"),p(V,"class","svelte-1fixmt9"),p(I,"class","svelte-1fixmt9"),p(l,"class","right svelte-1fixmt9"),p(e,"class","underline svelte-1fixmt9")},m(ee,he){N(ee,e,he),k(e,r),k(r,n),k(n,a),k(e,o),k(e,l),k(l,c),x(f,c,null),k(c,h),k(c,u),k(l,m),k(l,g),x(_,g,null),k(g,v),k(g,w),k(l,T),k(l,P),x(F,P,null),k(P,W),k(P,R),k(l,z),k(l,I),x(H,I,null),k(I,O),k(I,V),le=!0},p(ee,he){(!le||he&1&&s!==(s=ee[0].url))&&p(n,"href",s)},i(ee){le||(S(f.$$.fragment,ee),S(_.$$.fragment,ee),S(F.$$.fragment,ee),S(H.$$.fragment,ee),le=!0)},o(ee){D(f.$$.fragment,ee),D(_.$$.fragment,ee),D(F.$$.fragment,ee),D(H.$$.fragment,ee),le=!1},d(ee){ee&&y(e),U(f),U(_),U(F),U(H)}}}function N1(t){let e,r,n,a,i=t[1]==!0&&Do(t);return{c(){e=M("div"),i&&i.c(),this.h()},l(s){e=C(s,"DIV",{class:!0});var o=E(e);i&&i.l(o),o.forEach(y),this.h()},h(){p(e,"class","quote svelte-1fixmt9")},m(s,o){N(s,e,o),i&&i.m(e,null),r=!0,n||(a=[Xe(dt.call(null,e,{bottom:100})),de(e,"enter",t[2]),de(e,"exit",t[3])],n=!0)},p(s,[o]){s[1]==!0?i?(i.p(s,o),o&2&&S(i,1)):(i=Do(s),i.c(),S(i,1),i.m(e,null)):i&&(te(),D(i,1,1,()=>{i=null}),ne())},i(s){r||(S(i),r=!0)},o(s){D(i),r=!1},d(s){s&&y(e),i&&i.d(),n=!1,Ie(a)}}}function R1(t,e,r){let{copy:n}=e,a=!1;function i(){r(1,a=!0)}function s(){r(1,a=!1)}return t.$$set=o=>{"copy"in o&&r(0,n=o.copy)},[n,a,i,s]}class I1 extends ie{constructor(e){super(),se(this,e,R1,N1,ae,{copy:0})}}function Io(t,e,r){const n=t.slice();n[14]=e[r],n[17]=r;const a=n[0][n[17]].key;return n[15]=a,n}function zo(t,e,r){const n=t.slice();n[18]=e[r],n[17]=r;const a=n[1](n[18]);n[19]=a;const i=n[19][0]-n[19][1];return n[20]=i,n}function Bo(t){let e,r,n,a,i,s,o;return{c(){e=ke("rect"),this.h()},l(l){e=Te(l,"rect",{class:!0,"data-id":!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),E(e).forEach(y),this.h()},h(){p(e,"class",r="group-rect "+t[15]+" svelte-1vzg0ft"),p(e,"data-id",t[17]),p(e,"x",n=t[2](t[18])),p(e,"y",a=t[19][1]),p(e,"width",i=t[3].bandwidth()),p(e,"height",s=t[20]),p(e,"fill",o=t[4](t[14]))},m(l,c){N(l,e,c)},p(l,c){c&1&&r!==(r="group-rect "+l[15]+" svelte-1vzg0ft")&&p(e,"class",r),c&5&&n!==(n=l[2](l[18]))&&p(e,"x",n),c&3&&a!==(a=l[19][1])&&p(e,"y",a),c&8&&i!==(i=l[3].bandwidth())&&p(e,"width",i),c&3&&s!==(s=l[20])&&p(e,"height",s),c&17&&o!==(o=l[4](l[14]))&&p(e,"fill",o)},d(l){l&&y(e)}}}function Vo(t){let e,r=Z(t[14]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Bo(zo(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p(a,i){if(i&31){r=Z(a[14]);let s;for(s=0;s<r.length;s+=1){const o=zo(a,r,s);n[s]?n[s].p(o,i):(n[s]=Bo(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(a){a&&y(e),me(n,a)}}}function z1(t){let e,r,n,a=Z(t[0]),i=[];for(let s=0;s<a.length;s+=1)i[s]=Vo(Io(t,a,s));return{c(){e=ke("g");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=Te(s,"g",{class:!0});var o=E(e);for(let l=0;l<i.length;l+=1)i[l].l(o);o.forEach(y),this.h()},h(){p(e,"class","column-group svelte-1vzg0ft")},m(s,o){N(s,e,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);r||(n=[de(e,"mouseover",t[10]),de(e,"mouseleave",t[11])],r=!0)},p(s,[o]){if(o&31){a=Z(s[0]);let l;for(l=0;l<a.length;l+=1){const c=Io(s,a,l);i[l]?i[l].p(c,o):(i[l]=Vo(c),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=a.length}},i:re,o:re,d(s){s&&y(e),me(i,s),r=!1,Ie(n)}}}function B1(t,e,r){let n,a,i,s,o;const{data:l,xGet:c,yGet:f,zGet:h,xScale:u}=st("LayerCake");q(t,l,v=>r(0,n=v)),q(t,c,v=>r(2,i=v)),q(t,f,v=>r(1,a=v)),q(t,h,v=>r(4,o=v)),q(t,u,v=>r(3,s=v));const d=Nl();function m(v){d("customEvent",{data:v})}function g(v){let w=v.clientX,b=v.clientY,T=v.target.dataset.id,P=v.target.classList[1].split("_")[0],F=P.substring(0,1)+"/"+P.substring(1),W=!0,R=Math.round(n[0][T].data[`${P}_no`]),B=Math.round(n[0][T].data[`${P}_semi`]),z=Math.round(n[0][T].data[`${P}_yes`]),I=n[0][T].data.year;m([{xPos:w,yPos:b,relType:F,noValTooltip:R,semiValTooltip:B,yesValTooltip:z,yearValTooltip:I,tooltipVisible:W}])}function _(v){m([{tooltipVisible:!1}])}return[n,a,i,s,o,l,c,f,h,u,g,_]}class V1 extends ie{constructor(e){super(),se(this,e,B1,z1,ae,{})}}const Ha=[{year:"2013",ff_no:"27.83933518",ff_semi:"0",ff_yes:"72.16066482",mm_no:"84.01120056",mm_semi:"10.04750238",mm_yes:"5.941297065",fm_no:"14.14901554",fm_semi:"4.197346654",fm_yes:"81.65363781"},{year:"2014",ff_no:"51.03575482",ff_semi:"0",ff_yes:"48.96424518",mm_no:"81.97535507",mm_semi:"10.49694831",mm_yes:"7.527696624",fm_no:"18.63164517",fm_semi:"3.954073608",fm_yes:"77.41428122"},{year:"2015",ff_no:"27.30480812",ff_semi:"5.006616674",ff_yes:"67.68857521",mm_no:"81.18247553",mm_semi:"11.0317918",mm_yes:"7.785732669",fm_no:"21.56500814",fm_semi:"8.116274936",fm_yes:"70.31871693"},{year:"2016",ff_no:"27.93990301",ff_semi:"5.76073779",ff_yes:"66.2993592",mm_no:"80.58839748",mm_semi:"10.59734884",mm_yes:"8.814253682",fm_no:"22.60448306",fm_semi:"15.20704372",fm_yes:"62.18847322"},{year:"2017",ff_no:"31.44130156",ff_semi:"7.494768109",ff_yes:"61.06393033",mm_no:"79.94619448",mm_semi:"9.861549426",mm_yes:"10.1922561",fm_no:"22.90046358",fm_semi:"16.28319944",fm_yes:"60.81633698"},{year:"2018",ff_no:"0",ff_semi:"0",ff_yes:"0",mm_no:"0",mm_semi:"0",mm_yes:"0",fm_no:"0",fm_semi:"0",fm_yes:"0"},{year:"2019",ff_no:"40.80798281",ff_semi:"6.29662994",ff_yes:"52.89538725",mm_no:"81.11067692",mm_semi:"8.290561296",mm_yes:"10.59876179",fm_no:"24.60428997",fm_semi:"11.87763958",fm_yes:"63.51807046"},{year:"2020",ff_no:"42.45078546",ff_semi:"5.418525086",ff_yes:"52.13068945",mm_no:"80.97400503",mm_semi:"7.762416433",mm_yes:"11.26357854",fm_no:"24.23306921",fm_semi:"11.30714828",fm_yes:"64.45978251"},{year:"2021",ff_no:"42.21549151",ff_semi:"5.504431874",ff_yes:"52.28007661",mm_no:"80.9581225",mm_semi:"7.293958581",mm_yes:"11.74791892",fm_no:"24.23518552",fm_semi:"12.5666561",fm_yes:"63.19815837"},{year:"2022",ff_no:"46.64249189",ff_semi:"6.255780177",ff_yes:"47.10172794",mm_no:"81.38144229",mm_semi:"6.682130639",mm_yes:"11.93642707",fm_no:"24.07832069",fm_semi:"12.44545766",fm_yes:"63.47622165"},{year:"2023",ff_no:"50.12597328",ff_semi:"6.005653564",ff_yes:"43.86837316",mm_no:"81.92872298",mm_semi:"6.208606377",mm_yes:"11.86267064",fm_no:"24.10274686",fm_semi:"12.65489325",fm_yes:"63.24235988"}],Wo=[{year:"2023",ship:"Castiel/Dean Winchester",fandom:"Supernatural",Genre:"Fantasy",collapsedFandom:"",totalWorks:"105307",relType:"M/M",isCanon:"Semi-Canon",isRPF:"No"},{year:"2023",ship:"Derek Hale/Stiles Stilinski",fandom:"Teen Wolf",Genre:"Fantasy",collapsedFandom:"",totalWorks:"64469",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Sherlock Holmes/John Watson",fandom:"Sherlock (TV)",Genre:"Crime",collapsedFandom:"",totalWorks:"64171",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Draco Malfoy/Harry Potter",fandom:"Harry Potter - J. K. Rowling",Genre:"Fantasy",collapsedFandom:"",totalWorks:"62215",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"James Barnes/Steve Rogers",fandom:"Captain America",Genre:"Superhero",collapsedFandom:"Marvel",totalWorks:"58748",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Sirius Black/Remus Lupin",fandom:"Harry Potter - J. K. Rowling",Genre:"Fantasy",collapsedFandom:"",totalWorks:"44820",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Steve Rogers/Tony Stark",fandom:"The Avengers (Marvel Movies)",Genre:"Superhero",collapsedFandom:"Marvel",totalWorks:"42767",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Bakugou Katsuki/Midoriya Izuku",fandom:"My Hero Academia",Genre:"Fantasy",collapsedFandom:"",totalWorks:"41259",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Lán Zhàn/Wèi Yīng",fandom:"Módào Zǔshī - Mòxiāng Tóngxiù",Genre:"Fantasy",collapsedFandom:"",totalWorks:"36510",relType:"M/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Merlin/Arthur Pendragon",fandom:"Merlin (TV)",Genre:"Fantasy",collapsedFandom:"",totalWorks:"33353",relType:"M/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Kara Danvers/Lena Luthor",fandom:"Supergirl (TV 2015)",Genre:"Superhero",collapsedFandom:"DC Comics",totalWorks:"20102",relType:"F/F",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Evil Queen/Emma Swan",fandom:"Once Upon a Time (TV)",Genre:"Fantasy",collapsedFandom:"",totalWorks:"14990",relType:"F/F",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Clarke Griffin/Lexa",fandom:"The 100",Genre:"Science Fiction",collapsedFandom:"",totalWorks:"12693",relType:"F/F",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Amity Blight/Luz Noceda",fandom:"The Owl House",Genre:"Fantasy",collapsedFandom:"",totalWorks:"11610",relType:"F/F",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Adora/Catra",fandom:"She-Ra and the Princesses of Power (2018)",Genre:"Fantasy",collapsedFandom:"",totalWorks:"10843",relType:"F/F",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Robin Buckley/Nancy Wheeler",fandom:"Stranger Things",Genre:"Thriller",collapsedFandom:"",totalWorks:"7776",relType:"F/F",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Blake Belladonna/Yang Xiao Long",fandom:"RWBY",Genre:"Fantasy",collapsedFandom:"",totalWorks:"7358",relType:"F/F",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Marlene McKinnon/Dorcas Meadowes",fandom:"Harry Potter - J. K. Rowling",Genre:"Fantasy",collapsedFandom:"",totalWorks:"7279",relType:"F/F",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Korra/Asami Sato",fandom:"Avatar: The Last Airbender",Genre:"Science Fiction",collapsedFandom:"",totalWorks:"6883",relType:"F/F",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Jirou Kyouka/Yaoyorozu Momo",fandom:"My Hero Academia",Genre:"Fantasy",collapsedFandom:"",totalWorks:"6252",relType:"F/F",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Rey/Kylo Ren",fandom:"Star Wars Episode VII: The Force Awakens (2015)",Genre:"Science Fiction",collapsedFandom:"Star Wars",totalWorks:"26842",relType:"F/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Hermione Granger/Draco Malfoy",fandom:"Harry Potter - J. K. Rowling",Genre:"Fantasy",collapsedFandom:"",totalWorks:"26816",relType:"F/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Lily Evans Potter/James Potter",fandom:"Harry Potter - J. K. Rowling",Genre:"Fantasy",collapsedFandom:"",totalWorks:"24500",relType:"F/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Pepper Potts/Tony Stark",fandom:"Marvel Cinematic Universe",Genre:"Superhero",collapsedFandom:"Marvel",totalWorks:"21489",relType:"F/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Hermione Granger/Ron Weasley",fandom:"Harry Potter - J. K. Rowling",Genre:"Fantasy",collapsedFandom:"",totalWorks:"19817",relType:"F/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Harry Potter/Ginny Weasley",fandom:"Harry Potter - J. K. Rowling",Genre:"Fantasy",collapsedFandom:"",totalWorks:"16451",relType:"F/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Kylo Ren/Rey",fandom:"Star Wars Sequel Trilogy",Genre:"Science Fiction",collapsedFandom:"Star Wars",totalWorks:"15166",relType:"F/M",isCanon:"Yes",isRPF:"No"},{year:"2023",ship:"Tenth Doctor/Rose Tyler",fandom:"Doctor Who",Genre:"Science Fiction",collapsedFandom:"",totalWorks:"15101",relType:"F/M",isCanon:"Semi-Canon",isRPF:"No"},{year:"2023",ship:"Bellamy Blake/Clarke Griffin",fandom:"The 100",Genre:"Science Fiction",collapsedFandom:"",totalWorks:"14065",relType:"F/M",isCanon:"No",isRPF:"No"},{year:"2023",ship:"Fox Mulder/Dana Scully",fandom:"The X-Files",Genre:"Science Fiction",collapsedFandom:"",totalWorks:"13831",relType:"F/M",isCanon:"Yes",isRPF:"No"}];function Lo(t,e,r){const n=t.slice();return n[23]=e[r],n[25]=r,n}function jo(t,e,r){const n=t.slice();return n[26]=e[r],n[25]=r,n}function Oo(t,e,r){const n=t.slice();return n[28]=e[r],n}function Ho(t){let e,r,n=t[0][0].yearValTooltip+"",a,i,s=t[0][0].relType+"",o,l,c,f,h=t[0][0].yesValTooltip+"",u,d,m,g,_,v=t[0][0].semiValTooltip+"",w,b,T,P,F,W=t[0][0].noValTooltip+"",R,B,z,I;return{c(){e=M("div"),r=M("p"),a=Y(n),i=L(),o=Y(s),l=L(),c=M("p"),f=Y("Canon: "),u=Y(h),d=Y("%"),m=L(),g=M("p"),_=Y("Semi-canon: "),w=Y(v),b=Y("%"),T=L(),P=M("p"),F=Y("Non-canon: "),R=Y(W),B=Y("%"),this.h()},l(H){e=C(H,"DIV",{class:!0,style:!0});var O=E(e);r=C(O,"P",{class:!0});var V=E(r);a=Q(V,n),i=j(V),o=Q(V,s),V.forEach(y),l=j(O),c=C(O,"P",{class:!0});var G=E(c);f=Q(G,"Canon: "),u=Q(G,h),d=Q(G,"%"),G.forEach(y),m=j(O),g=C(O,"P",{class:!0});var le=E(g);_=Q(le,"Semi-canon: "),w=Q(le,v),b=Q(le,"%"),le.forEach(y),T=j(O),P=C(O,"P",{class:!0});var ee=E(P);F=Q(ee,"Non-canon: "),R=Q(ee,W),B=Q(ee,"%"),ee.forEach(y),O.forEach(y),this.h()},h(){p(r,"class","year svelte-byf297"),p(c,"class","yes-text svelte-byf297"),p(g,"class","semi-text svelte-byf297"),p(P,"class","no-text svelte-byf297"),p(e,"class","tooltip svelte-byf297"),$(e,"top",t[0][0].yPos+"px"),$(e,"left",t[0][0].xPos+"px")},m(H,O){N(H,e,O),k(e,r),k(r,a),k(r,i),k(r,o),k(e,l),k(e,c),k(c,f),k(c,u),k(c,d),k(e,m),k(e,g),k(g,_),k(g,w),k(g,b),k(e,T),k(e,P),k(P,F),k(P,R),k(P,B),I=!0},p(H,O){(!I||O[0]&1)&&n!==(n=H[0][0].yearValTooltip+"")&&ce(a,n),(!I||O[0]&1)&&s!==(s=H[0][0].relType+"")&&ce(o,s),(!I||O[0]&1)&&h!==(h=H[0][0].yesValTooltip+"")&&ce(u,h),(!I||O[0]&1)&&v!==(v=H[0][0].semiValTooltip+"")&&ce(w,v),(!I||O[0]&1)&&W!==(W=H[0][0].noValTooltip+"")&&ce(R,W),(!I||O[0]&1)&&$(e,"top",H[0][0].yPos+"px"),(!I||O[0]&1)&&$(e,"left",H[0][0].xPos+"px")},i(H){I||(H&&we(()=>{I&&(z||(z=Ce(e,Nt,{duration:300},!0)),z.run(1))}),I=!0)},o(H){H&&(z||(z=Ce(e,Nt,{duration:300},!1)),z.run(0)),I=!1},d(H){H&&y(e),H&&z&&z.end()}}}function qo(t){let e,r=t[28]+"",n;return{c(){e=M("p"),n=Y(r),this.h()},l(a){e=C(a,"P",{class:!0});var i=E(e);n=Q(i,r),i.forEach(y),this.h()},h(){p(e,"class","key-"+t[28]+" svelte-byf297")},m(a,i){N(a,e,i),k(e,n)},p:re,d(a){a&&y(e)}}}function Go(t){let e,r;return e=new pi({props:{ticks:2,gridlines:!1,textAnchor:"end"}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function W1(t){let e,r,n,a,i,s=(t[25]==0||t[1]<600)&&Go();return r=new mi({props:{ticks:["2013","2023"],baseline:!0,gridlines:!1,snapTicks:!0}}),a=new V1({}),a.$on("customEvent",t[2]),{c(){s&&s.c(),e=L(),K(r.$$.fragment),n=L(),K(a.$$.fragment)},l(o){s&&s.l(o),e=j(o),J(r.$$.fragment,o),n=j(o),J(a.$$.fragment,o)},m(o,l){s&&s.m(o,l),N(o,e,l),x(r,o,l),N(o,n,l),x(a,o,l),i=!0},p(o,l){o[25]==0||o[1]<600?s?l[0]&2&&S(s,1):(s=Go(),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(te(),D(s,1,1,()=>{s=null}),ne())},i(o){i||(S(s),S(r.$$.fragment,o),S(a.$$.fragment,o),i=!0)},o(o){D(s),D(r.$$.fragment,o),D(a.$$.fragment,o),i=!1},d(o){o&&(y(e),y(n)),s&&s.d(o),U(r,o),U(a,o)}}}function L1(t){let e,r;return e=new di({props:{$$slots:{default:[W1]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a[0]&2|a[1]&1&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Ko(t){let e,r,n,a,i,s=t[26].ship.replace("/"," / ")+"",o,l,c,f,h=t[3](t[26].totalWorks)+"",u,d,m;return n=new Wt({props:{rank:t[25]+1}}),{c(){e=M("tr"),r=M("td"),K(n.$$.fragment),a=L(),i=M("p"),o=Y(s),l=L(),c=M("td"),f=M("p"),u=Y(h),d=L(),this.h()},l(g){e=C(g,"TR",{class:!0});var _=E(e);r=C(_,"TD",{class:!0,style:!0});var v=E(r);J(n.$$.fragment,v),a=j(v),i=C(v,"P",{class:!0});var w=E(i);o=Q(w,s),w.forEach(y),v.forEach(y),l=j(_),c=C(_,"TD",{class:!0,style:!0});var b=E(c);f=C(b,"P",{class:!0});var T=E(f);u=Q(T,h),T.forEach(y),b.forEach(y),d=j(_),_.forEach(y),this.h()},h(){p(i,"class","svelte-byf297"),p(r,"class","ship-name svelte-byf297"),$(r,"width","70%"),p(f,"class","svelte-byf297"),p(c,"class","canon-row canon-"+t[26].isCanon+" right-align svelte-byf297"),$(c,"width","30%"),p(e,"class","canon-row canon-"+t[26].isCanon+" svelte-byf297")},m(g,_){N(g,e,_),k(e,r),x(n,r,null),k(r,a),k(r,i),k(i,o),k(e,l),k(e,c),k(c,f),k(f,u),k(e,d),m=!0},p:re,i(g){m||(S(n.$$.fragment,g),m=!0)},o(g){D(n.$$.fragment,g),m=!1},d(g){g&&y(e),U(n)}}}function xo(t){let e,r,n=t[8][t[25]]+"",a,i,s,o,l,c,f,h='<th style="width: 70%" class="svelte-byf297">Ship</th> <th class="right-align svelte-byf297" style="width: 30%">Fanfics</th>',u,d,m;o=new hi({props:{padding:{top:0,right:0,bottom:0,left:24},x:t[12],y:t[4],z:O1,xScale:Ul().paddingInner(.1).round(!0),zScale:Jn(),zDomain:t[7][t[25]],zRange:t[5],flatData:$a(t[23]),data:t[23],$$slots:{default:[L1]},$$scope:{ctx:t}}});function g(...b){return t[13](t[25],...b)}let _=Z(Wo.filter(g)),v=[];for(let b=0;b<_.length;b+=1)v[b]=Ko(jo(t,_,b));const w=b=>D(v[b],1,1,()=>{v[b]=null});return{c(){e=M("div"),r=M("h3"),a=Y(n),i=L(),s=M("div"),K(o.$$.fragment),l=L(),c=M("table"),f=M("tr"),f.innerHTML=h,u=L();for(let b=0;b<v.length;b+=1)v[b].c();d=L(),this.h()},l(b){e=C(b,"DIV",{class:!0});var T=E(e);r=C(T,"H3",{class:!0});var P=E(r);a=Q(P,n),P.forEach(y),i=j(T),s=C(T,"DIV",{class:!0});var F=E(s);J(o.$$.fragment,F),F.forEach(y),l=j(T),c=C(T,"TABLE",{class:!0});var W=E(c);f=C(W,"TR",{class:!0,"data-svelte-h":!0}),Me(f)!=="svelte-1ix4mcx"&&(f.innerHTML=h),u=j(W);for(let R=0;R<v.length;R+=1)v[R].l(W);W.forEach(y),d=j(T),T.forEach(y),this.h()},h(){p(r,"class","svelte-byf297"),p(s,"class","chart-container svelte-byf297"),p(f,"class","svelte-byf297"),p(c,"class","svelte-byf297"),p(e,"class","group-wrapper svelte-byf297")},m(b,T){N(b,e,T),k(e,r),k(r,a),k(e,i),k(e,s),x(o,s,null),k(e,l),k(e,c),k(c,f),k(c,u);for(let P=0;P<v.length;P+=1)v[P]&&v[P].m(c,null);k(e,d),m=!0},p(b,T){t=b;const P={};if(T[0]&2|T[1]&1&&(P.$$scope={dirty:T,ctx:t}),o.$set(P),T[0]&264){_=Z(Wo.filter(g));let F;for(F=0;F<_.length;F+=1){const W=jo(t,_,F);v[F]?(v[F].p(W,T),S(v[F],1)):(v[F]=Ko(W),v[F].c(),S(v[F],1),v[F].m(c,null))}for(te(),F=_.length;F<v.length;F+=1)w(F);ne()}},i(b){if(!m){S(o.$$.fragment,b);for(let T=0;T<_.length;T+=1)S(v[T]);m=!0}},o(b){D(o.$$.fragment,b),v=v.filter(Boolean);for(let T=0;T<v.length;T+=1)D(v[T]);m=!1},d(b){b&&y(e),U(o),me(v,b)}}}function j1(t){let e,r,n,a,i,s,o,l;we(t[11]);let c=t[0]&&t[0][0].tooltipVisible&&Ho(t),f=Z(t[9]),h=[];for(let g=0;g<f.length;g+=1)h[g]=qo(Oo(t,f,g));let u=Z(t[6]),d=[];for(let g=0;g<u.length;g+=1)d[g]=xo(Lo(t,u,g));const m=g=>D(d[g],1,1,()=>{d[g]=null});return{c(){e=M("div"),c&&c.c(),r=L(),n=M("div");for(let g=0;g<h.length;g+=1)h[g].c();a=L(),i=M("div");for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){e=C(g,"DIV",{class:!0});var _=E(e);c&&c.l(_),r=j(_),n=C(_,"DIV",{class:!0});var v=E(n);for(let b=0;b<h.length;b+=1)h[b].l(v);v.forEach(y),a=j(_),i=C(_,"DIV",{class:!0});var w=E(i);for(let b=0;b<d.length;b+=1)d[b].l(w);w.forEach(y),_.forEach(y),this.h()},h(){p(n,"class","key-wrapper svelte-byf297"),p(i,"class","chart-wrapper svelte-byf297"),p(e,"class","viz-wrapper svelte-byf297")},m(g,_){N(g,e,_),c&&c.m(e,null),k(e,r),k(e,n);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(n,null);k(e,a),k(e,i);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(i,null);s=!0,o||(l=de(window,"resize",t[11]),o=!0)},p(g,_){if(g[0]&&g[0][0].tooltipVisible?c?(c.p(g,_),_[0]&1&&S(c,1)):(c=Ho(g),c.c(),S(c,1),c.m(e,r)):c&&(te(),D(c,1,1,()=>{c=null}),ne()),_[0]&512){f=Z(g[9]);let v;for(v=0;v<f.length;v+=1){const w=Oo(g,f,v);h[v]?h[v].p(w,_):(h[v]=qo(w),h[v].c(),h[v].m(n,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=f.length}if(_[0]&510){u=Z(g[6]);let v;for(v=0;v<u.length;v+=1){const w=Lo(g,u,v);d[v]?(d[v].p(w,_),S(d[v],1)):(d[v]=xo(w),d[v].c(),S(d[v],1),d[v].m(i,null))}for(te(),v=u.length;v<d.length;v+=1)m(v);ne()}},i(g){if(!s){S(c);for(let _=0;_<u.length;_+=1)S(d[_]);s=!0}},o(g){D(c),d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)D(d[_]);s=!1},d(g){g&&y(e),c&&c.d(),me(h,g),me(d,g),o=!1,l()}}}const Ur="year",O1="key";function qa(t,e){return t.map(n=>{const a={};for(let i in n)(i.startsWith(e)||i=="year")&&(a[i]=n[i]);return a})}function H1(t,e,r){let n,{id:a}=e,i="";function s(z){r(0,i=z.detail.data)}const o=Vt(","),l=qa(Ha,"mm"),c=qa(Ha,"ff"),f=qa(Ha,"fm"),h=[0,1],u=Object.keys(l[0]).filter(z=>z!==Ur),d=Object.keys(c[0]).filter(z=>z!==Ur),m=Object.keys(f[0]).filter(z=>z!==Ur),g=["#1B2AA6","#119C72","#D03200"];l.forEach(z=>{u.forEach(I=>{z[I]=+z[I]})}),c.forEach(z=>{d.forEach(I=>{z[I]=+z[I]})}),f.forEach(z=>{m.forEach(I=>{z[I]=+z[I]})});const _=ja(l,u),v=ja(c,d),w=ja(f,m),b=[_,v,w],T=[u,d,m],P=["M/M","F/F","F/M"],F=["Canon","Semi-Canon","Non-Canon"];function W(){r(1,n=window.innerWidth)}const R=z=>z.data[Ur],B=(z,I)=>I.relType==P[z];return t.$$set=z=>{"id"in z&&r(10,a=z.id)},r(1,n=0),[i,n,s,o,h,g,b,T,P,F,a,W,R,B]}class q1 extends ie{constructor(e){super(),se(this,e,H1,j1,ae,{id:10},null,[-1,-1])}}const ri=[{fandom:"Harry Potter - J. K. Rowling",genre:"Fantasy",menMainCast:"6",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"66.66666667",womenPercent:"33.33333333",nonbinaryPercent:"0"},{fandom:"Boku NoHero Academia | My Hero Academia",genre:"Fantasy",menMainCast:"15",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"83.33333333",womenPercent:"16.66666667",nonbinaryPercent:"0"},{fandom:"Marvel Cinematic Universe",genre:"Superhero",menMainCast:"30",womenMainCast:"19",nonbinaryMainCast:"0",menPercent:"61.2244898",womenPercent:"38.7755102",nonbinaryPercent:"0"},{fandom:"Supernatural",genre:"Fantasy",menMainCast:"3",womenMainCast:"0",nonbinaryMainCast:"0",menPercent:"100",womenPercent:"0",nonbinaryPercent:"0"},{fandom:"Haikyuu!!",genre:"Sports",menMainCast:"12",womenMainCast:"0",nonbinaryMainCast:"0",menPercent:"100",womenPercent:"0",nonbinaryPercent:"0"},{fandom:"Genshin Impact",genre:"Video Game",menMainCast:"20",womenMainCast:"39",nonbinaryMainCast:"0",menPercent:"33.89830508",womenPercent:"66.10169492",nonbinaryPercent:"0"},{fandom:"Teen Wolf",genre:"Fantasy",menMainCast:"7",womenMainCast:"2",nonbinaryMainCast:"0",menPercent:"77.77777778",womenPercent:"22.22222222",nonbinaryPercent:"0"},{fandom:"Sherlock (TV)",genre:"Crime",menMainCast:"4",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"57.14285714",womenPercent:"42.85714286",nonbinaryPercent:"0"},{fandom:"Stranger Things",genre:"Thriller",menMainCast:"14",womenMainCast:"7",nonbinaryMainCast:"1",menPercent:"63.63636364",womenPercent:"31.81818182",nonbinaryPercent:"4.545454545"},{fandom:"The Avengers (Marvel Movies)",genre:"Superhero",menMainCast:"10",womenMainCast:"2",nonbinaryMainCast:"0",menPercent:"83.33333333",womenPercent:"16.66666667",nonbinaryPercent:"0"},{fandom:"Shingeki NoKyojin | Attack on Titan",genre:"Fantasy",menMainCast:"12",womenMainCast:"6",nonbinaryMainCast:"0",menPercent:"66.66666667",womenPercent:"33.33333333",nonbinaryPercent:"0"},{fandom:"Captain America",genre:"Superhero",menMainCast:"3",womenMainCast:"2",nonbinaryMainCast:"0",menPercent:"60",womenPercent:"40",nonbinaryPercent:"0"},{fandom:"Voltron: Legendary Defender",genre:"Fantasy",menMainCast:"6",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"66.66666667",womenPercent:"33.33333333",nonbinaryPercent:"0"},{fandom:"Good Omens",genre:"Fantasy",menMainCast:"8",womenMainCast:"4",nonbinaryMainCast:"6",menPercent:"44.44444444",womenPercent:"22.22222222",nonbinaryPercent:"33.33333333"},{fandom:"Star Wars",genre:"Science Fiction",menMainCast:"23",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"88.46153846",womenPercent:"11.53846154",nonbinaryPercent:"0"},{fandom:"Batman - All Media Types",genre:"Superhero",menMainCast:"16",womenMainCast:"6",nonbinaryMainCast:"0",menPercent:"72.72727273",womenPercent:"27.27272727",nonbinaryPercent:"0"},{fandom:"Naruto",genre:"Fantasy",menMainCast:"5",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"62.5",womenPercent:"37.5",nonbinaryPercent:"0"},{fandom:"Dragon Age: Inquisition",genre:"Video Game",menMainCast:"1",womenMainCast:"3",nonbinaryMainCast:"2",menPercent:"16.66666667",womenPercent:"50",nonbinaryPercent:"33.33333333"},{fandom:"Miraculous Ladybug",genre:"Superhero",menMainCast:"3",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"50",womenPercent:"50",nonbinaryPercent:"0"},{fandom:"Bungou Stray Dogs",genre:"Fantasy",menMainCast:"31",womenMainCast:"8",nonbinaryMainCast:"1",menPercent:"77.5",womenPercent:"20",nonbinaryPercent:"2.5"},{fandom:"Supergirl (TV 2015)",genre:"Superhero",menMainCast:"11",womenMainCast:"5",nonbinaryMainCast:"0",menPercent:"68.75",womenPercent:"31.25",nonbinaryPercent:"0"},{fandom:"Jujutsu Kaisen",genre:"Fantasy",menMainCast:"13",womenMainCast:"2",nonbinaryMainCast:"1",menPercent:"81.25",womenPercent:"12.5",nonbinaryPercent:"6.25"},{fandom:"Doctor Who",genre:"Science Fiction",menMainCast:"900",womenMainCast:"508",nonbinaryMainCast:"59",menPercent:"61.34969325",womenPercent:"34.62849352",nonbinaryPercent:"4.021813224"},{fandom:"Merlin (TV)",genre:"Fantasy",menMainCast:"7",womenMainCast:"2",nonbinaryMainCast:"0",menPercent:"77.77777778",womenPercent:"22.22222222",nonbinaryPercent:"0"},{fandom:"Módào Zǔshī - Mòxiāng Tóngxiù",genre:"Fantasy",menMainCast:"8",womenMainCast:"0",nonbinaryMainCast:"0",menPercent:"100",womenPercent:"0",nonbinaryPercent:"0"},{fandom:"Star Wars Episode VII: The Force Awakens (2015)",genre:"Science Fiction",menMainCast:"10",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"76.92307692",womenPercent:"23.07692308",nonbinaryPercent:"0"},{fandom:"Undertale",genre:"Video Game",menMainCast:"7",womenMainCast:"2",nonbinaryMainCast:"2",menPercent:"63.63636364",womenPercent:"18.18181818",nonbinaryPercent:"18.18181818"},{fandom:"Game of Thrones",genre:"Fantasy",menMainCast:"36",womenMainCast:"16",nonbinaryMainCast:"0",menPercent:"69.23076923",womenPercent:"30.76923077",nonbinaryPercent:"0"},{fandom:"Once Upon a Time (TV)",genre:"Fantasy",menMainCast:"182",womenMainCast:"125",nonbinaryMainCast:"1",menPercent:"59.09090909",womenPercent:"40.58441558",nonbinaryPercent:"0.3246753247"},{fandom:"Yuri!!! on Ice",genre:"Sports",menMainCast:"16",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"84.21052632",womenPercent:"15.78947368",nonbinaryPercent:"0"},{fandom:"Avatar: The Last Airbender",genre:"Fantasy",menMainCast:"7",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"70",womenPercent:"30",nonbinaryPercent:"0"},{fandom:"The 100",genre:"Science Fiction",menMainCast:"6",womenMainCast:"4",nonbinaryMainCast:"0",menPercent:"60",womenPercent:"40",nonbinaryPercent:"0"},{fandom:"9-1-2001",genre:"Crime",menMainCast:"8",womenMainCast:"5",nonbinaryMainCast:"0",menPercent:"61.53846154",womenPercent:"38.46153846",nonbinaryPercent:"0"},{fandom:"Percy Jackson and the Olympians - Rick Riordan",genre:"Fantasy",menMainCast:"6",womenMainCast:"2",nonbinaryMainCast:"0",menPercent:"75",womenPercent:"25",nonbinaryPercent:"0"},{fandom:"Star Wars Sequel Trilogy",genre:"Science Fiction",menMainCast:"23",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"88.46153846",womenPercent:"11.53846154",nonbinaryPercent:"0"},{fandom:"Batman",genre:"Superhero",menMainCast:"16",womenMainCast:"6",nonbinaryMainCast:"0",menPercent:"72.72727273",womenPercent:"27.27272727",nonbinaryPercent:"0"},{fandom:"Sanders Sides",genre:"Slice of Life",menMainCast:"6",womenMainCast:"0",nonbinaryMainCast:"0",menPercent:"100",womenPercent:"0",nonbinaryPercent:"0"},{fandom:"Homestuck",genre:"Science Fiction",menMainCast:"10",womenMainCast:"7",nonbinaryMainCast:"0",menPercent:"58.82352941",womenPercent:"41.17647059",nonbinaryPercent:"0"},{fandom:"Hannibal (TV)",genre:"Thriller",menMainCast:"5",womenMainCast:"3",nonbinaryMainCast:"0",menPercent:"62.5",womenPercent:"37.5",nonbinaryPercent:"0"},{fandom:"The Witcher (TV)",genre:"Fantasy",menMainCast:"6",womenMainCast:"5",nonbinaryMainCast:"0",menPercent:"54.54545455",womenPercent:"45.45454545",nonbinaryPercent:"0"},{fandom:"Glee",genre:"Slice of Life",menMainCast:"21",womenMainCast:"15",nonbinaryMainCast:"0",menPercent:"58.33333333",womenPercent:"41.66666667",nonbinaryPercent:"0"},{fandom:"Persona",genre:"Video Game",menMainCast:"5",womenMainCast:"4",nonbinaryMainCast:"0",menPercent:"55.55555556",womenPercent:"44.44444444",nonbinaryPercent:"0"},{fandom:"Mortal Instruments Series - Cassandra Clare",genre:"Fantasy",menMainCast:"3",womenMainCast:"2",nonbinaryMainCast:"0",menPercent:"60",womenPercent:"40",nonbinaryPercent:"0"},{fandom:"Jojo's Bizarre Adventure",genre:"Fantasy",menMainCast:"14",womenMainCast:"1",nonbinaryMainCast:"0",menPercent:"93.33333333",womenPercent:"6.666666667",nonbinaryPercent:"0"},{fandom:"Our Flag Means Death (TV)",genre:"Romance",menMainCast:"14",womenMainCast:"0",nonbinaryMainCast:"0",menPercent:"100",womenPercent:"0",nonbinaryPercent:"0"},{fandom:"Hetalia: Axis Powers",genre:"Historical",menMainCast:"8",womenMainCast:"0",nonbinaryMainCast:"0",menPercent:"100",womenPercent:"0",nonbinaryPercent:"0"},{fandom:"Star Trek: Alternate Original Series (Movies)",genre:"Science Fiction",menMainCast:"7",womenMainCast:"2",nonbinaryMainCast:"0",menPercent:"77.77777778",womenPercent:"22.22222222",nonbinaryPercent:"0"},{fandom:"The Owl House",genre:"Fantasy",menMainCast:"6",womenMainCast:"6",nonbinaryMainCast:"2",menPercent:"42.85714286",womenPercent:"42.85714286",nonbinaryPercent:"14.28571429"},{fandom:"Agents of S.H.I.E.L.D. (TV)",genre:"Superhero",menMainCast:"8",womenMainCast:"5",nonbinaryMainCast:"0",menPercent:"61.53846154",womenPercent:"38.46153846",nonbinaryPercent:"0"},{fandom:"The Untamed",genre:"Thriller",menMainCast:"2",womenMainCast:"0",nonbinaryMainCast:"0",menPercent:"100",womenPercent:"0",nonbinaryPercent:"0"}];function G1(t,e,r){const n=t.slice();return n[8]=e[r],n[10]=r,n}function Uo(t,e,r){const n=t.slice();return n[11]=e[r],n[10]=r,n}function Jo(t,e,r){const n=t.slice();return n[13]=e[r],n}function K1(t){let e,r=Z(t[1]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Yo(Jo(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p(a,i){if(i&6){r=Z(a[1]);let s;for(s=0;s<r.length;s+=1){const o=Jo(a,r,s);n[s]?n[s].p(o,i):(n[s]=Yo(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(a){a&&y(e),me(n,a)}}}function x1(t){let e,r="More men",n,a,i,s,o="More women";return{c(){e=M("p"),e.textContent=r,n=L(),a=M("div"),i=L(),s=M("p"),s.textContent=o,this.h()},l(l){e=C(l,"P",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-dk191n"&&(e.textContent=r),n=j(l),a=C(l,"DIV",{class:!0}),E(a).forEach(y),i=j(l),s=C(l,"P",{class:!0,"data-svelte-h":!0}),Me(s)!=="svelte-1jto41h"&&(s.textContent=o),this.h()},h(){p(e,"class","svelte-pohiqy"),p(a,"class","key-box-gender svelte-pohiqy"),p(s,"class","svelte-pohiqy")},m(l,c){N(l,e,c),N(l,n,c),N(l,a,c),N(l,i,c),N(l,s,c)},p:re,d(l){l&&(y(e),y(n),y(a),y(i),y(s))}}}function Yo(t){let e,r=t[13]+"",n;return{c(){e=M("p"),n=Y(r),this.h()},l(a){e=C(a,"P",{style:!0,class:!0});var i=E(e);n=Q(i,r),i.forEach(y),this.h()},h(){$(e,"background-color",t[2](t[13])),p(e,"class","svelte-pohiqy")},m(a,i){N(a,e,i),k(e,n)},p:re,d(a){a&&y(e)}}}function Qo(t){let e,r,n,a,i,s=t[11].fandom+"",o,l,c,f,h;return r=new Wt({props:{rank:t[10]+1}}),{c(){e=M("div"),K(r.$$.fragment),n=L(),a=M("div"),i=M("p"),o=Y(s),l=L(),this.h()},l(u){e=C(u,"DIV",{class:!0,style:!0});var d=E(e);J(r.$$.fragment,d),n=j(d),a=C(d,"DIV",{class:!0});var m=E(a);i=C(m,"P",{class:!0});var g=E(i);o=Q(g,s),g.forEach(y),m.forEach(y),l=j(d),d.forEach(y),this.h()},h(){p(i,"class","fandom-name svelte-pohiqy"),p(a,"class","deets svelte-pohiqy"),p(e,"class","fandom-block svelte-pohiqy"),$(e,"background-color",t[3](t[0],t[11]))},m(u,d){N(u,e,d),x(r,e,null),k(e,n),k(e,a),k(a,i),k(i,o),k(e,l),h=!0},p(u,d){(!h||d&1)&&$(e,"background-color",u[3](u[0],u[11]))},i(u){h||(S(r.$$.fragment,u),u&&we(()=>{h&&(f&&f.end(1),c=la(e,Nt,{delay:t[10]*50,duration:300}),c.start())}),h=!0)},o(u){D(r.$$.fragment,u),c&&c.invalidate(),u&&(f=Rl(e,Nt,{delay:50,duration:300})),h=!1},d(u){u&&y(e),U(r),u&&f&&f.end()}}}function Zo(t){let e,r,n=(t[0]>=0||t[0]==null)&&Qo(t);return{c(){n&&n.c(),e=X()},l(a){n&&n.l(a),e=X()},m(a,i){n&&n.m(a,i),N(a,e,i),r=!0},p(a,i){a[0]>=0||a[0]==null?n?(n.p(a,i),i&1&&S(n,1)):(n=Qo(a),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(te(),D(n,1,1,()=>{n=null}),ne())},i(a){r||(S(n),r=!0)},o(a){D(n),r=!1},d(a){a&&y(e),n&&n.d(a)}}}function U1(t){let e,r=Z(t[4]),n=[];for(let a=0;a<r.length;a+=1)n[a]=J1(G1(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p:re,d(a){a&&y(e),me(n,a)}}}function J1(t){let e,r,n,a;return{c(){e=M("div"),r=M("p"),n=new Gn(!1),a=L(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);r=C(s,"P",{});var o=E(r);n=Kn(o,!1),o.forEach(y),a=j(s),s.forEach(y),this.h()},h(){n.a=null,p(e,"class","step svelte-pohiqy")},m(i,s){N(i,e,s),k(e,r),n.m(t[10],r),k(e,a)},p:re,d(i){i&&y(e)}}}function Y1(t){let e,r=t[4]&&U1(t);return{c(){r&&r.c(),e=X()},l(n){r&&r.l(n),e=X()},m(n,a){r&&r.m(n,a),N(n,e,a)},p(n,a){n[4]&&r.p(n,a)},d(n){n&&y(e),r&&r.d(n)}}}function Q1(t){let e,r,n,a,i,s,o,l,c,f,h,u,d,m,g;a=new $e({props:{title:"TKTK"}});function _(R,B){if(R[0]==1)return x1;if(R[0]==2)return K1}let v=_(t),w=v&&v(t),b=Z(ri),T=[];for(let R=0;R<b.length;R+=1)T[R]=Zo(Uo(t,b,R));const P=R=>D(T[R],1,1,()=>{T[R]=null});function F(R){t[6](R)}let W={$$slots:{default:[Y1]},$$scope:{ctx:t}};return t[0]!==void 0&&(W.value=t[0]),h=new gi({props:W}),ht.push(()=>oi(h,"value",F)),{c(){e=M("section"),r=M("div"),n=M("div"),K(a.$$.fragment),i=L(),s=M("div"),o=M("div"),w&&w.c(),l=L(),c=M("div");for(let R=0;R<T.length;R+=1)T[R].c();f=L(),K(h.$$.fragment),d=L(),m=M("div"),this.h()},l(R){e=C(R,"SECTION",{id:!0});var B=E(e);r=C(B,"DIV",{class:!0});var z=E(r);n=C(z,"DIV",{class:!0});var I=E(n);J(a.$$.fragment,I),i=j(I),s=C(I,"DIV",{class:!0});var H=E(s);o=C(H,"DIV",{class:!0});var O=E(o);w&&w.l(O),O.forEach(y),l=j(H),c=C(H,"DIV",{class:!0});var V=E(c);for(let G=0;G<T.length;G+=1)T[G].l(V);V.forEach(y),H.forEach(y),I.forEach(y),z.forEach(y),f=j(B),J(h.$$.fragment,B),d=j(B),m=C(B,"DIV",{class:!0}),E(m).forEach(y),B.forEach(y),this.h()},h(){p(o,"class","key svelte-pohiqy"),p(c,"class","fandom-wrapper svelte-pohiqy"),p(s,"class","content-wrapper svelte-pohiqy"),p(n,"class","chart-wrapper svelte-pohiqy"),p(r,"class","sticky svelte-pohiqy"),p(m,"class","spacer svelte-pohiqy"),p(e,"id","scrolly")},m(R,B){N(R,e,B),k(e,r),k(r,n),x(a,n,null),k(n,i),k(n,s),k(s,o),w&&w.m(o,null),k(s,l),k(s,c);for(let z=0;z<T.length;z+=1)T[z]&&T[z].m(c,null);k(e,f),x(h,e,null),k(e,d),k(e,m),g=!0},p(R,[B]){if(v===(v=_(R))&&w?w.p(R,B):(w&&w.d(1),w=v&&v(R),w&&(w.c(),w.m(o,null))),B&9){b=Z(ri);let I;for(I=0;I<b.length;I+=1){const H=Uo(R,b,I);T[I]?(T[I].p(H,B),S(T[I],1)):(T[I]=Zo(H),T[I].c(),S(T[I],1),T[I].m(c,null))}for(te(),I=b.length;I<T.length;I+=1)P(I);ne()}const z={};B&65536&&(z.$$scope={dirty:B,ctx:R}),!u&&B&1&&(u=!0,z.value=R[0],ii(()=>u=!1)),h.$set(z)},i(R){if(!g){S(a.$$.fragment,R);for(let B=0;B<b.length;B+=1)S(T[B]);S(h.$$.fragment,R),g=!0}},o(R){D(a.$$.fragment,R),T=T.filter(Boolean);for(let B=0;B<T.length;B+=1)D(T[B]);D(h.$$.fragment,R),g=!1},d(R){R&&y(e),U(a),w&&w.d(),me(T,R),U(h)}}}function Z1(t,e,r){let{id:n}=e;const a=[...new Set(ri.map(h=>h.genre))],i=Zl().domain([0,50,100]).interpolator(xa("#FFAAB9","#E2FF8E")),s=Jn().domain(a).range(["#1B2AA6","#D03200","#C0B9C6","#119C72","#C0B9C6","#FFAAB9","#E2FF8E","#C0B9C6","#C0B9C6","#C0B9C6"]);function o(h,u){return h==0||h==null?"transparent":h==1?i(u.menPercent):h==2?s(u.genre):"transparent"}let l,c=[0,1,2,3];function f(h){l=h,r(0,l)}return t.$$set=h=>{"id"in h&&r(5,n=h.id)},[l,a,s,o,c,n,f]}class X1 extends ie{constructor(e){super(),se(this,e,Z1,Q1,ae,{id:5})}}function Xo(t,e,r){const n=t.slice();return n[11]=e[r],n[13]=r,n}function $o(t,e,r){const n=t.slice();return n[14]=e[r],n}function el(t){let e,r,n,a=t[14][0]+"",i,s,o,l=t[14][1]+"",c,f,h,u,d,m,g,_,v,w,b,T,P;return{c(){e=M("div"),r=M("div"),n=M("p"),i=Y(a),s=L(),o=M("p"),c=Y(l),f=Y("%"),h=L(),u=M("div"),d=M("img"),g=L(),_=M("img"),w=L(),b=M("img"),P=L(),this.h()},l(F){e=C(F,"DIV",{class:!0});var W=E(e);r=C(W,"DIV",{class:!0});var R=E(r);n=C(R,"P",{class:!0});var B=E(n);i=Q(B,a),B.forEach(y),s=j(R),o=C(R,"P",{class:!0});var z=E(o);c=Q(z,l),f=Q(z,"%"),z.forEach(y),R.forEach(y),h=j(W),u=C(W,"DIV",{class:!0});var I=E(u);d=C(I,"IMG",{src:!0,alt:!0,class:!0}),g=j(I),_=C(I,"IMG",{src:!0,alt:!0,class:!0}),w=j(I),b=C(I,"IMG",{src:!0,alt:!0,class:!0}),I.forEach(y),P=j(W),W.forEach(y),this.h()},h(){p(n,"class","svelte-5dtcw2"),p(o,"class","svelte-5dtcw2"),p(r,"class","key-text svelte-5dtcw2"),Re(d.src,m="./assets/images/icons/man-"+t[14][0]+".png")||p(d,"src",m),p(d,"alt","character"),p(d,"class","svelte-5dtcw2"),Re(_.src,v="./assets/images/icons/nonbinary-"+t[14][0]+".png")||p(_,"src",v),p(_,"alt","character"),p(_,"class","svelte-5dtcw2"),Re(b.src,T="./assets/images/icons/woman-"+t[14][0]+".png")||p(b,"src",T),p(b,"alt","character"),p(b,"class","svelte-5dtcw2"),p(u,"class","img-block svelte-5dtcw2"),p(e,"class","key-block key-block-"+t[14][0]+" svelte-5dtcw2")},m(F,W){N(F,e,W),k(e,r),k(r,n),k(n,i),k(r,s),k(r,o),k(o,c),k(o,f),k(e,h),k(e,u),k(u,d),k(u,g),k(u,_),k(u,w),k(u,b),k(e,P)},p:re,d(F){F&&y(e)}}}function tl(t){let e,r,n=Z(t[0]),a=[];for(let s=0;s<n.length;s+=1)a[s]=nl(Xo(t,n,s));const i=s=>D(a[s],1,1,()=>{a[s]=null});return{c(){e=M("ul");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=C(s,"UL",{class:!0});var o=E(e);for(let l=0;l<a.length;l+=1)a[l].l(o);o.forEach(y),this.h()},h(){p(e,"class","svelte-5dtcw2")},m(s,o){N(s,e,o);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,null);r=!0},p(s,o){if(o&97){n=Z(s[0]);let l;for(l=0;l<n.length;l+=1){const c=Xo(s,n,l);a[l]?(a[l].p(c,o),S(a[l],1)):(a[l]=nl(c),a[l].c(),S(a[l],1),a[l].m(e,null))}for(te(),l=n.length;l<a.length;l+=1)i(l);ne()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)S(a[o]);r=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)D(a[o]);r=!1},d(s){s&&y(e),me(a,s)}}}function $1(t){let e,r='<img class="multi-img svelte-5dtcw2" src="./assets/images/icons/man-white.png" alt="character"/> <img class="multi-img svelte-5dtcw2" src="./assets/images/icons/man-white.png" alt="character"/>',n,a,i='<img class="multi-img svelte-5dtcw2" src="./assets/images/icons/man-white.png" alt="character"/> <img class="multi-img svelte-5dtcw2" src="./assets/images/icons/man-white.png" alt="character"/>';return{c(){e=M("div"),e.innerHTML=r,n=L(),a=M("div"),a.innerHTML=i,this.h()},l(s){e=C(s,"DIV",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-13n3ja4"&&(e.innerHTML=r),n=j(s),a=C(s,"DIV",{class:!0,"data-svelte-h":!0}),Me(a)!=="svelte-13n3ja4"&&(a.innerHTML=i),this.h()},h(){p(e,"class","img-inset svelte-5dtcw2"),p(a,"class","img-inset svelte-5dtcw2")},m(s,o){N(s,e,o),N(s,n,o),N(s,a,o)},p:re,d(s){s&&(y(e),y(n),y(a))}}}function ep(t){let e,r,n,a,i;return{c(){e=M("img"),n=L(),a=M("img"),this.h()},l(s){e=C(s,"IMG",{src:!0,alt:!0,class:!0}),n=j(s),a=C(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Re(e.src,r="./assets/images/icons/"+Jr(t[11],"A")+".png")||p(e,"src",r),p(e,"alt","character"),p(e,"class","svelte-5dtcw2"),Re(a.src,i="./assets/images/icons/"+Jr(t[11],"B")+".png")||p(a,"src",i),p(a,"alt","character"),p(a,"class","svelte-5dtcw2")},m(s,o){N(s,e,o),N(s,n,o),N(s,a,o)},p(s,o){o&1&&!Re(e.src,r="./assets/images/icons/"+Jr(s[11],"A")+".png")&&p(e,"src",r),o&1&&!Re(a.src,i="./assets/images/icons/"+Jr(s[11],"B")+".png")&&p(a,"src",i)},d(s){s&&(y(e),y(n),y(a))}}}function nl(t){let e,r,n,a,i,s,o,l=t[11].ship+"",c,f,h,u=t[11].fandom+"",d,m,g,_,v;r=new Wt({props:{rank:t[13]+1}});function w(P,F){return P[11].gender!=="Multi"?ep:$1}let b=w(t),T=b(t);return{c(){e=M("li"),K(r.$$.fragment),n=L(),a=M("div"),T.c(),i=L(),s=M("div"),o=M("p"),c=Y(l),f=L(),h=M("p"),d=Y(u),m=L(),this.h()},l(P){e=C(P,"LI",{class:!0});var F=E(e);J(r.$$.fragment,F),n=j(F),a=C(F,"DIV",{class:!0});var W=E(a);T.l(W),W.forEach(y),i=j(F),s=C(F,"DIV",{class:!0});var R=E(s);o=C(R,"P",{class:!0});var B=E(o);c=Q(B,l),B.forEach(y),f=j(R),h=C(R,"P",{class:!0});var z=E(h);d=Q(z,u),z.forEach(y),R.forEach(y),m=j(F),F.forEach(y),this.h()},h(){p(a,"class","img-wrapper svelte-5dtcw2"),p(o,"class","svelte-5dtcw2"),p(h,"class","svelte-5dtcw2"),p(s,"class","text-wrapper svelte-5dtcw2"),p(e,"class","svelte-5dtcw2")},m(P,F){N(P,e,F),x(r,e,null),k(e,n),k(e,a),T.m(a,null),k(e,i),k(e,s),k(s,o),k(o,c),k(s,f),k(s,h),k(h,d),k(e,m),g=!0,_||(v=[de(e,"mouseover",t[5]),de(e,"mouseleave",t[6])],_=!0)},p(P,F){b===(b=w(P))&&T?T.p(P,F):(T.d(1),T=b(P),T&&(T.c(),T.m(a,null))),(!g||F&1)&&l!==(l=P[11].ship+"")&&ce(c,l),(!g||F&1)&&u!==(u=P[11].fandom+"")&&ce(d,u)},i(P){g||(S(r.$$.fragment,P),g=!0)},o(P){D(r.$$.fragment,P),g=!1},d(P){P&&y(e),U(r),T.d(),_=!1,Ie(v)}}}function tp(t){let e,r,n,a,i,s,o,l,c,f,h=Z(t[3]),u=[];for(let m=0;m<h.length;m+=1)u[m]=el($o(t,h,m));let d=t[0]&&tl(t);return{c(){e=M("div"),r=M("div");for(let m=0;m<u.length;m+=1)u[m].c();n=L(),a=M("div"),d&&d.c(),i=L(),s=M("button"),o=Y(t[2]),this.h()},l(m){e=C(m,"DIV",{class:!0});var g=E(e);r=C(g,"DIV",{class:!0});var _=E(r);for(let b=0;b<u.length;b+=1)u[b].l(_);_.forEach(y),n=j(g),a=C(g,"DIV",{class:!0});var v=E(a);d&&d.l(v),v.forEach(y),i=j(g),s=C(g,"BUTTON",{class:!0});var w=E(s);o=Q(w,t[2]),w.forEach(y),g.forEach(y),this.h()},h(){p(r,"class","key svelte-5dtcw2"),p(a,"class","list-wrapper svelte-5dtcw2"),p(s,"class","expand svelte-5dtcw2"),p(e,"class","chart-container svelte-5dtcw2"),ue(e,"isExpanded",t[1])},m(m,g){N(m,e,g),k(e,r);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(r,null);k(e,n),k(e,a),d&&d.m(a,null),k(e,i),k(e,s),k(s,o),l=!0,c||(f=de(s,"click",t[4]),c=!0)},p(m,[g]){if(g&8){h=Z(m[3]);let _;for(_=0;_<h.length;_+=1){const v=$o(m,h,_);u[_]?u[_].p(v,g):(u[_]=el(v),u[_].c(),u[_].m(r,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=h.length}m[0]?d?(d.p(m,g),g&1&&S(d,1)):(d=tl(m),d.c(),S(d,1),d.m(a,null)):d&&(te(),D(d,1,1,()=>{d=null}),ne()),(!l||g&4)&&ce(o,m[2]),(!l||g&2)&&ue(e,"isExpanded",m[1])},i(m){l||(S(d),l=!0)},o(m){D(d),l=!1},d(m){m&&y(e),me(u,m),d&&d.d(),c=!1,f()}}}function Jr(t,e){let r=e=="A"?t.gender.split("/")[0]:t.gender.split("/")[1];r=r=="M"?"man":r=="F"?"woman":"nonbinary";let n=e=="A"?t.raceA.toLowerCase():t.raceB.toLowerCase();return`${r}-${n}`}function np(t,e,r){let n;it(async()=>{if(a){const u=`./assets/data/${a.split("_")[0]}/${a}.csv`;r(0,n=await Un(u))}});let{id:a}=e,i=!1,s="Show more";const o=[["white",67],["asian",27],["latino",2.5],["ambiguous",2.5],["black",.5],["indigenous",.5]];function l(){r(1,i=!i),r(2,s=s=="Show more"?"Hide":"Show more")}function c(){gn(this).select(".text-wrapper").style("transform","translate(0,0)")}function f(){Se(".list-wrapper .text-wrapper").style("transform","translate(0,105%)")}return t.$$set=h=>{"id"in h&&r(7,a=h.id)},[n,i,s,o,l,c,f,a]}class rp extends ie{constructor(e){super(),se(this,e,np,tp,ae,{id:7})}}const ap=[{response:"Woman or Girl",count:"9273",percent:"57.5"},{response:"Nonbinary or Enby",count:"3486",percent:"21.6"},{response:"Man or Boy",count:"2000",percent:"12.4"},{response:"Queer",count:"1958",percent:"12.1"},{response:"Genderqueer",count:"1786",percent:"11.1"},{response:"Agender",count:"1480",percent:"9.2"},{response:"Gender Non-Conforming",count:"1316",percent:"8.2"},{response:"Genderfluid",count:"1150",percent:"7.1"},{response:"Questioning",count:"825",percent:"5.1"},{response:"I do not label my gender identity",count:"827",percent:"5.1"},{response:"Gender Neutral",count:"642",percent:"4"},{response:"Genderless",count:"415",percent:"2.6"},{response:"Butch",count:"398",percent:"2.5"},{response:"Demigirl",count:"400",percent:"2.5"},{response:"Femme",count:"358",percent:"2.2"},{response:"Other (write-in",count:"357",percent:"2.2"},{response:"Bigender",count:"289",percent:"1.8"},{response:"Demiboy",count:"253",percent:"1.6"},{response:"Prefer not to say",count:"189",percent:"1.2"},{response:"Androgyne",count:"185",percent:"1.1"},{response:"Third Gender",count:"31",percent:"0.2"},{response:"Two-Spirit",count:"24",percent:"0.1"}];function ip(t,e,r){const n=t.slice();return n[4]=e[r],n[6]=r,n}function rl(t,e,r){const n=t.slice();n[7]=e[r],n[6]=r;const a=n[0]+n[6];n[8]=a;const i=n[6]==0?"Do you identify as LGBTQ+ in any form?":"Do you identify transgender?";return n[9]=i,n}function al(t){let e,r,n,a,i,s,o;return i=new uc({props:{id:t[8]}}),{c(){e=M("div"),r=M("h3"),n=Y(t[9]),a=L(),K(i.$$.fragment),s=L(),this.h()},l(l){e=C(l,"DIV",{class:!0});var c=E(e);r=C(c,"H3",{class:!0});var f=E(r);n=Q(f,t[9]),f.forEach(y),a=j(c),J(i.$$.fragment,c),s=j(c),c.forEach(y),this.h()},h(){p(r,"class","svelte-1n5lx90"),p(e,"class","treemap-inner svelte-1n5lx90")},m(l,c){N(l,e,c),k(e,r),k(r,n),k(e,a),x(i,e,null),k(e,s),o=!0},p(l,c){const f={};c&1&&(f.id=l[8]),i.$set(f)},i(l){o||(S(i.$$.fragment,l),o=!0)},o(l){D(i.$$.fragment,l),o=!1},d(l){l&&y(e),U(i)}}}function sp(t){let e,r,n=t[4].response+"",a,i,s,o,l,c,f,h=t[4].percent+"",u,d,m;return{c(){e=M("div"),r=M("p"),a=Y(n),i=L(),s=M("div"),o=M("div"),l=L(),c=M("div"),f=M("p"),u=Y(h),d=Y("%"),m=L(),this.h()},l(g){e=C(g,"DIV",{class:!0});var _=E(e);r=C(_,"P",{class:!0});var v=E(r);a=Q(v,n),v.forEach(y),i=j(_),s=C(_,"DIV",{class:!0});var w=E(s);o=C(w,"DIV",{class:!0}),E(o).forEach(y),l=j(w),c=C(w,"DIV",{class:!0,style:!0});var b=E(c);f=C(b,"P",{class:!0});var T=E(f);u=Q(T,h),d=Q(T,"%"),T.forEach(y),b.forEach(y),w.forEach(y),m=j(_),_.forEach(y),this.h()},h(){p(r,"class","svelte-1n5lx90"),p(o,"class","baseline svelte-1n5lx90"),p(f,"class","svelte-1n5lx90"),p(c,"class","dataline svelte-1n5lx90"),$(c,"width",t[4].percent+"%"),p(s,"class","bars svelte-1n5lx90"),p(e,"class","row svelte-1n5lx90")},m(g,_){N(g,e,_),k(e,r),k(r,a),k(e,i),k(e,s),k(s,o),k(s,l),k(s,c),k(c,f),k(f,u),k(f,d),k(e,m)},p:re,d(g){g&&y(e)}}}function op(t){let e,r,n,a,i,s="What is your gender identity?",o,l,c,f;we(t[3]);let h=Z(t[2]),u=[];for(let _=0;_<h.length;_+=1)u[_]=al(rl(t,h,_));const d=_=>D(u[_],1,1,()=>{u[_]=null});let m=Z(ap),g=[];for(let _=0;_<m.length;_+=1)g[_]=sp(ip(t,m,_));return{c(){e=M("div"),r=M("div");for(let _=0;_<u.length;_+=1)u[_].c();n=L(),a=M("div"),i=M("h3"),i.textContent=s,o=L();for(let _=0;_<g.length;_+=1)g[_].c();this.h()},l(_){e=C(_,"DIV",{class:!0});var v=E(e);r=C(v,"DIV",{class:!0});var w=E(r);for(let T=0;T<u.length;T+=1)u[T].l(w);w.forEach(y),n=j(v),a=C(v,"DIV",{class:!0});var b=E(a);i=C(b,"H3",{class:!0,"data-svelte-h":!0}),Me(i)!=="svelte-i4ys9x"&&(i.textContent=s),o=j(b);for(let T=0;T<g.length;T+=1)g[T].l(b);b.forEach(y),v.forEach(y),this.h()},h(){p(r,"class","treemap-wrapper svelte-1n5lx90"),p(i,"class","svelte-1n5lx90"),p(a,"class","bar-wrapper svelte-1n5lx90"),p(e,"class","viz-wrapper svelte-1n5lx90")},m(_,v){N(_,e,v),k(e,r);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(r,null);k(e,n),k(e,a),k(a,i),k(a,o);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(a,null);l=!0,c||(f=de(window,"resize",t[3]),c=!0)},p(_,[v]){if(v&1){h=Z(_[2]);let w;for(w=0;w<h.length;w+=1){const b=rl(_,h,w);u[w]?(u[w].p(b,v),S(u[w],1)):(u[w]=al(b),u[w].c(),S(u[w],1),u[w].m(r,null))}for(te(),w=h.length;w<u.length;w+=1)d(w);ne()}},i(_){if(!l){for(let v=0;v<h.length;v+=1)S(u[v]);l=!0}},o(_){u=u.filter(Boolean);for(let v=0;v<u.length;v+=1)D(u[v]);l=!1},d(_){_&&y(e),me(u,_),me(g,_),c=!1,f()}}}function lp(t,e,r){let{id:n}=e,a;const i=[1,0];function s(){r(1,a=window.innerWidth)}return t.$$set=o=>{"id"in o&&r(0,n=o.id)},[n,a,i,s]}class cp extends ie{constructor(e){super(),se(this,e,lp,op,ae,{id:0})}}function fp(t){let e,r,n;return{c(){e=M("div"),this.h()},l(a){e=C(a,"DIV",{class:!0,id:!0});var i=E(e);i.forEach(y),this.h()},h(){p(e,"class","network-chart svelte-16bkl5p"),p(e,"id",r=il(t[0].fandom)+"-network"),we(()=>t[5].call(e))},m(a,i){N(a,e,i),n=oa(e,t[5].bind(e)),t[6](e)},p(a,[i]){i&1&&r!==(r=il(a[0].fandom)+"-network")&&p(e,"id",r)},i:re,o:re,d(a){a&&y(e),n(),t[6](null)}}}function il(t){return t.toLowerCase().replace(/[^a-z0-9]/g,"")}function up(t,e,r){let{fandom:n}=e,{scrollIndex:a}=e,i,s=i,o=i,l,c=!1,f,h,u,d,m,g,_,v,w,b;function T(B){B.nodes.length,B.nodes.filter(z=>z.gender=="M").length,B.nodes.filter(z=>z.gender=="F").length,B.nodes.filter(z=>z.gender=="Other").length,B.links.length,B.nodes.filter(z=>z.relType=="M/M").length,B.nodes.filter(z=>z.relType=="F/F").length,B.nodes.filter(z=>z.relType=="F/M").length,B.nodes.filter(z=>z.relType=="Other").length}it(async function(){let B=await Za(n.dataUrl);T(B);let z=P(B,{nodeId:I=>I.index,nodeGender:I=>I.gender,nodeTitle:I=>`${I.name}`,linkStrokeWidth:I=>Math.sqrt(I.value)/20,linkStroke:I=>I.relType,width:s,height:o});gn(l).append(()=>z),f=Se(".network-chart svg rect"),h=Se("#harrypotter-network svg g rect"),u=Se("#marvelcinematicuniverse-network svg g rect"),d=Se(".network-chart svg g .node-m"),m=Se(".network-chart svg g .node-f"),g=Se(".network-chart svg g line"),_=Se(".network-chart svg g .link-mm"),v=Se(".network-chart svg g .link-ff"),w=Se(".network-chart svg g .link-fm"),b=Se(".network-chart"),r(4,c=!0)});function P({nodes:B,links:z},{nodeId:I=ze=>ze.id,nodeGender:H,nodeTitle:O,nodeFill:V="currentColor",nodeStroke:G="#fff",nodeStrokeWidth:le=1,nodeStrokeOpacity:ee=1,nodeRadius:he=7,nodeWidth:ge=12,nodeStrength:_e,linkSource:Pe=({source:ze})=>ze,linkTarget:Ue=({target:ze})=>ze,linkStroke:De,linkStrokeOpacity:je=0,linkStrokeWidth:be=1.5,linkStrokeLinecap:Ee="round",linkStrength:et,colors:mt=uh,width:tt=i,height:Je=i,invalidation:ot}={}){const ze=ft(B,I).map(St),pt=ft(z,Pe).map(St),nt=ft(z,Ue).map(St);O===void 0&&(O=(fe,Be)=>ze[Be]);const gt=O==null?null:ft(B,O),_t=H==null?null:ft(B,H).map(St),Mt=typeof be!="function"?null:ft(z,be),rt=typeof De!="function"?null:ft(z,De);ft(B,I).map(St),B=ft(B,(fe,Be)=>({id:ze[Be]})),z=ft(z,(fe,Be)=>({source:pt[Be],target:nt[Be]}));const Ct=cu().strength(-40),yt=eu(z).distance(100).id(({index:fe})=>ze[fe]);_e!==void 0&&Ct.strength(_e),et!==void 0&&yt.strength(et);const Yn=lu(B).force("link",yt).force("charge",Ct).force("r",fu(function(fe,Be){return i/10})).force("center",Bf()).on("tick",Qn),Rt=gf("svg").attr("width",tt).attr("height",Je).attr("viewBox",[-tt/2,-Je/2,tt,Je]).attr("style","max-width: 100%; height: auto; height: intrinsic;"),vt=Rt.append("g").attr("stroke",typeof De!="function"?De:null).attr("stroke-width",typeof be!="function"?be:null).attr("stroke-linecap",Ee).selectAll("line").data(z).join("line"),wt=Rt.append("g").attr("fill",V).attr("stroke",G).attr("stroke-opacity",ee).attr("stroke-width",le).selectAll("rect").data(B).join("rect").attr("width",ge).attr("height",ge).attr("x",fe=>fe.x-ge/2).attr("y",fe=>fe.y-ge/2).attr("fill","#C0B9C6").on("mouseover",function(fe,Be){wt.style("opacity",.1),vt.style("opacity",.1),gn(this).style("opacity",1),vt.filter(function(lt){return lt.source===Be||lt.target===Be}).style("opacity",.6).each(function(lt){wt.filter(function(Pt){return Pt===lt.source||Pt===lt.target}).style("opacity",1),Lt.filter(function(Pt){return Pt===lt.source||Pt===lt.target}).style("opacity",1)})}).on("mouseout",function(){wt.style("opacity",1),vt.style("opacity",1),Lt.style("opacity",0)}),Lt=Rt.append("g").selectAll("text").data(B).join("text").text(fe=>gt[fe.id]).attr("class","dot-label");Mt&&vt.attr("stroke-width",({index:fe})=>Mt[fe]*1.5),rt&&vt.attr("class",function({index:fe}){return rt[fe]=="M/M"?"link-mm":rt[fe]=="F/F"?"link-ff":rt[fe]=="F/M"?"link-fm":"link-gen"}),_t&&wt.attr("class",function({index:fe}){return _t[fe]=="M"?"node-m":"node-f"}),gt&&wt.append("text").text(({index:fe})=>gt[fe]),ot!=null&&ot.then(()=>Yn.stop());function St(fe){return fe!==null&&typeof fe=="object"?fe.valueOf():fe}function Qn(){vt.attr("x1",fe=>fe.source.x).attr("y1",fe=>fe.source.y).attr("x2",fe=>fe.target.x).attr("y2",fe=>fe.target.y),wt.attr("x",fe=>fe.x-ge/2).attr("y",fe=>fe.y-ge/2),Lt.attr("x",fe=>fe.x+10).attr("y",fe=>fe.y)}return Object.assign(Rt.node())}function F(B,z){console.log({mounted:B,scrollIndex:z}),B&&z==null?(b.style("pointer-events","none"),f.attr("opacity",0),g.attr("opacity",0).attr("stroke","#C0B9C6")):B&&z==0?(b.style("pointer-events","none"),g.attr("opacity",0).attr("stroke","#C0B9C6"),h.attr("fill","#C0B9C6").transition().delay((I,H)=>H*20).duration(500).attr("opacity",1),u.attr("fill","#C0B9C6").transition().delay((I,H)=>H*20).duration(500).attr("opacity",1)):B&&z==1?(b.style("pointer-events","none"),g.attr("opacity",0).attr("stroke","#C0B9C6"),m.attr("opacity",1).transition().duration(500).attr("fill","#FFAAB9"),d.attr("opacity",1).transition().duration(500).attr("fill","#C0B9C6")):B&&z==2?(b.style("pointer-events","none"),g.attr("opacity",0).attr("stroke","#C0B9C6"),m.attr("opacity",1).transition().duration(500).attr("fill","#C0B9C6"),d.attr("opacity",1).transition().duration(500).attr("fill","#1B2AA6")):B&&z==3?(b.style("pointer-events","none"),d.attr("opacity",1).attr("fill","#1B2AA6"),m.attr("opacity",1).attr("fill","#FFAAB9"),g.transition().duration(500).attr("opacity",.6)):B&&z==4?(b.style("pointer-events","none"),d.attr("opacity",.25).attr("fill","#1B2AA6"),m.attr("opacity",1).attr("fill","#FFAAB9"),_.transition().duration(500).attr("stroke","#C0B9C6").attr("opacity",0),v.transition().duration(500).attr("stroke","#FFAAB9").attr("opacity",.6),w.transition().duration(1e3).attr("stroke","#C0B9C6").attr("opacity",0)):B&&z==5?(b.style("pointer-events","none"),d.attr("opacity",1).attr("fill","#1B2AA6"),m.attr("opacity",.25).attr("fill","#FFAAB9"),_.transition().duration(500).attr("stroke","#1B2AA6").attr("opacity",.6),v.transition().duration(500).attr("stroke","#C0B9C6").attr("opacity",0),w.transition().duration(500).attr("stroke","#C0B9C6").attr("opacity",0)):B&&z==6?(b.style("pointer-events","none"),d.attr("opacity",1).attr("fill","#1B2AA6"),m.attr("opacity",1).attr("fill","#FFAAB9"),_.transition().duration(500).attr("stroke","#C0B9C6").attr("opacity",0),v.transition().duration(500).attr("stroke","#C0B9C6").attr("opacity",0),w.transition().duration(500).attr("stroke","#119C72").attr("opacity",.6)):B&&z==7&&(b.style("pointer-events","auto").style("cursor","pointer"),d.attr("opacity",1).attr("fill","#1B2AA6"),m.attr("opacity",1).attr("fill","#FFAAB9"),_.transition().duration(500).attr("stroke","#1B2AA6").attr("opacity",.6),v.transition().duration(500).attr("stroke","#FFAAB9").attr("opacity",.6),w.transition().duration(500).attr("stroke","#119C72").attr("opacity",.6))}function W(){i=this.clientWidth,r(1,i)}function R(B){ht[B?"unshift":"push"](()=>{l=B,r(2,l)})}return t.$$set=B=>{"fandom"in B&&r(0,n=B.fandom),"scrollIndex"in B&&r(3,a=B.scrollIndex)},t.$$.update=()=>{t.$$.dirty&24&&F(c,a)},[n,i,l,a,c,W,R]}class hp extends ie{constructor(e){super(),se(this,e,up,fp,ae,{fandom:0,scrollIndex:3})}}function sl(t,e,r){const n=t.slice();return n[15]=e[r],n[17]=r,n}function ol(t,e,r){const n=t.slice();return n[18]=e[r],n[17]=r,n}function ll(t){let e,r,n,a="Gender",i,s,o,l,c=Math.round(t[11][t[17]].nodesFPercent)+"",f,h,u,d,m,g=Math.round(t[11][t[17]].nodesMPercent)+"",_,v,w,b,T,P="Relationship",F,W,R,B,z=Math.round(t[11][t[17]].linksFFPercent)+"",I,H,O,V,G,le=Math.round(t[11][t[17]].linksMMPercent)+"",ee,he,ge,_e,Pe,Ue=Math.round(t[11][t[17]].linksFMPercent)+"",De,je;return{c(){e=M("div"),r=M("div"),n=M("p"),n.textContent=a,i=L(),s=M("div"),o=M("div"),l=M("p"),f=Y(c),h=Y("%"),u=L(),d=M("div"),m=M("p"),_=Y(g),v=Y("%"),w=L(),b=M("div"),T=M("p"),T.textContent=P,F=L(),W=M("div"),R=M("div"),B=M("p"),I=Y(z),H=Y("%"),O=L(),V=M("div"),G=M("p"),ee=Y(le),he=Y("%"),ge=L(),_e=M("div"),Pe=M("p"),De=Y(Ue),je=Y("%"),this.h()},l(be){e=C(be,"DIV",{class:!0});var Ee=E(e);r=C(Ee,"DIV",{class:!0});var et=E(r);n=C(et,"P",{class:!0,"data-svelte-h":!0}),Me(n)!=="svelte-9c4adf"&&(n.textContent=a),i=j(et),s=C(et,"DIV",{class:!0});var mt=E(s);o=C(mt,"DIV",{class:!0,style:!0});var tt=E(o);l=C(tt,"P",{class:!0});var Je=E(l);f=Q(Je,c),h=Q(Je,"%"),Je.forEach(y),tt.forEach(y),u=j(mt),d=C(mt,"DIV",{class:!0,style:!0});var ot=E(d);m=C(ot,"P",{class:!0});var ze=E(m);_=Q(ze,g),v=Q(ze,"%"),ze.forEach(y),ot.forEach(y),mt.forEach(y),et.forEach(y),w=j(Ee),b=C(Ee,"DIV",{class:!0});var pt=E(b);T=C(pt,"P",{class:!0,"data-svelte-h":!0}),Me(T)!=="svelte-9b7jky"&&(T.textContent=P),F=j(pt),W=C(pt,"DIV",{class:!0});var nt=E(W);R=C(nt,"DIV",{class:!0,style:!0});var gt=E(R);B=C(gt,"P",{class:!0});var _t=E(B);I=Q(_t,z),H=Q(_t,"%"),_t.forEach(y),gt.forEach(y),O=j(nt),V=C(nt,"DIV",{class:!0,style:!0});var Mt=E(V);G=C(Mt,"P",{class:!0});var rt=E(G);ee=Q(rt,le),he=Q(rt,"%"),rt.forEach(y),Mt.forEach(y),ge=j(nt),_e=C(nt,"DIV",{class:!0,style:!0});var Ct=E(_e);Pe=C(Ct,"P",{class:!0});var yt=E(Pe);De=Q(yt,Ue),je=Q(yt,"%"),yt.forEach(y),Ct.forEach(y),nt.forEach(y),pt.forEach(y),Ee.forEach(y),this.h()},h(){p(n,"class","svelte-1q3eeoi"),p(l,"class","svelte-1q3eeoi"),p(o,"class","gender-f svelte-1q3eeoi"),$(o,"width",t[11][t[17]].nodesFPercent+"%"),ue(o,"visible",t[4]),p(m,"class","svelte-1q3eeoi"),p(d,"class","gender-m svelte-1q3eeoi"),$(d,"width",t[11][t[17]].nodesMPercent+"%"),ue(d,"visible",t[3]),p(s,"class","gender-bar svelte-1q3eeoi"),p(r,"class","bar-wrapper svelte-1q3eeoi"),ue(r,"visible",t[2]),p(T,"class","svelte-1q3eeoi"),p(B,"class","svelte-1q3eeoi"),p(R,"class","relType-ff svelte-1q3eeoi"),$(R,"width",t[11][t[17]].linksFFPercent+"%"),ue(R,"visible",t[7]),p(G,"class","svelte-1q3eeoi"),p(V,"class","relType-mm svelte-1q3eeoi"),$(V,"width",t[11][t[17]].linksMMPercent+"%"),ue(V,"visible",t[6]),p(Pe,"class","svelte-1q3eeoi"),p(_e,"class","relType-fm svelte-1q3eeoi"),$(_e,"width",t[11][t[17]].linksFMPercent+"%"),ue(_e,"visible",t[8]),p(W,"class","relType-bar svelte-1q3eeoi"),p(b,"class","bar-wrapper svelte-1q3eeoi"),ue(b,"visible",t[5]),p(e,"class","bars svelte-1q3eeoi")},m(be,Ee){N(be,e,Ee),k(e,r),k(r,n),k(r,i),k(r,s),k(s,o),k(o,l),k(l,f),k(l,h),k(s,u),k(s,d),k(d,m),k(m,_),k(m,v),k(e,w),k(e,b),k(b,T),k(b,F),k(b,W),k(W,R),k(R,B),k(B,I),k(B,H),k(W,O),k(W,V),k(V,G),k(G,ee),k(G,he),k(W,ge),k(W,_e),k(_e,Pe),k(Pe,De),k(Pe,je)},p(be,Ee){Ee&16&&ue(o,"visible",be[4]),Ee&8&&ue(d,"visible",be[3]),Ee&4&&ue(r,"visible",be[2]),Ee&128&&ue(R,"visible",be[7]),Ee&64&&ue(V,"visible",be[6]),Ee&256&&ue(_e,"visible",be[8]),Ee&32&&ue(b,"visible",be[5])},d(be){be&&y(e)}}}function cl(t){let e,r,n=t[18].fandom+"",a,i,s,o,l,c,f=t[1]&&ll(t);return o=new hp({props:{fandom:t[18],scrollIndex:t[0]}}),{c(){e=M("div"),r=M("h3"),a=Y(n),i=L(),f&&f.c(),s=L(),K(o.$$.fragment),l=L(),this.h()},l(h){e=C(h,"DIV",{class:!0});var u=E(e);r=C(u,"H3",{class:!0});var d=E(r);a=Q(d,n),d.forEach(y),i=j(u),f&&f.l(u),s=j(u),J(o.$$.fragment,u),l=j(u),u.forEach(y),this.h()},h(){p(r,"class","svelte-1q3eeoi"),p(e,"class","fandom-wrapper svelte-1q3eeoi")},m(h,u){N(h,e,u),k(e,r),k(r,a),k(e,i),f&&f.m(e,null),k(e,s),x(o,e,null),k(e,l),c=!0},p(h,u){h[1]?f?f.p(h,u):(f=ll(h),f.c(),f.m(e,s)):f&&(f.d(1),f=null);const d={};u&1&&(d.scrollIndex=h[0]),o.$set(d)},i(h){c||(S(o.$$.fragment,h),c=!0)},o(h){D(o.$$.fragment,h),c=!1},d(h){h&&y(e),f&&f.d(),U(o)}}}function fl(t){let e,r,n,a=t[15].value+"",i;return{c(){e=M("div"),r=M("p"),n=new Gn(!1),i=L(),this.h()},l(s){e=C(s,"DIV",{class:!0});var o=E(e);r=C(o,"P",{class:!0});var l=E(r);n=Kn(l,!1),l.forEach(y),i=j(o),o.forEach(y),this.h()},h(){n.a=null,p(r,"class","svelte-1q3eeoi"),p(e,"class","step svelte-1q3eeoi")},m(s,o){N(s,e,o),k(e,r),n.m(a,r),k(e,i)},p:re,d(s){s&&y(e)}}}function dp(t){let e,r=Z(t[9].slashNetworkSlides),n=[];for(let a=0;a<r.length;a+=1)n[a]=fl(sl(t,r,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=X()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=X()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);N(a,e,i)},p(a,i){if(i&512){r=Z(a[9].slashNetworkSlides);let s;for(s=0;s<r.length;s+=1){const o=sl(a,r,s);n[s]?n[s].p(o,i):(n[s]=fl(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(a){a&&y(e),me(n,a)}}}function mp(t){let e,r,n,a,i,s,o,l,c,f,h,u;a=new $e({props:{title:"TKTK"}});let d=Z(t[10]),m=[];for(let w=0;w<d.length;w+=1)m[w]=cl(ol(t,d,w));const g=w=>D(m[w],1,1,()=>{m[w]=null});function _(w){t[12](w)}let v={$$slots:{default:[dp]},$$scope:{ctx:t}};return t[0]!==void 0&&(v.value=t[0]),l=new gi({props:v}),ht.push(()=>oi(l,"value",_)),{c(){e=M("section"),r=M("div"),n=M("div"),K(a.$$.fragment),i=L(),s=M("div");for(let w=0;w<m.length;w+=1)m[w].c();o=L(),K(l.$$.fragment),f=L(),h=M("div"),this.h()},l(w){e=C(w,"SECTION",{id:!0});var b=E(e);r=C(b,"DIV",{class:!0});var T=E(r);n=C(T,"DIV",{class:!0});var P=E(n);J(a.$$.fragment,P),i=j(P),s=C(P,"DIV",{class:!0});var F=E(s);for(let W=0;W<m.length;W+=1)m[W].l(F);F.forEach(y),P.forEach(y),T.forEach(y),o=j(b),J(l.$$.fragment,b),f=j(b),h=C(b,"DIV",{class:!0}),E(h).forEach(y),b.forEach(y),this.h()},h(){p(s,"class","viz-wrapper svelte-1q3eeoi"),p(n,"class","chart-wrapper svelte-1q3eeoi"),p(r,"class","sticky svelte-1q3eeoi"),p(h,"class","spacer svelte-1q3eeoi"),p(e,"id","scrolly")},m(w,b){N(w,e,b),k(e,r),k(r,n),x(a,n,null),k(n,i),k(n,s);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(s,null);k(e,o),x(l,e,null),k(e,f),k(e,h),u=!0},p(w,[b]){if(b&3583){d=Z(w[10]);let P;for(P=0;P<d.length;P+=1){const F=ol(w,d,P);m[P]?(m[P].p(F,b),S(m[P],1)):(m[P]=cl(F),m[P].c(),S(m[P],1),m[P].m(s,null))}for(te(),P=d.length;P<m.length;P+=1)g(P);ne()}const T={};b&1048576&&(T.$$scope={dirty:b,ctx:w}),!c&&b&1&&(c=!0,T.value=w[0],ii(()=>c=!1)),l.$set(T)},i(w){if(!u){S(a.$$.fragment,w);for(let b=0;b<d.length;b+=1)S(m[b]);S(l.$$.fragment,w),u=!0}},o(w){D(a.$$.fragment,w),m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)D(m[b]);D(l.$$.fragment,w),u=!1},d(w){w&&y(e),U(a),me(m,w),U(l)}}}function pp(t,e,r){const n=st("copy"),a=[{fandom:"Harry Potter",dataUrl:"./assets/data/SLASH/networkHP.json"},{fandom:"Marvel Cinematic Universe",dataUrl:"./assets/data/SLASH/networkMCU.json"}];let i,s=[],o=!1,l=!1,c=!1,f=!1,h=!1,u=!1,d=!1,m=!1;it(async function(){let w=await Za("./assets/data/SLASH/networkHP.json"),b=await Za("./assets/data/SLASH/networkMCU.json");g(w,"Harry Potter"),g(b,"Marvel Cinematic Universe"),r(1,o=!0),Se(".span-hp-nodesCount").text(s[0].nodesCount),Se(".span-mcu-nodesCount").text(s[1].nodesCount),Se(".span-hp-mCount").text(Math.round(s[0].nodesMPercent)),Se(".span-mcu-mCount").text(Math.round(s[1].nodesMPercent)),Se(".span-hp-fCount").text(Math.round(s[0].nodesFPercent)),Se(".span-mcu-fCount").text(Math.round(s[1].nodesFPercent)),Se(".span-hp-mmCount").text(Math.round(s[0].linksMMPercent)),Se(".span-mcu-mmCount").text(Math.round(s[1].linksMMPercent)),Se(".span-hp-ffCount").text(Math.round(s[0].linksFFPercent)),Se(".span-mcu-ffCount").text(Math.round(s[1].linksFFPercent)),Se(".span-hp-fmCount").text(Math.round(s[0].linksFMPercent)),Se(".span-mcu-fmCount").text(Math.round(s[1].linksFMPercent))});function g(w,b){const T=w.nodes.length,P=w.nodes.filter(_e=>_e.gender=="M").length,F=w.nodes.filter(_e=>_e.gender=="F").length,W=w.nodes.filter(_e=>_e.gender=="Other").length,R=P/T*100,B=F/T*100,z=W/T*100,I=w.links.length,H=w.links.filter(_e=>_e.relType=="M/M").length,O=w.links.filter(_e=>_e.relType=="F/F").length,V=w.links.filter(_e=>_e.relType=="F/M").length,G=w.links.filter(_e=>_e.relType=="Other").length,le=H/I*100,ee=O/I*100,he=V/I*100,ge=G/I*100;s.push({fandom:b,nodesCount:T,nodesMPercent:R,nodesFPercent:B,nodesOtherPercent:z,linksCount:I,linksMMPercent:le,linksFFPercent:ee,linksFMPercent:he,linksOtherPercent:ge})}function _(w){r(2,l=w>0),r(4,f=w>0),r(3,c=w>1),r(5,h=w>3),r(7,d=w>3),r(6,u=w>4),r(8,m=w>5)}function v(w){i=w,r(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&_(i)},[i,o,l,c,f,h,u,d,m,n,a,s,v]}class gp extends ie{constructor(e){super(),se(this,e,pp,mp,ae,{})}}function _p(t){let e,r,n,a,i=t[0]=="stackedBarTable"&&ul(t),s=t[0]=="pictogram"&&dl(t),o=t[0]=="demographics"&&pl(t);return{c(){e=M("div"),i&&i.c(),r=L(),s&&s.c(),n=L(),o&&o.c(),this.h()},l(l){e=C(l,"DIV",{class:!0});var c=E(e);i&&i.l(c),r=j(c),s&&s.l(c),n=j(c),o&&o.l(c),c.forEach(y),this.h()},h(){p(e,"class","chart-wrapper svelte-171gkm2")},m(l,c){N(l,e,c),i&&i.m(e,null),k(e,r),s&&s.m(e,null),k(e,n),o&&o.m(e,null),a=!0},p(l,c){l[0]=="stackedBarTable"?i?(i.p(l,c),c&1&&S(i,1)):(i=ul(l),i.c(),S(i,1),i.m(e,r)):i&&(te(),D(i,1,1,()=>{i=null}),ne()),l[0]=="pictogram"?s?(s.p(l,c),c&1&&S(s,1)):(s=dl(l),s.c(),S(s,1),s.m(e,n)):s&&(te(),D(s,1,1,()=>{s=null}),ne()),l[0]=="demographics"?o?(o.p(l,c),c&1&&S(o,1)):(o=pl(l),o.c(),S(o,1),o.m(e,null)):o&&(te(),D(o,1,1,()=>{o=null}),ne())},i(l){a||(S(i),S(s),S(o),a=!0)},o(l){D(i),D(s),D(o),a=!1},d(l){l&&y(e),i&&i.d(),s&&s.d(),o&&o.d()}}}function yp(t){let e,r;return e=new gp({props:{id:t[1]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&2&&(i.id=n[1]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function vp(t){let e,r;return e=new X1({props:{id:t[1]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&2&&(i.id=n[1]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function ul(t){let e,r,n,a=t[2]&&hl(t);return r=new q1({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=hl(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function hl(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function dl(t){let e,r,n,a=t[2]&&ml(t);return r=new rp({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=ml(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function ml(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function pl(t){let e,r,n,a=t[2]&&gl(t);return r=new cp({props:{id:t[1]}}),{c(){a&&a.c(),e=L(),K(r.$$.fragment)},l(i){a&&a.l(i),e=j(i),J(r.$$.fragment,i)},m(i,s){a&&a.m(i,s),N(i,e,s),x(r,i,s),n=!0},p(i,s){i[2]?a?(a.p(i,s),s&4&&S(a,1)):(a=gl(i),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(te(),D(a,1,1,()=>{a=null}),ne());const o={};s&2&&(o.id=i[1]),r.$set(o)},i(i){n||(S(a),S(r.$$.fragment,i),n=!0)},o(i){D(a),D(r.$$.fragment,i),n=!1},d(i){i&&y(e),a&&a.d(i),U(r,i)}}}function gl(t){let e,r;return e=new $e({props:{title:t[2]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.title=n[2]),e.$set(i)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function wp(t){let e,r,n,a;const i=[vp,yp,_p],s=[];function o(l,c){return l[0]=="scroll"?0:l[0]=="network"?1:2}return e=o(t),r=s[e]=i[e](t),{c(){r.c(),n=X()},l(l){r.l(l),n=X()},m(l,c){s[e].m(l,c),N(l,n,c),a=!0},p(l,[c]){let f=e;e=o(l),e===f?s[e].p(l,c):(te(),D(s[f],1,1,()=>{s[f]=null}),ne(),r=s[e],r?r.p(l,c):(r=s[e]=i[e](l),r.c()),S(r,1),r.m(n.parentNode,n))},i(l){a||(S(r),a=!0)},o(l){D(r),a=!1},d(l){l&&y(n),s[e].d(l)}}}function bp(t,e,r){let{chartType:n}=e,{id:a}=e,{title:i}=e,{chunk:s}=e;return t.$$set=o=>{"chartType"in o&&r(0,n=o.chartType),"id"in o&&r(1,a=o.id),"title"in o&&r(2,i=o.title),"chunk"in o&&r(3,s=o.chunk)},[n,a,i,s]}class kp extends ie{constructor(e){super(),se(this,e,bp,wp,ae,{chartType:0,id:1,title:2,chunk:3})}}function _l(t,e,r){const n=t.slice();return n[4]=e[r],n[6]=r,n}function Tp(t){let e,r,n=Z(t[2]),a=[];for(let s=0;s<n.length;s+=1)a[s]=yl(_l(t,n,s));const i=s=>D(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=X()},l(s){for(let o=0;o<a.length;o+=1)a[o].l(s);e=X()},m(s,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(s,o);N(s,e,o),r=!0},p(s,o){if(o&4){n=Z(s[2]);let l;for(l=0;l<n.length;l+=1){const c=_l(s,n,l);a[l]?(a[l].p(c,o),S(a[l],1)):(a[l]=yl(c),a[l].c(),S(a[l],1),a[l].m(e.parentNode,e))}for(te(),l=n.length;l<a.length;l+=1)i(l);ne()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)S(a[o]);r=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)D(a[o]);r=!1},d(s){s&&y(e),me(a,s)}}}function Mp(t){let e,r,n,a;return r=new kp({props:{chunk:t[4],chartType:t[4].chartType,id:t[4].id,title:t[4].title}}),{c(){e=M("div"),K(r.$$.fragment),n=L(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);J(r.$$.fragment,s),n=j(s),s.forEach(y),this.h()},h(){p(e,"class","full-chart svelte-1w5uapc")},m(i,s){N(i,e,s),x(r,e,null),k(e,n),a=!0},p:re,i(i){a||(S(r.$$.fragment,i),a=!0)},o(i){D(r.$$.fragment,i),a=!1},d(i){i&&y(e),U(r)}}}function Cp(t){let e,r,n,a;return r=new Hn({props:{chunk:t[4],chartType:t[4].chartType,id:t[4].id,title:t[4].title}}),{c(){e=M("div"),K(r.$$.fragment),n=L(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);J(r.$$.fragment,s),n=j(s),s.forEach(y),this.h()},h(){p(e,"class","inline-chart svelte-1w5uapc")},m(i,s){N(i,e,s),x(r,e,null),k(e,n),a=!0},p:re,i(i){a||(S(r.$$.fragment,i),a=!0)},o(i){D(r.$$.fragment,i),a=!1},d(i){i&&y(e),U(r)}}}function Sp(t){let e,r;return e=new I1({props:{copy:t[4]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p:re,i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function Pp(t){let e,r,n,a;return r=new A1({props:{copy:t[4].hed}}),{c(){e=M("div"),K(r.$$.fragment),n=L(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);J(r.$$.fragment,s),n=j(s),s.forEach(y),this.h()},h(){p(e,"class","hed svelte-1w5uapc")},m(i,s){N(i,e,s),x(r,e,null),k(e,n),a=!0},p:re,i(i){a||(S(r.$$.fragment,i),a=!0)},o(i){D(r.$$.fragment,i),a=!1},d(i){i&&y(e),U(r)}}}function Ep(t){let e,r,n,a;return r=new rc({props:{copy:t[4].text}}),{c(){e=M("div"),K(r.$$.fragment),n=L(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);J(r.$$.fragment,s),n=j(s),s.forEach(y),this.h()},h(){p(e,"class","prose svelte-1w5uapc")},m(i,s){N(i,e,s),x(r,e,null),k(e,n),a=!0},p:re,i(i){a||(S(r.$$.fragment,i),a=!0)},o(i){D(r.$$.fragment,i),a=!1},d(i){i&&y(e),U(r)}}}function Ap(t){let e,r,n,a;return r=new C1({props:{copy:t[4]}}),{c(){e=M("div"),K(r.$$.fragment),n=L(),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=E(e);J(r.$$.fragment,s),n=j(s),s.forEach(y),this.h()},h(){p(e,"class","opening-ship svelte-1w5uapc")},m(i,s){N(i,e,s),x(r,e,null),k(e,n),a=!0},p:re,i(i){a||(S(r.$$.fragment,i),a=!0)},o(i){D(r.$$.fragment,i),a=!1},d(i){i&&y(e),U(r)}}}function yl(t){let e,r,n,a;const i=[Ap,Ep,Pp,Sp,Cp,Mp],s=[];function o(l,c){return l[4].contentType=="openingShip"?0:l[4].contentType=="prose"?1:l[4].contentType=="hed"?2:l[4].contentType=="quote"?3:l[4].contentType=="inlineChart"?4:l[4].contentType=="fullChart"?5:-1}return~(e=o(t))&&(r=s[e]=i[e](t)),{c(){r&&r.c(),n=X()},l(l){r&&r.l(l),n=X()},m(l,c){~e&&s[e].m(l,c),N(l,n,c),a=!0},p(l,c){r&&r.p(l,c)},i(l){a||(S(r),a=!0)},o(l){D(r),a=!1},d(l){l&&y(n),~e&&s[e].d(l)}}}function Fp(t){let e,r,n,a=t[2]!==void 0&&Tp(t);return{c(){e=M("section"),a&&a.c(),this.h()},l(i){e=C(i,"SECTION",{id:!0,class:!0});var s=E(e);a&&a.l(s),s.forEach(y),this.h()},h(){p(e,"id",r=t[0]+"-slide"),p(e,"class","svelte-1w5uapc"),ue(e,"isActive",t[1])},m(i,s){N(i,e,s),a&&a.m(e,null),n=!0},p(i,[s]){i[2]!==void 0&&a.p(i,s),(!n||s&1&&r!==(r=i[0]+"-slide"))&&p(e,"id",r),(!n||s&2)&&ue(e,"isActive",i[1])},i(i){n||(S(a),n=!0)},o(i){D(a),n=!1},d(i){i&&y(e),a&&a.d()}}}function Dp(t,e,r){let n,a;q(t,kt,o=>r(3,a=o));let{section:i}=e,s=Ae[i];return t.$$set=o=>{"section"in o&&r(0,i=o.section)},t.$$.update=()=>{t.$$.dirty&9&&r(1,n=a==i)},[i,n,s,a]}class Np extends ie{constructor(e){super(),se(this,e,Dp,Fp,ae,{section:0})}}const vl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function wl(t,e,r){const n=t.slice();return n[10]=e[r][0],n[11]=e[r][1],n}function Ga(t){let e,r=[t[11]],n={};for(let a=0;a<r.length;a+=1)n=Ze(n,r[a]);return{c(){e=ke(t[10]),this.h()},l(a){e=Te(a,t[10],{}),E(e).forEach(y),this.h()},h(){Xr(e,n)},m(a,i){N(a,e,i)},p(a,i){Xr(e,n=ca(r,[i&32&&a[11]]))},d(a){a&&y(e)}}}function bl(t){let e=t[10],r,n=t[10]&&Ga(t);return{c(){n&&n.c(),r=X()},l(a){n&&n.l(a),r=X()},m(a,i){n&&n.m(a,i),N(a,r,i)},p(a,i){a[10]?e?ae(e,a[10])?(n.d(1),n=Ga(a),e=a[10],n.c(),n.m(r.parentNode,r)):n.p(a,i):(n=Ga(a),e=a[10],n.c(),n.m(r.parentNode,r)):e&&(n.d(1),n=null,e=a[10])},d(a){a&&y(r),n&&n.d(a)}}}function Rp(t){let e,r,n,a,i,s=Z(t[5]),o=[];for(let u=0;u<s.length;u+=1)o[u]=bl(wl(t,s,u));const l=t[9].default,c=qe(l,t,t[8],null);let f=[vl,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:a=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],h={};for(let u=0;u<f.length;u+=1)h=Ze(h,f[u]);return{c(){e=ke("svg");for(let u=0;u<o.length;u+=1)o[u].c();r=X(),c&&c.c(),this.h()},l(u){e=Te(u,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var d=E(e);for(let m=0;m<o.length;m+=1)o[m].l(d);r=X(),c&&c.l(d),d.forEach(y),this.h()},h(){Xr(e,h)},m(u,d){N(u,e,d);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(e,null);k(e,r),c&&c.m(e,null),i=!0},p(u,[d]){if(d&32){s=Z(u[5]);let m;for(m=0;m<s.length;m+=1){const g=wl(u,s,m);o[m]?o[m].p(g,d):(o[m]=bl(g),o[m].c(),o[m].m(e,r))}for(;m<o.length;m+=1)o[m].d(1);o.length=s.length}c&&c.p&&(!i||d&256)&&Ge(c,l,u,u[8],i?xe(l,u[8],d,null):Ke(u[8]),null),Xr(e,h=ca(f,[vl,d&64&&u[6],(!i||d&4)&&{width:u[2]},(!i||d&4)&&{height:u[2]},(!i||d&2)&&{stroke:u[1]},(!i||d&28&&n!==(n=u[4]?Number(u[3])*24/Number(u[2]):u[3]))&&{"stroke-width":n},(!i||d&129&&a!==(a=`lucide-icon lucide lucide-${u[0]} ${u[7].class??""}`))&&{class:a}]))},i(u){i||(S(c,u),i=!0)},o(u){D(c,u),i=!1},d(u){u&&y(e),me(o,u),c&&c.d(u)}}}function Ip(t,e,r){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let a=Ci(e,n),{$$slots:i={},$$scope:s}=e,{name:o}=e,{color:l="currentColor"}=e,{size:c=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:h=!1}=e,{iconNode:u}=e;return t.$$set=d=>{r(7,e=Ze(Ze({},e),pn(d))),r(6,a=Ci(e,n)),"name"in d&&r(0,o=d.name),"color"in d&&r(1,l=d.color),"size"in d&&r(2,c=d.size),"strokeWidth"in d&&r(3,f=d.strokeWidth),"absoluteStrokeWidth"in d&&r(4,h=d.absoluteStrokeWidth),"iconNode"in d&&r(5,u=d.iconNode),"$$scope"in d&&r(8,s=d.$$scope)},e=pn(e),[o,l,c,f,h,u,a,e,s,i]}class zp extends ie{constructor(e){super(),se(this,e,Ip,Rp,ae,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const hc=zp;function Bp(t){let e;const r=t[2].default,n=qe(r,t,t[3],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,i){n&&n.m(a,i),e=!0},p(a,i){n&&n.p&&(!e||i&8)&&Ge(n,r,a,a[3],e?xe(r,a[3],i,null):Ke(a[3]),null)},i(a){e||(S(n,a),e=!0)},o(a){D(n,a),e=!1},d(a){n&&n.d(a)}}}function Vp(t){let e,r;const n=[{name:"chevron-left"},t[1],{iconNode:t[0]}];let a={$$slots:{default:[Bp]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)a=Ze(a,n[i]);return e=new hc({props:a}),{c(){K(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,s){x(e,i,s),r=!0},p(i,[s]){const o=s&3?ca(n,[n[0],s&2&&Bl(i[1]),s&1&&{iconNode:i[0]}]):{};s&8&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){r||(S(e.$$.fragment,i),r=!0)},o(i){D(e.$$.fragment,i),r=!1},d(i){U(e,i)}}}function Wp(t,e,r){let{$$slots:n={},$$scope:a}=e;const i=[["path",{d:"m15 18-6-6 6-6"}]];return t.$$set=s=>{r(1,e=Ze(Ze({},e),pn(s))),"$$scope"in s&&r(3,a=s.$$scope)},e=pn(e),[i,e,n,a]}class Lp extends ie{constructor(e){super(),se(this,e,Wp,Vp,ae,{})}}const jp=Lp;function Op(t){let e;const r=t[2].default,n=qe(r,t,t[3],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,i){n&&n.m(a,i),e=!0},p(a,i){n&&n.p&&(!e||i&8)&&Ge(n,r,a,a[3],e?xe(r,a[3],i,null):Ke(a[3]),null)},i(a){e||(S(n,a),e=!0)},o(a){D(n,a),e=!1},d(a){n&&n.d(a)}}}function Hp(t){let e,r;const n=[{name:"chevron-right"},t[1],{iconNode:t[0]}];let a={$$slots:{default:[Op]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)a=Ze(a,n[i]);return e=new hc({props:a}),{c(){K(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,s){x(e,i,s),r=!0},p(i,[s]){const o=s&3?ca(n,[n[0],s&2&&Bl(i[1]),s&1&&{iconNode:i[0]}]):{};s&8&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(i){r||(S(e.$$.fragment,i),r=!0)},o(i){D(e.$$.fragment,i),r=!1},d(i){U(e,i)}}}function qp(t,e,r){let{$$slots:n={},$$scope:a}=e;const i=[["path",{d:"m9 18 6-6-6-6"}]];return t.$$set=s=>{r(1,e=Ze(Ze({},e),pn(s))),"$$scope"in s&&r(3,a=s.$$scope)},e=pn(e),[i,e,n,a]}class Gp extends ie{constructor(e){super(),se(this,e,qp,Hp,ae,{})}}const Kp=Gp;function kl(t,e,r){const n=t.slice();return n[19]=e[r],n}function xp(t){let e,r=t[9].includes(t[19]),n,a,i,s,o,l,c,f=r&&Tl(t);return{c(){e=M("button"),f&&f.c(),n=L(),this.h()},l(h){e=C(h,"BUTTON",{"aria-label":!0,class:!0});var u=E(e);f&&f.l(u),n=j(u),u.forEach(y),this.h()},h(){p(e,"aria-label",a=t[19]),p(e,"class",i=t[19]+" "+t[7]+" svelte-1b4hydr"),e.disabled=s=t[2].includes(t[19]),ue(e,"full",t[1])},m(h,u){N(h,e,u),f&&f.m(e,null),k(e,n),o=!0,l||(c=de(e,"click",function(){si(t[12]("tap",t[19]))&&t[12]("tap",t[19]).apply(this,arguments)}),l=!0)},p(h,u){t=h,u&520&&(r=t[9].includes(t[19])),r?f?(f.p(t,u),u&520&&S(f,1)):(f=Tl(t),f.c(),S(f,1),f.m(e,n)):f&&(te(),D(f,1,1,()=>{f=null}),ne()),(!o||u&8&&a!==(a=t[19]))&&p(e,"aria-label",a),(!o||u&136&&i!==(i=t[19]+" "+t[7]+" svelte-1b4hydr"))&&p(e,"class",i),(!o||u&12&&s!==(s=t[2].includes(t[19])))&&(e.disabled=s),(!o||u&138)&&ue(e,"full",t[1])},i(h){o||(S(f),o=!0)},o(h){D(f),o=!1},d(h){h&&y(e),f&&f.d(),l=!1,c()}}}function Up(t){let e,r=t[9].includes(t[19]),n,a,i,s,o,l,c,f=r&&Ml(t);return{c(){e=M("button"),f&&f.c(),n=L(),this.h()},l(h){e=C(h,"BUTTON",{"aria-label":!0,class:!0});var u=E(e);f&&f.l(u),n=j(u),u.forEach(y),this.h()},h(){p(e,"aria-label",a=t[19]),p(e,"class",i=t[19]+" "+t[7]+" svelte-1b4hydr"),e.disabled=s=t[2].includes(t[19]),ue(e,"full",t[1])},m(h,u){N(h,e,u),f&&f.m(e,null),k(e,n),o=!0,l||(c=de(e,"click",function(){si(t[12]("tap",t[19]))&&t[12]("tap",t[19]).apply(this,arguments)}),l=!0)},p(h,u){t=h,u&520&&(r=t[9].includes(t[19])),r?f?(f.p(t,u),u&520&&S(f,1)):(f=Ml(t),f.c(),S(f,1),f.m(e,n)):f&&(te(),D(f,1,1,()=>{f=null}),ne()),(!o||u&8&&a!==(a=t[19]))&&p(e,"aria-label",a),(!o||u&136&&i!==(i=t[19]+" "+t[7]+" svelte-1b4hydr"))&&p(e,"class",i),(!o||u&12&&s!==(s=t[2].includes(t[19])))&&(e.disabled=s),(!o||u&138)&&ue(e,"full",t[1])},i(h){o||(S(f),o=!0)},o(h){D(f),o=!1},d(h){h&&y(e),f&&f.d(),l=!1,c()}}}function Tl(t){let e,r,n;return r=new Kp({props:{color:t[5],strokeWidth:t[6],size:"2rem"}}),{c(){e=M("span"),K(r.$$.fragment),this.h()},l(a){e=C(a,"SPAN",{style:!0,class:!0});var i=E(e);J(r.$$.fragment,i),i.forEach(y),this.h()},h(){$(e,"font-size",t[4]),p(e,"class","svelte-1b4hydr")},m(a,i){N(a,e,i),x(r,e,null),n=!0},p(a,i){const s={};i&32&&(s.color=a[5]),i&64&&(s.strokeWidth=a[6]),r.$set(s),(!n||i&16)&&$(e,"font-size",a[4])},i(a){n||(S(r.$$.fragment,a),n=!0)},o(a){D(r.$$.fragment,a),n=!1},d(a){a&&y(e),U(r)}}}function Ml(t){let e,r,n;return r=new jp({props:{color:t[5],strokeWidth:t[6],size:"2rem"}}),{c(){e=M("span"),K(r.$$.fragment),this.h()},l(a){e=C(a,"SPAN",{style:!0,class:!0});var i=E(e);J(r.$$.fragment,i),i.forEach(y),this.h()},h(){$(e,"font-size",t[4]),p(e,"class","svelte-1b4hydr")},m(a,i){N(a,e,i),x(r,e,null),n=!0},p(a,i){const s={};i&32&&(s.color=a[5]),i&64&&(s.strokeWidth=a[6]),r.$set(s),(!n||i&16)&&$(e,"font-size",a[4])},i(a){n||(S(r.$$.fragment,a),n=!0)},o(a){D(r.$$.fragment,a),n=!1},d(a){a&&y(e),U(r)}}}function Cl(t){let e,r,n,a;const i=[Up,xp],s=[];function o(l,c){return l[19]=="left"&&l[11]!=="slash"?0:l[19]=="right"&&l[11]!=="realpeople"?1:-1}return~(e=o(t))&&(r=s[e]=i[e](t)),{c(){r&&r.c(),n=X()},l(l){r&&r.l(l),n=X()},m(l,c){~e&&s[e].m(l,c),N(l,n,c),a=!0},p(l,c){let f=e;e=o(l),e===f?~e&&s[e].p(l,c):(r&&(te(),D(s[f],1,1,()=>{s[f]=null}),ne()),~e?(r=s[e],r?r.p(l,c):(r=s[e]=i[e](l),r.c()),S(r,1),r.m(n.parentNode,n)):r=null)},i(l){a||(S(r),a=!0)},o(l){D(r),a=!1},d(l){l&&y(n),~e&&s[e].d(l)}}}function Jp(t){let e,r,n,a;we(t[16]);let i=Z(t[3]),s=[];for(let l=0;l<i.length;l+=1)s[l]=Cl(kl(t,i,l));const o=l=>D(s[l],1,1,()=>{s[l]=null});return{c(){e=M("section");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=C(l,"SECTION",{class:!0});var c=E(e);for(let f=0;f<s.length;f+=1)s[f].l(c);c.forEach(y),this.h()},h(){p(e,"class","svelte-1b4hydr"),ue(e,"debug",t[0])},m(l,c){N(l,e,c);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);r=!0,n||(a=[de(window,"keydown",function(){si(t[10])&&t[10].apply(this,arguments)}),de(window,"resize",t[16])],n=!0)},p(l,[c]){if(t=l,c&6910){i=Z(t[3]);let f;for(f=0;f<i.length;f+=1){const h=kl(t,i,f);s[f]?(s[f].p(h,c),S(s[f],1)):(s[f]=Cl(h),s[f].c(),S(s[f],1),s[f].m(e,null))}for(te(),f=i.length;f<s.length;f+=1)o(f);ne()}(!r||c&1)&&ue(e,"debug",t[0])},i(l){if(!r){for(let c=0;c<i.length;c+=1)S(s[c]);r=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)D(s[c]);r=!1},d(l){l&&y(e),me(s,l),n=!1,Ie(a)}}}function Yp(t,e,r){let n,a,i;q(t,kt,T=>r(11,i=T));let{debug:s=!1}=e,{enableKeyboard:o=!1}=e,{full:l=!1}=e,{showArrows:c=!1}=e,{disable:f=[]}=e,{directions:h=["left","right"]}=e,{size:u="64px"}=e,{arrowSize:d="48px"}=e,{arrowStroke:m="#000"}=e,{arrowStrokeWidth:g="2"}=e,{arrowPosition:_="center"}=e;const v=Nl();let w;function b(){r(8,w=window.innerHeight)}return t.$$set=T=>{"debug"in T&&r(0,s=T.debug),"enableKeyboard"in T&&r(13,o=T.enableKeyboard),"full"in T&&r(1,l=T.full),"showArrows"in T&&r(14,c=T.showArrows),"disable"in T&&r(2,f=T.disable),"directions"in T&&r(3,h=T.directions),"size"in T&&r(15,u=T.size),"arrowSize"in T&&r(4,d=T.arrowSize),"arrowStroke"in T&&r(5,m=T.arrowStroke),"arrowStrokeWidth"in T&&r(6,g=T.arrowStrokeWidth),"arrowPosition"in T&&r(7,_=T.arrowPosition)},t.$$.update=()=>{t.$$.dirty&32770,t.$$.dirty&32770,t.$$.dirty&8200&&r(10,n=T=>{const P=T.key.replace("Arrow","").toLowerCase(),F=h.includes(P);o&&F&&(T.preventDefault(),v("tap",P))}),t.$$.dirty&16392&&r(9,a=h.filter(T=>typeof c=="boolean"?c:c.includes(T)))},[s,l,f,h,d,m,g,_,w,a,n,i,v,o,c,u,b]}class Qp extends ie{constructor(e){super(),se(this,e,Yp,Jp,ae,{debug:0,enableKeyboard:13,full:1,showArrows:14,disable:2,directions:3,size:15,arrowSize:4,arrowStroke:5,arrowStrokeWidth:6,arrowPosition:7})}}const Zp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.6 50"><path class="st0" d="M150.1 9.5c1.5 0 2.8 1.3 2.8 2.8s-1.3 2.8-2.8 2.8-2.8-1.3-2.8-2.8 1.3-2.8 2.8-2.8zM147.2 17.3h5.6v18.2h-5.6V17.3zM77.1 9.5h-8.9v26h5.6v-8.1h3.3c4.9 0 8.9-4 8.9-8.9s-3.9-9-8.9-9zm0 12.3h-3.3v-6.6h3.3c1.8 0 3.3 1.5 3.3 3.3s-1.4 3.3-3.3 3.3zM105.7 17.6h-5.6v8.9c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3v-8.9h-5.6v8.9c0 4.9 4 8.9 8.9 8.9s8.9-4 8.9-8.9v-8.9zM164.1 17.6c-4.9 0-8.9 4-8.9 8.9v8.9h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM119.7 16.2v1.4h-3.3c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4zM139.3 16.2v1.4H136c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8H136c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4h.1zM183.7 17.6c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h3.3v5.1c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3V38l-5.6 3.3c.4 4.5 4.2 8.1 8.9 8.1 4.9 0 8.9-4 8.9-8.9V17.6h-8.9zm3.3 5.8V30h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3zM28.6 17.6c-1.2 0-2.3.2-3.3.6V9.5l-5.6 3.3v22.6h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM17.8 9.5H0v5.6h6.1v20.3h5.6V15.1h6.1V9.5zM48.3 30.2c-.4 0-1.2-.1-1.8-.4l5.2-2.1 5.6-2.3-1-2.3-.1-.2c-.1-.3-.3-.6-.5-1-.1-.1-.1-.2-.2-.3 0 0 0-.1-.1-.1l-.1-.1-.1-.1c-1.6-2.2-4-3.5-6.7-3.7h-.6c-4.9 0-8.9 4-8.9 8.9 0 .4 0 .9.1 1.4V28.2c0 .3.1.5.2.8v.2c.1.3.2.7.4 1v.2c.1.3.3.5.4.8 0 .1.1.1.1.2.1.2.3.4.4.6v.1s0 .1.1.1l.1.1c1.7 2.1 4.4 3.4 7.2 3.4h6.1v-5.2c.4-.3-3.5-.3-5.8-.3zm7.9-7.3zm-11.6 2.8l-.2.1c.2-1.9 1.8-3.5 3.7-3.5.9 0 1.8.4 2.4.9L46.2 25l-1.6.7z"/></svg>';function Sl(t,e,r){const n=t.slice();return n[5]=e[r],n}function Pl(t,e,r){const n=t.slice();n[8]=e[r].hed,n[2]=e[r].url,n[9]=e[r].image;const a=n[2].startsWith("http")?n[2]:`https://pudding.cool/${n[2]}`;return n[10]=a,n}function El(t){let e,r,n,a,i,s,o=t[8]+"",l,c,f;return{c(){e=M("div"),r=M("a"),n=M("img"),i=L(),s=M("span"),l=Y(o),f=L(),this.h()},l(h){e=C(h,"DIV",{class:!0});var u=E(e);r=C(u,"A",{href:!0,class:!0});var d=E(r);n=C(d,"IMG",{src:!0,alt:!0}),i=j(d),s=C(d,"SPAN",{class:!0});var m=E(s);l=Q(m,o),m.forEach(y),d.forEach(y),f=j(u),u.forEach(y),this.h()},h(){Re(n.src,a="https://pudding.cool/common/assets/thumbnails/640/"+t[9]+".jpg")||p(n,"src",a),p(n,"alt","thumbnail"),p(s,"class","svelte-13ez18p"),p(r,"href",c=t[10]),p(r,"class","svelte-13ez18p"),p(e,"class","story svelte-13ez18p")},m(h,u){N(h,e,u),k(e,r),k(r,n),k(r,i),k(r,s),k(s,l),k(e,f)},p(h,u){u&1&&!Re(n.src,a="https://pudding.cool/common/assets/thumbnails/640/"+h[9]+".jpg")&&p(n,"src",a),u&1&&o!==(o=h[8]+"")&&ce(l,o),u&1&&c!==(c=h[10])&&p(r,"href",c)},d(h){h&&y(e)}}}function Al(t){let e,r,n,a=t[5].name.toUpperCase()+"",i,s;return{c(){e=M("li"),r=M("a"),n=M("span"),i=Y(a),s=L(),this.h()},l(o){e=C(o,"LI",{class:!0});var l=E(e);r=C(l,"A",{href:!0,target:!0,class:!0});var c=E(r);n=C(c,"SPAN",{class:!0});var f=E(n);i=Q(f,a),f.forEach(y),c.forEach(y),s=j(l),l.forEach(y),this.h()},h(){p(n,"class","svelte-13ez18p"),p(r,"href",t[5].url),p(r,"target","_self"),p(r,"class","svelte-13ez18p"),p(e,"class","svelte-13ez18p")},m(o,l){N(o,e,l),k(e,r),k(r,n),k(n,i),k(e,s)},p:re,d(o){o&&y(e)}}}function Xp(t){let e,r,n,a,i,s,o,l,c=`<a href="https://pudding.cool" target="_self" class="svelte-13ez18p">The Pudding</a>
			is a digital publication that explains ideas debated in culture with visual
			essays.`,f,h,u,d=Z(t[0]),m=[];for(let v=0;v<d.length;v+=1)m[v]=El(Pl(t,d,v));let g=Z(t[1]),_=[];for(let v=0;v<g.length;v+=1)_[v]=Al(Sl(t,g,v));return{c(){e=M("footer"),r=M("section");for(let v=0;v<m.length;v+=1)m[v].c();n=L(),a=M("section"),i=M("div"),s=new Gn(!1),o=L(),l=M("p"),l.innerHTML=c,f=L(),h=M("section"),u=M("ul");for(let v=0;v<_.length;v+=1)_[v].c();this.h()},l(v){e=C(v,"FOOTER",{class:!0});var w=E(e);r=C(w,"SECTION",{class:!0});var b=E(r);for(let R=0;R<m.length;R+=1)m[R].l(b);b.forEach(y),n=j(w),a=C(w,"SECTION",{class:!0});var T=E(a);i=C(T,"DIV",{class:!0});var P=E(i);s=Kn(P,!1),P.forEach(y),o=j(T),l=C(T,"P",{"data-svelte-h":!0}),Me(l)!=="svelte-qqs5dy"&&(l.innerHTML=c),T.forEach(y),f=j(w),h=C(w,"SECTION",{class:!0});var F=E(h);u=C(F,"UL",{class:!0});var W=E(u);for(let R=0;R<_.length;R+=1)_[R].l(W);W.forEach(y),F.forEach(y),w.forEach(y),this.h()},h(){p(r,"class","stories svelte-13ez18p"),s.a=null,p(i,"class","wordmark svelte-13ez18p"),p(a,"class","about svelte-13ez18p"),p(u,"class","svelte-13ez18p"),p(h,"class","links svelte-13ez18p"),p(e,"class","svelte-13ez18p")},m(v,w){N(v,e,w),k(e,r);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(r,null);k(e,n),k(e,a),k(a,i),s.m(Zp,i),k(a,o),k(a,l),k(e,f),k(e,h),k(h,u);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(u,null)},p(v,[w]){if(w&1){d=Z(v[0]);let b;for(b=0;b<d.length;b+=1){const T=Pl(v,d,b);m[b]?m[b].p(T,w):(m[b]=El(T),m[b].c(),m[b].m(r,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=d.length}if(w&2){g=Z(v[1]);let b;for(b=0;b<g.length;b+=1){const T=Sl(v,g,b);_[b]?_[b].p(T,w):(_[b]=Al(T),_[b].c(),_[b].m(u,null))}for(;b<_.length;b+=1)_[b].d(1);_.length=g.length}},i:re,o:re,d(v){v&&y(e),me(m,v),me(_,v)}}}function $p(t,e,r){let n,a=[];const s=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,o=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return it(async()=>{n=window.location.href;const c=await(await fetch(s)).json();r(0,a=c.filter(f=>!n.includes(f.url)).slice(0,4))}),[a,o,s]}class eg extends ie{constructor(e){super(),se(this,e,$p,Xp,ae,{})}}function Fl(t,e,r){const n=t.slice();return n[7]=e[r],n}function tg(t){let e,r,n=Z(t[2]),a=[];for(let s=0;s<n.length;s+=1)a[s]=Dl(Fl(t,n,s));const i=s=>D(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=X()},l(s){for(let o=0;o<a.length;o+=1)a[o].l(s);e=X()},m(s,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(s,o);N(s,e,o),r=!0},p(s,o){if(o&4){n=Z(s[2]);let l;for(l=0;l<n.length;l+=1){const c=Fl(s,n,l);a[l]?(a[l].p(c,o),S(a[l],1)):(a[l]=Dl(c),a[l].c(),S(a[l],1),a[l].m(e.parentNode,e))}for(te(),l=n.length;l<a.length;l+=1)i(l);ne()}},i(s){if(!r){for(let o=0;o<n.length;o+=1)S(a[o]);r=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)D(a[o]);r=!1},d(s){s&&y(e),me(a,s)}}}function Dl(t){let e,r;return e=new Np({props:{section:t[7]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){x(e,n,a),r=!0},p:re,i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){U(e,n)}}}function ng(t){let e,r,n,a,i,s,o,l,c,f,h="",u,d,m,g,_;e=new y1({}),n=new Zc({props:{options:t[2]}}),s=new Qp({props:{full:!1,showArrows:!0,enableKeyboard:!0,size:"50%"}}),s.$on("tap",t[3]);let v=t[2]&&tg(t);return d=new eg({}),{c(){K(e.$$.fragment),r=L(),K(n.$$.fragment),a=L(),i=M("div"),K(s.$$.fragment),o=L(),l=M("div"),v&&v.c(),c=L(),f=M("div"),f.innerHTML=h,u=L(),K(d.$$.fragment),this.h()},l(w){J(e.$$.fragment,w),r=j(w),J(n.$$.fragment,w),a=j(w),i=C(w,"DIV",{class:!0});var b=E(i);J(s.$$.fragment,b),b.forEach(y),o=j(w),l=C(w,"DIV",{class:!0,style:!0});var T=E(l);v&&v.l(T),T.forEach(y),c=j(w),f=C(w,"DIV",{class:!0,"data-svelte-h":!0}),Me(f)!=="svelte-1pjm434"&&(f.innerHTML=h),u=j(w),J(d.$$.fragment,w),this.h()},h(){p(i,"class","tap-wrapper svelte-1p4xu88"),ue(i,"tapVisible",t[0]),p(l,"class","inner svelte-1p4xu88"),$(l,"transform",t[1]),p(f,"class","texture svelte-1p4xu88")},m(w,b){x(e,w,b),N(w,r,b),x(n,w,b),N(w,a,b),N(w,i,b),x(s,i,null),N(w,o,b),N(w,l,b),v&&v.m(l,null),N(w,c,b),N(w,f,b),N(w,u,b),x(d,w,b),m=!0,g||(_=[Xe(dt.call(null,l)),de(l,"enter",t[4]),de(l,"exit",t[5])],g=!0)},p(w,[b]){(!m||b&1)&&ue(i,"tapVisible",w[0]),w[2]&&v.p(w,b),(!m||b&2)&&$(l,"transform",w[1])},i(w){m||(S(e.$$.fragment,w),S(n.$$.fragment,w),S(s.$$.fragment,w),S(v),S(d.$$.fragment,w),m=!0)},o(w){D(e.$$.fragment,w),D(n.$$.fragment,w),D(s.$$.fragment,w),D(v),D(d.$$.fragment,w),m=!1},d(w){w&&(y(r),y(a),y(i),y(o),y(l),y(c),y(f),y(u)),U(e,w),U(n,w),U(s),v&&v.d(),U(d,w),g=!1,Ie(_)}}}function rg(t,e,r){let n,a;q(t,kt,f=>r(6,a=f));let i=["slash","noncanon","realpeople"],s=!1;const o=async({detail:f})=>{f=="right"?a=="slash"?kt.set("noncanon"):a=="noncanon"&&kt.set("realpeople"):a=="realpeople"?kt.set("noncanon"):a=="noncanon"&&kt.set("slash")};function l(){r(0,s=!0)}function c(){r(0,s=!1)}return t.$$.update=()=>{t.$$.dirty&64&&r(1,n=a=="slash"||a==null?"translate(0vw, 0px)":a=="noncanon"?"translate(-96vw, 0px)":"translate(-192vw, 0px)")},[s,n,i,o,l,c,a]}class ag extends ie{constructor(e){super(),se(this,e,rg,ng,ae,{})}}function ig(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.13.0"),console.log("build: 2024-08-31-16:27"),console.log("--- --- --- --- --- ---")}function sg(t){let e,r,n,a;return e=new Jc({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),n=new ag({}),{c(){K(e.$$.fragment),r=L(),K(n.$$.fragment)},l(i){J(e.$$.fragment,i),r=j(i),J(n.$$.fragment,i)},m(i,s){x(e,i,s),N(i,r,s),x(n,i,s),a=!0},p:re,i(i){a||(S(e.$$.fragment,i),S(n.$$.fragment,i),a=!0)},o(i){D(e.$$.fragment,i),D(n.$$.fragment,i),a=!1},d(i){i&&y(r),U(e,i),U(n,i)}}}function og(t,e,r){let{data:n}=e;ig();const a=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:i,description:s,url:o,keywords:l}=Ae;return Zr("copy",Ae),Zr("data",n.data),t.$$set=c=>{"data"in c&&r(5,n=c.data)},[a,i,s,o,l,n]}class mg extends ie{constructor(e){super(),se(this,e,og,sg,ae,{data:5})}}export{jp as C,hc as I,mg as P,Bl as a,Kp as b,vl as d,ca as g};
